/*! For license information please see main.deb3b919.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ee)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,Et,It,St=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Dt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function jt(){St=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Nt&&Ut(Nt)&&(Nt=null),Rt.forEach(Vt),Dt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return En}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Rn),On=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Qn(e){Ur(e,0)}function Xn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Pr=Rr[Or];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Sr:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&jn(e,t)?(e=en(),$t=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ei(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ai=Ei(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ai),Ii(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Si(Ci,e),Si(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Si(Ci,e)):Ii(Ai),Si(Ai,n)}var Ui=null,Vi=!1,ji=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke($e,zi),i}finally{kt=t,ji=!1}}return null}var qi=[],Wi=0,Gi=null,Hi=0,Ki=[],Qi=0,Xi=null,Yi=1,Ji="";function Zi(e,t){qi[Wi++]=Hi,qi[Wi++]=Gi,Gi=e,Hi=t}function $i(e,t,n){Ki[Qi++]=Yi,Ki[Qi++]=Ji,Ki[Qi++]=Xi,Xi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===Xi;)Xi=Ki[--Qi],Ki[Qi]=null,Ji=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Di(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Di(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=Xa(!0),Ja=Xa(!1),Za={},$a=Ei(Za),eo=Ei(Za),to=Ei(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($a),Si($a,t)}function io(){Ii($a),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ii($a),Ii(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Uo,useDebugValue:Xo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:Xo,useDeferredValue:function(e){return Zo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:jo,useState:function(){return No(Co)},useDebugValue:Xo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ps,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ps,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ps,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ps,Os),Os|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ni:Ci.current;return a=Ri(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ri(t,c=Di(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ri(t,s=Di(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ou,Pu,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Yi,Ki[Qi++]=Ji,Ki[Qi++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),t=Vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Di(t.type)&&Oi(),Ku(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ou(e,t),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":H(r),$(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),$(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),Ou(e,t),null===e&&zr(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Je()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Ju=!1,Zu="function"===typeof WeakSet?WeakSet:Set,$u=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Ju&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,ds(e,t,n),Ju=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ic(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Je())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,ms(t,e),Ju=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($u=e,f=e.child;null!==f;){for(h=$u=f;null!==$u;){switch(p=(d=$u).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,$u=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){$u=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Yu;var c=Ju;if(Yu=o,(Ju=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,$u=s):_s(i);for(;null!==a;)$u=a,bs(a,t,n),a=a.sibling;$u=i,Yu=u,Ju=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ws(e)}}function ws(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&as(t)}catch(d){Ic(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function xs(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function _s(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var Es,Is=Math.ceil,Ss=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Rs=null,Ds=0,Os=0,Ps=Ei(0),Ls=0,Ms=null,Fs=0,Us=0,Vs=0,js=null,Bs=null,zs=0,qs=1/0,Ws=null,Gs=!1,Hs=null,Ks=null,Qs=!1,Xs=null,Ys=0,Js=0,Zs=null,$s=-1,ec=0;function tc(){return 0!==(6&As)?Je():-1!==$s?$s:$s=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Js)throw Js=0,Zs=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(Us|=n),4===Ls&&sc(e,Ds)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Je()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&As)&&zi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($s=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Ds===t||(Ws=null,qs=Je()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ss.current=o,As=i,null!==Rs?t=0:(Ns=null,Ds=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bs,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bs,Ws),t);break}xc(e,Bs,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bs,Ws),r);break}xc(e,Bs,Ws);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&uc(t)),e}function uc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sc(e,t){for(t&=~Vs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bs,Ws),ic(e,Je()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Je()+500,Vi&&zi())}}function fc(e){null!==Xs&&0===Xs.tag&&0===(6&As)&&_c();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&zi()}}function hc(){Os=Ps.current,Ii(Ps)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Rs=e=Pc(e.current,null),Ds=Os=t,Ls=0,Ms=null,Vs=Us=Fs=0,Bs=js=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Us)||sc(Ns,Ds)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Ds===t||(Ws=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Ss.current=r,null!==Rs)throw Error(a(261));return Ns=null,Ds=0,Ls}function gc(){for(;null!==Rs;)bc(Rs)}function kc(){for(;null!==Rs&&!Xe();)bc(Rs)}function bc(e){var t=Es(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):Rs=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Os)))return void(Rs=n)}else{if(null!==(n=Xu(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Xs);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Rs=Ns=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Ye(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,Xs=e,Ys=i),o=e.pendingLanes,0===o&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Hs,Hs=null,e;0!==(1&Ys)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Zs?Js++:(Js=0,Zs=e):Js=0,zi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==Xs){var e=bt(Ys),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Xs)var r=!1;else{if(e=Xs,Xs=null,Ys=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(os(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var b=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,$u=b;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(As=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ec(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ds&n)===n&&(4===Ls||3===Ls&&(130023424&Ds)===Ds&&500>Je()-zs?dc(e,0):Vs|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Dc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Dc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Si(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0===(6&As)&&(qs=Je()+500,zi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,I=null,S=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(E=!1,I=null)}}else E=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=N,_=function(){D.postMessage(null)}}else _=function(){y(N,0)};function O(e){I=e,E||(E=!0,_())}function P(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".a9e53076.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="2023edcan:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunk_2023edcan=self.webpackChunk_2023edcan||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0;var r={};!function(){"use strict";n.d(r,{RZ:function(){return QD},tO:function(){return XD}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return ri},SDK_VERSION:function(){return ha},_DEFAULT_ENTRY_NAME:function(){return $i},_addComponent:function(){return ra},_addOrOverwriteComponent:function(){return ia},_apps:function(){return ta},_clearComponents:function(){return sa},_components:function(){return na},_getProvider:function(){return oa},_registerComponent:function(){return aa},_removeServiceInstance:function(){return ua},deleteApp:function(){return ma},getApp:function(){return pa},getApps:function(){return va},initializeApp:function(){return da},onLog:function(){return ka},registerVersion:function(){return ga},setLogLevel:function(){return ba}});var t,i=n(791),a=n.t(i,2),o=n(250);function u(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||c(e,t)||l()}function h(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return s(e)}(e)||h(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){var t=x();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function I(e,t,n){return I=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&k(i,n.prototype),i},I.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},S(e)}function T(e){return u(e)||h(e)||c(e)||l()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,R="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function P(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:L(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(A({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(R,v),h=e,function(){u.removeEventListener(R,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=P(y.location,e,n);r&&r(i,e);var a=O(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=P(y.location,e,n);r&&r(i,e);var a=O(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}function U(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=X(i[o],J(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ee([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),V(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(j(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function j(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=j(i.join("/")),s=[];return s.push.apply(s,d(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,d(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));var B=/^:\w+$/,z=3,q=2,W=1,G=10,H=-2,K=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=H),t&&(r+=q),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(B.test(t)?z:""===t?W:G)}),r)}function X(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Y({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ee([i,l.pathname]),pathnameBase:te(ee([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ee([i,l.pathnameBase]))}return a}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);$("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return $(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function J(e){try{return decodeURI(e)}catch(t){return $(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function $(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}var ee=function(e){return e.join("/").replace(/\/\/+/g,"/")},te=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ne=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(S(Error));function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ie=["post","put","patch","delete"],ae=(new Set(ie),["get"].concat(ie));new Set(ae),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}var ue="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},se=i.useState,ce=i.useEffect,le=i.useLayoutEffect,fe=i.useDebugValue;function he(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ue(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,a.useSyncExternalStore;var de=i.createContext(null);var pe=i.createContext(null);var ve=i.createContext(null);var me=i.createContext(null);var ye=i.createContext(null);var ge=i.createContext({outlet:null,matches:[]});var ke=i.createContext(null);function be(){return null!=i.useContext(ye)}function we(){return be()||D(!1),i.useContext(ye).location}function xe(){var e=function(){var e,t=i.useContext(ke),n=Ce(Ee.UseRouteError),r=Ae(Ee.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=re(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}var _e,Ee,Ie=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(ge.Provider,{value:this.props.routeContext},i.createElement(ke.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(i.Component);function Se(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(de);return a&&a.static&&a.staticContext&&n.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ge.Provider,{value:t},r)}function Te(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,a=null==n?void 0:n.errors;if(null!=a){var o=r.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||D(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||i.createElement(xe,null):null,l=t.concat(r.slice(0,u+1)),f=function(){return i.createElement(Se,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===u)?i.createElement(Ie,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Ce(e){var t=i.useContext(pe);return t||D(!1),t}function Ae(e){var t=function(e){var t=i.useContext(ge);return t||D(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||D(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(_e||(_e={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ee||(Ee={}));var Ne;function Re(e){D(!1)}function De(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;be()&&D(!1);var d=r.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=M(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,E=v.key,I=void 0===E?"default":E,S=i.useMemo((function(){var e=Z(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:_,key:I}}),[d,y,k,w,_,I]);return null==S?null:i.createElement(me.Provider,{value:p},i.createElement(ye.Provider,{children:o,value:{location:S,navigationType:c}}))}function Oe(e){var n=e.children,r=e.location,a=i.useContext(de);return function(e,n){be()||D(!1);var r,a=i.useContext(me).navigator,o=i.useContext(pe),u=i.useContext(ge).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,we());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||D(!1),r=d}else r=f;var p=r.pathname||"/",v=U(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Te(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ee([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ee([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,o||void 0);return n&&m?i.createElement(ye.Provider,{value:{location:oe({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Le(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ne||(Ne={}));var Pe=new Promise((function(){}));i.Component;function Le(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,r){if(i.isValidElement(e))if(e.type!==i.Fragment){e.type!==Re&&D(!1),e.props.index&&e.props.children&&D(!1);var a=[].concat(d(t),[r]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Le(e.props.children,a)),n.push(o)}else n.push.apply(n,Le(e.props.children,t))})),n}function Me(e){var t,n=e.basename,r=e.children,a=e.window,o=i.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),F((function(e,t){var n=e.location;return P("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,t)));var u=o.current,s=f(i.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return i.useLayoutEffect((function(){return u.listen(l)}),[u]),i.createElement(De,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:u})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Fe,Ue;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Fe||(Fe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ue||(Ue={}));function Ve(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var je=n(441),Be=n(613),ze=n.n(Be);var qe=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,x=0,_=0,E=0,I=0,S=0,D=0,P=v=d=0,M=0,F=0,U=0,V=0,j=s.length,B=j-1,z="",q="",W="",G="";M<j;){if(p=s.charCodeAt(M),M===B&&0!==_+I+E+x&&(0!==_&&(p=47===_?10:47),I=E=x=0,j++,B++),0===_+I+E+x){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,V=++M;M<j;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(P=M+1;P<B;++P)switch(s.charCodeAt(P)){case 47:if(42===p&&42===s.charCodeAt(P-1)&&M+2!==P){M=P+1;break e}break;case 10:if(47===p){M=P+1;break e}}M=P}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(V,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=R}if(V=(v=t(r,F,v,p,h+1)).length,0<O&&(b=u(3,v,F=n(R,z,U),r,C,T,V,p,h,c),z=F.join(""),void 0!==b&&0===(V=(v=b.trim()).length)&&(p=0,v="")),0<V)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,U),v,c,h+1);W+=v,v=U=F=P=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(V=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===P&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(V=(z=z.replace(" ",":")).length),0<O&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(V=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){G+=z+s.charAt(M);break}default:58!==z.charCodeAt(V-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}U=F=P=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<O*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+I+E+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===I+x+_)switch(S){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===I+_+x&&(F=U=1,m="\f"+m);break;case 108:if(0===I+_+x+A&&0<P)switch(M-P){case 2:112===S&&58===s.charCodeAt(M-3)&&(A=S);case 8:111===D&&(A=D)}break;case 58:0===I+_+x&&(P=M);break;case 44:0===_+E+I+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+E&&x++;break;case 93:0===I+_+E&&x--;break;case 41:0===I+_+x&&E--;break;case 40:if(0===I+_+x){if(0===d)if(2*S+3*D===533);else d=1;E++}break;case 64:0===_+E+I+x+P+v&&(v=1);break;case 42:case 47:if(!(0<I+x+E))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:V=M,_=42}break;case 42:47===p&&42===S&&V+2!==M&&(33===s.charCodeAt(V+2)&&(q+=s.substring(V,M+1)),m="",_=0)}}0===_&&(z+=m)}D=S,S=p,M++}if(0<(V=q.length)){if(F=r,0<O&&(void 0!==(b=u(2,q,F,e,C,T,V,c,h,c))&&0===(q=b).length))return G+q+W;if(q=F.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return G+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<O;++h)switch(f=D[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!==typeof e?N=1:(N=2,P=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<O&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,R=[],D=[],O=0,P=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=D.length=0;break;default:if("function"===typeof t)D[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},We={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Ge=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},He=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ke=Ge((function(e){return He.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Qe=n(110),Xe=n.n(Qe);function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Je=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Ze=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,je.typeOf)(e)},$e=Object.freeze([]),et=Object.freeze({});function tt(e){return"function"==typeof e}function nt(e){return e.displayName||e.name||"Component"}function rt(e){return e&&"string"==typeof e.styledComponentId}var it="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",at="undefined"!=typeof window&&"HTMLElement"in window,ot=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var st=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&ut(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),ct=new Map,lt=new Map,ft=1,ht=function(e){if(ct.has(e))return ct.get(e);for(;lt.has(ft);)ft++;var t=ft++;return ct.set(e,t),lt.set(t,e),t},dt=function(e){return lt.get(e)},pt=function(e,t){t>=ft&&(ft=t+1),ct.set(e,t),lt.set(t,e)},vt="style["+it+'][data-styled-version="5.3.6"]',mt=new RegExp("^"+it+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),yt=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},gt=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(mt);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(pt(c,s),yt(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},kt=function(){return n.nc},bt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(it))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(it,"active"),r.setAttribute("data-styled-version","5.3.6");var o=kt();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},wt=function(){function e(e){var t=this.element=bt(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}ut(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),xt=function(){function e(e){var t=this.element=bt(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),_t=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Et=at,It={isServer:!at,useCSSOMInjection:!ot},St=function(){function e(e,t,n){void 0===e&&(e=et),void 0===t&&(t={}),this.options=Ye({},It,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&at&&Et&&(Et=!1,function(e){for(var t=document.querySelectorAll(vt),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(it)&&(gt(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return ht(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ye({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new _t(i):r?new wt(i):new xt(i),new st(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(ht(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(ht(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(ht(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=dt(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=it+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Tt=/(a)(d)/gi,Ct=function(e){return String.fromCharCode(e+(e>25?39:97))};function At(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ct(t%52)+n;return(Ct(t%52)+n).replace(Tt,"$1-$2")}var Nt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Rt=function(e){return Nt(5381,e)};function Dt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(tt(n)&&!rt(n))return!1}return!0}var Ot=Rt("5.3.6"),Pt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Dt(e),this.componentId=t,this.baseHash=Nt(Ot,t),this.baseStyle=n,St.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Zt(this.rules,e,t,n).join(""),o=At(Nt(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=Nt(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=Zt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Nt(c,p+f),l+=p}}if(l){var v=At(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Lt=/^\s*\/\/.*$/gm,Mt=[":","[",".","#"];function Ft(e){var t,n,r,i,a=void 0===e?et:e,o=a.options,u=void 0===o?et:o,s=a.plugins,c=void 0===s?$e:s,l=new qe(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Mt.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(Lt,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||ut(15),Nt(e,t.name)}),5381).toString():"",p}var Ut=i.createContext(),Vt=(Ut.Consumer,i.createContext()),jt=(Vt.Consumer,new St),Bt=Ft();function zt(){return(0,i.useContext)(Ut)||jt}function qt(){return(0,i.useContext)(Vt)||Bt}function Wt(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=zt(),o=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return Ft({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){ze()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(Ut.Provider,{value:o},i.createElement(Vt.Provider,{value:u},e.children))}var Gt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Bt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return ut(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Bt),this.name+e.hash},e}(),Ht=/([A-Z])/,Kt=/([A-Z])/g,Qt=/^ms-/,Xt=function(e){return"-"+e.toLowerCase()};function Yt(e){return Ht.test(e)?e.replace(Kt,Xt).replace(Qt,"-ms-"):e}var Jt=function(e){return null==e||!1===e||""===e};function Zt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=Zt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Jt(e)?"":rt(e)?"."+e.styledComponentId:tt(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:Zt(e(t),t,n,r):e instanceof Gt?n?(e.inject(n,r),e.getName(r)):e:Ze(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Jt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||tt(t[o])?a.push(Yt(o)+":",t[o],";"):Ze(t[o])?a.push.apply(a,e(t[o],o)):a.push(Yt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in We?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var $t=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function en(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return tt(e)||Ze(e)?$t(Zt(Je($e,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:$t(Zt(Je(e,n)))}new Set;var tn=function(e,t,n){return void 0===n&&(n=et),e.theme!==n.theme&&e.theme||t||n.theme},nn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,rn=/(^-|-$)/g;function an(e){return e.replace(nn,"-").replace(rn,"")}var on=function(e){return At(Rt(e)>>>0)};function un(e){return"string"==typeof e&&!0}var sn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},cn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ln(e,t,n){var r=e[n];sn(t)&&sn(r)?fn(r,t):e[n]=t}function fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(sn(o))for(var u in o)cn(u)&&ln(e,o[u],u)}return e}var hn=i.createContext();hn.Consumer;var dn={};function pn(e,t,n){var r=rt(e),a=!un(e),o=t.attrs,u=void 0===o?$e:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":an(e);dn[n]=(dn[n]||0)+1;var r=n+"-"+on("5.3.6"+n+dn[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return un(e)?"styled."+e:"Styled("+nt(e)+")"}(e):l,h=t.displayName&&t.componentId?an(t.displayName)+"-"+t.componentId:t.componentId||c,d=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;r&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new Pt(n,h,r?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=et);var r=Ye({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in tt(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(tn(t,(0,i.useContext)(hn),u)||et,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=zt(),a=qt();return t?e.generateAndInjectStyles(et,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=un(y),k=p!==t?Ye({},t,{},p):t,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,Ke,y):!g||Ke(w))&&(b[w]=k[w]));return t.style&&p.style!==t.style&&(b.style=Ye({},t.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,i.createElement)(y,b)}(v,e,t,y)};return g.displayName=f,(v=i.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):$e,v.styledComponentId=h,v.target=r?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(un(e)?e:an(nt(e)));return pn(e,Ye({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?fn({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&Xe()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var vn=function(e){return function e(t,n,r){if(void 0===r&&(r=et),!(0,je.isValidElementType)(n))return ut(1,String(n));var i=function(){return t(n,r,en.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Ye({},r,{},i))},i.attrs=function(i){return e(t,n,Ye({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(pn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){vn[e]=vn(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Dt(e),St.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(Zt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&St.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=kt();return"<style "+[n&&'nonce="'+n+'"',it+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?ut(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return ut(2);var n=((t={})[it]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=kt();return r&&(n.nonce=r),[i.createElement("style",Ye({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new St({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?ut(2):i.createElement(Wt,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return ut(3)}}();var mn,yn,gn,kn,bn,wn,xn,_n,En,In,Sn,Tn,Cn,An,Nn,Rn,Dn,On,Pn,Ln,Mn,Fn,Un,Vn,jn,Bn,zn,qn,Wn,Gn,Hn,Kn,Qn,Xn,Yn,Jn,Zn,$n,er,tr,nr,rr,ir,ar,or,ur,sr,cr,lr,fr,hr,dr=vn,pr=n(184),vr="\n  background-size: 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n",mr=(dr.div(mn||(mn=Ve(["\n  width: 31px;\n  height: 28px;\n  background-image: ",";\n  ","\n  margin-right: 32px;\n"])),(function(e){return e.backgroundImg}),vr),dr.div(yn||(yn=Ve(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 1280px;\n  height: 60px;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),dr.div(gn||(gn=Ve(["\n  margin-right: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-weight: ",";;\n"])),(function(e){return e.strong})),dr.div(kn||(kn=Ve(["\n  border: ",";\n  border-radius: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px 16px;\n  width: 37px;\n  height: 37px;\n  margin: 2px;\n  background-image: ",";\n  ","\n  background-size: 45%;\n  cursor: pointer;\n  margin-left: 12px;\n"])),(function(e){return e.border}),(function(e){return e.image}),vr),dr.div(bn||(bn=Ve(["\n  width: 12px;\n  height: 8px;\n  background-image: ",";\n  ","\n  cursor: pointer;\n  margin-left: 10px;\n"])),(function(e){return e.image}),vr),dr.div(wn||(wn=Ve(["\n  display: flex;\n"]))),dr.div(xn||(xn=Ve(["\n  border: ",";\n  border-radius: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px 16px;\n"])),(function(e){return e.border})),dr.div(_n||(_n=Ve(["\n  width: 100%;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  padding-right: 32px;\n  padding-left: 32px;\n  position: fixed;\n  background-color: ",";\n  color: ",";\n  border-bottom: ",";\n"])),(function(e){return e.backgroundColor}),(function(e){return e.color}),(function(e){return e.border})),dr.div(En||(En=Ve(["\n  width: 384px;\n  height: 512px;\n  border-radius: 12px;\n  background-image: url(",");\n  background-size: cover;\n  background-repeat: no-repeat;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n"])),(function(e){return e.bgImage})),dr.div(In||(In=Ve(["\n  text-align: left;\n  color: white;\n  padding: 32px;\n"]))),dr.div(Sn||(Sn=Ve(["\n  font-size: 48px;\n  font-weight: 700;\n  margin-bottom: 12px;\n"]))),dr.div(Tn||(Tn=Ve(["\n  font-size: 18px;\n  line-height: 150%;\n  font-weight: 500;\n"]))),dr.div(Cn||(Cn=Ve(["\n  width: 592px;\n  height: 512px;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  background-color: #F7F8F9;\n"]))),dr.div(An||(An=Ve(["\n  font-size: 48px;\n  font-weight: 700;\n  margin-bottom: 12px;\n"]))),dr.div(Nn||(Nn=Ve(["\n  text-align: left;\n  color: 425563;\n  padding: 32px;\n"]))),dr.div(Rn||(Rn=Ve(["\n  font-size: 18px;\n  line-height: 150%;\n  color: #768692;\n  font-weight: 500;\n"]))),n.p,dr.div(Dn||(Dn=Ve(["\n  height: 1904px;\n  width: 100%;\n  background-color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 32px;\n  padding-right: 32px;\n"]))),dr.div(On||(On=Ve(["\n  height: 1456px;\n  width: 1216px;\n  display: flex;\n  align-items: space-between;\n  justify-content: space-between;\n  flex-direction: column;\n"]))),dr.span(Pn||(Pn=Ve(["\n  color: #425563;\n  font-size: 15px;\n  height: 200px;\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),dr.span(Ln||(Ln=Ve(["\n  font-weight: 600;\n  font-size: 24px;\n  text-align: left;\n"]))),dr.span(Mn||(Mn=Ve(["\n  text-align: left;\n  line-height: 150%;\n"]))),dr.div(Fn||(Fn=Ve(["\n  width: 1216px;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n"]))),dr.div(Un||(Un=Ve(["\n  width: 100%;\n  height: 230px;\n  background-color: #F7F8F9;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),dr.div(Vn||(Vn=Ve(["\n  width: 1216px;\n  height: 143px;\n  display: flex;\n  justify-content: center;\n  color: #768692;\n  align-items: center;\n"]))),dr.div(jn||(jn=Ve(["\n  display: flex;\n  flex-direction: column;\n"]))),dr.div(Bn||(Bn=Ve(["\n  background-size: 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-image: url(",");\n  width: 120px;\n  height: 20px;\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAd0AAABQCAYAAABcZK/cAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABW7SURBVHgB7Z1bUhtJ1oBPVgnM+H/4NTuQV2CzgoEVNKzA+HFixgYixsLgh5ZjwgjjBzC4Yx7BKzC9AugVmF4BzApGE/YwXFSZk6dKRRtaUp2siyqz6nwRhI0Q6FaZX568nCPAMl519+cUiKcAck4paEW3ilMh9BeoT1vrz08gI5N4DIZhGIa5jwBLeNX9R0tB/0ApNTf+nuLUE43FrfU/n0NBjyE8cSRUYzXNY7hOp3PQvHzw7QlUAM/3epvtv5wO+xkOvKAE8DnJwOvV8doyJboWL5sA/dawn+N7OX3x8LzTedYD5g6dzk6z01nl92VCoFtGXaffg9esFdJ9uf3TE9EPjvV/m8RfOX94HcyaXFRpHsMTU/N16xxRRlKpY6gAeubi5N368/n7t7/q7rSk8s+gfHo4uwJKnEolf52a8k9HDRKqTDzQ09fdEyG8x4MZKGynpLaKn7MOH3oqkL/qGaxz3xPndZ+term5f/x/1/1Fm8Xb3txbaTT8kypc8+23Hzr6Qvwx6X5CwGEDSiaFDEE3yDcFCxfRHfPNsR7B1E68zMRoRrMuak43Ruj3A+yIzrV4Tqq+zIGivZj+uqSF+cOF+joHKrpdKQmmhO8h/r4QCxhFaHn31rr7p1KqT+9fvziEmjEYOM/9Z8pf0N8egq0o1dTX/PHG9k/zdRpselAiKYX7zKQhpRRuTCzeFjDMZGhp8SzhbIMW8Nla9+NBla4/FIIW4rEW7r/0tzvJy0mpCAczeiBzoN9Dhe9jWcsJZaDHH2HEpV9/YuRlAbF4K7GkRaE06Tog3BgWL1MWAwHfOC/fl929pXZ37wwHEwWJdhytwSDmX6/086hyWw73rfz2/rYcGWzUSrylSNch4caweJlScVW+2OmjbIWCA7g9KVAaTamfB26mfPl2bwkqiILgx7vfOxHtIrUR78Sl66BwY1i8TOkM5HtsuzSwneA0crgpr3zZ3iGeesbnV62p+3+EMyPf34av1aGp9VqId6LSdVi4MSxexgZakTTsjHrXtvaXdTv5UsI0shH4/FwYwFC5H+X+drsz0S5SefFOTLr2ClecRl9kWLyMFcRRry0dFO5I1uumO0qqXShm0FsE0QBm6+MOOMywKDfGsWgXqbR4JyJdW4WLj7G98XwWv/S3q0CHxcvYQkt3UF/wzCOUCLaFi+lv2P5KfR5pUVKuRLuc3WzTEvpPx/3csWgXqax4C5euzcL9/jG2N17segKeAR0WL2MTO+3ufikdK7YBCTe6/SnXO0gn2/RKZ0f3e2pp3H2iaNe5vqqS4i00OYYrwo3ZWn9x+Kq7B7jDEWjUOYHGuR6oPIKKo19j7lnb4s4v8GXTC+ROlH1J4W3ZpmSV6mjxwvb68zcwIW6Fm9tmKXEqlPxFeJilS/Q80Tidubrs3U+Gg2kO//NwuiX6sqXvPwee9zinNWRs019cStgw9cBfoLz/Sl7jLIRrMxGVS6BRWBpI14T7PXiWz0C8SGVSRhqkgXRWuiZpIIuQ7jDwOQH4YSEOLQ8c2acXsBCdSYg3L+FiGkfMwDVzFRxlTVvY3txf0JOt+ks8hWz0Gg3fiY4ej2QRP4Pew+vgkS2pIampEwdY/XmYpIEsZHrZZeEiGPHyVDMzSbbWV8/xusNc0Z4Qi/qmI0hLFPEWOtWcg3B7QqkPqhHM4mvG156HDLY3nh9tbywvabn8Ub8Pb3Qndw7pCCMs29s0Jh0x+AyaF1Oek2vuUKGp5tyl67pwY1i8TFlgzmUdYS8qFcyGyfzToMW7vvkxa7Q3FNylnEW4+Jow4nr3ennlfXu1kMgFBb79erkjIJjXb8YnSEfT9jYtTDdICbHcCdeAnaQS4s1VulURbgyLlymT969XT6MqScFimogtALmbdweFm3bCXcophCvCZRgxj69pUlOcOIOAka9+9MWUUa9u0/3PYCGGUW6My9Eu4rx4c5Nu1YQbw+JlymZ7Y/UII7YU0sAO6nOekc30g8Zyul3K6tMfroPZsion4bTzH66CWb1e/gGMUU9sPMfrpV23djvaRZwWby7SrapwY1i8TNlgxJZSvK3/zkzlsr778q3u5PS0NRiCa7cYbZa9gQcf/72e0gazM/kheI7XpgQT+Fwy7NbWsxX+EriNs+LNLN2qCzeGxcuUTVrx5iEMnFYWXmA+zarUm3eR6KwBz+TjdLP+r9EgQCp1YEuEKBUsQzay/r4NOCneTNKti3BjWLxM2aQVb1ZhTE/7PxqvH2rh4mYmsBCcblYNX6+XG4m3ZcN6aNSfqAXIhitl/5JwTryppVsV4bY3Pz41+cBYvEzZpBRvamGE164As07eYuHGvI/OfJqdZ9broWW35VGFDcz/jnOpIUfhlHhTSbdKwtUxwKHpB8biZcoGxSt932yKNOUGGgU3RlFuuIZruXBjcKrZcHNVMy/ppWFcYQNTHCyEMA5nxGss3aoJd/Btk8XLuAZGavoaNNkUZHxcBDdP6ba1RL0/HguybQ03CdxcZXIeGqVX1touXfi0s8kVinYRJ8RrJN2KCjeGxcs4B16DRpGaYbQrRN9EoD0hMBmFewjoYzsmzxqUsbZLjXJx4PPwWq5QSpZWLNpFrBcvWboVF24Mi5dxjpsb2QG6MMjRbtQZix+Azhuc9gYHGTxv+vpuCWddk8r33SLgJDqeVctoF7FavCTp1kS4MSxexil2o/OvBsLwSCKVUs4BsT2KqADGLjgMPn+DzWkTPetKKd8XIyAIr4Xr6+AQCIMx28v+pcwkZq14E6VbM+HGNIO+2ZlEFi9TJmbCUE9IU4pEOYd3VYa7gC0Fd4VjqkraV3AEE4Javg+r2MSzDeFgjLj0MCj7Zysnhn1rjJXiHVtPt6bCRXqyESyCIVyPlykTHW2+0VOFpGtvEMWejPo5tkvoB6TOCqPcrQLOxZfBQFjnYBnUwga+H9yR7PWN3J2e9jERxtj+VQnxVE+Xd2wp+3efFH1rjHX1eEdGunUWrmoE82mrn3DEy5TF5VUYeZE6TeF5fxr785v+AhCpSpRrK9TCBrgDe/NevxUtPaifIRnrCyGk6FtjrIp4h0qXhZut3BiLlykD7GD1+hxt84xexxu3EShJynfwghNgCoMa5Qo5/LP3hHcIpD9gfyGEKoj3d9Jl4eZT35PFy5SB73nkdcar6cbcqJ8pUC0gIIT62dUdyy5AjnLHTPFjZSfiOWQnyv65Lt47a7os3HwLald8jbe51v1our4yUZSSv7q+o9YU7GDbm3s4xZzYvgIlsfP5naRx4KevwxYQEFJMbDNRHcHyfQoP9SSQNMU/WO+fg8Q/FEa7u7au7cZg39p++6Gln6/pcafS13hvpcvCpQu30zlodjrPSBdlhcXbzCsdXVEMRve1km4Evu7khPjCgxEj/ps5IOJNBVZsTqkiuMNcEsr3YZQ7czN+JzUOxta6e+cqOWqOj0JZ324w1agWL7gm3nB6GUe2IgiPyLBwCY9xMf31jM/xMvaifiHdS4nHw2/3HgON3mbOs0PMbyhqkfrbZBgJf08BNXOZM2X/whzfSqXZyFfaVHMoXan6n00SmtdZuIPHmEgCDQV9q6dvGTtRgp6dauitgpgQQwgWbkGYFDaIk2EkQU2WoWm1N/cTZ0pswTXxetEheUV+UBbuLYWLt4J5UZlJIH3qdd3MtltV/huYQqAWNvg+GUYSJsky9N91qsi9S+L1yFMYwMId8qPixSulMyNOxg5875q8CebywbC2Sdu5DNK+JBJVwCzKFaQjYjGYLINyPxcH/K6I19NvLvWBVlm4Q0klXv0PrSSbMDgvyTBwm1WpcJRJLV+GDD3KFSe4QQoM2K14IQQXxOtRppbxwzU5elEj4cYYf2Dh+0nIlUs9L8kwjPsYRblSGUW5MdRkGa4ub9kuXlppP0WXZxocF+4tN3ANDMMwaaGW78uS79ogWYazZf9sFq9HjLaerIcSovG+/ZdT1fDngVRWqhLCNX6Mta39ZVqmGXEODDNBdJvkaePSIJbvy5jvWhBLQdpe9m8ctoq3oZ/UL/ojaCXdMdAS0uKF7sZfSVMaKF49zTw/bpq5rsLFx1CStqFBty5bj2X0hKCnHCwDVdMBy0rm/Lm4K1kk3ktAsTNgdcMk5WPWfNcGyTLiNeY0aRdLx8YEGg2c35dKkaLYPMVbZ+GaPIbp7sQJ0nu3/lcnG2LVmXkATZmcOTAk06YrT/w/MLlBLWyAyTDy2Cw3SJaxk3w/udDp7KzanhpyFLaJ1zOZ30cG4s001czCpRGdwTPbncgweizdIt5xeCeqiEeBlJjY2caqQ41yEWoyjCQMkmU4UQhhHDZNNYcbqQT0MWIhj2KyiJeFSwOnkPJqXEy9kMRjgKP2CyiPNi3PO+vzg1y+zyAZRhImyTJcKPuXhC3iDaWLHyJ141NMGvE+vA4esXCTCYUrgnkumcakg3j2Xsh/Dr3dIKPVq+5OC5hMmEW5+S43UZNlQAWiXQTFq6gDjbvkJt7bKkOUjU/3MV3jNVkTYOGycJm00LLMKQlDr+Obm+vz6WkfKATSn9P/HAKTGnL5PohyXed9dlY/8okiVDNypexfEu9fL6+0Nz80wSAb44Bc1njvnNM1OeoTYxrxUmDhsnCZdLx8Sx+J+8Ibei2H046Ctq7recklBJnRoEBJwoPo6KZeOjjO+4v6+FCRaBfZ3lheombmukfmiPd3yTHKFi8Ll4XLpEdAnyxBJfqjr2dFLg/4J9fX+spEmUdb5SIce75jKEu8QzNSlSVeFi4Ll8mIR+sUcapy3PWm6Cca4qLnjCEmKR8tovXyrV6DrghliHdkGshJi5eFy8JlshHWQKXWxVZybCR7cxUcAREhxA/AGEMtbGAbnledaBeZtHjH5l6elHhZuCxcJjsm8hPe+GxiuK5Lzs/LdZ+NcTTKDani551VvML3HlN/IbHgQdHiZeGycJns/O3vuCGHWoMVzilJV3Tn+jMQUY4mxi8LV6PcmCp+3lnEqyR9QyGpylBR4mXhsnCZ7HQ6B02voQ6o96cmyzfIWBRGP+3NvUrsbC0al6PcmKrObkTiFamPA1GglfaD/MXLwmXhMvnw35lvT8lruQgxWT5OMevO1WTk/6OrFWkmCbV8n+1UdXbj+ro/X6R4ydJF8hIvC5eFy+RDGDVJtUu9v2kaQd8jZyxCmgr65Ii7vtDK99kORrtFF3wvAxxsFileI+kiWcXLwmXhMvmAwpVwc2zyO6b5vKPrlR7thtPM3X1e3x2BUcpHgX1GOV9AJAjUMlSQIsXbgBSkTRm51v04Z7iWwcJlmCHgOu6F+vZZ/7dF/Z20yfI9ITtS+bgzmpYEQ6mOHmSfU9PD1glyYQPdZ7xbf/EISmKtu0/KVIX9uctl/8aB4l3p7MxPTzeOyfnMCRhHujFpIl4WLsNkJxTu9DejjiBL1arw2jVMEl9EeljXMYpyiZvdikJfL+THr0pqyGEUEfGmli6SRrxEWLgMM4Q0wkWwE89yHWI1GpNpR4TFexeTKHfLoBpbEURHyoiiqUDZv3HkLd5M0kUKEC8Ll2GGgGu4Fw++fjEWLk4rZ+zEw2QZIJ6BIShePkpkFuXqzuMErIC8ll+ZQgijyFO8maWL5CheFi7DDAHPRIabpkyOBkG2aeX7YPSTshbpTt03V3kGhQ3y+ryyYnJOu+rRLoLi9UR/0XTG5z65SBfJQbwsXIYZgo4Ud7AEm6lwEdkIFvO8FrEWKTU95B2U6ujXcVbHc7wm5fvSbnYrgrDEI32QVfloF8HPRg+K5rOINzfpIhnEy8JlmHtgZ93u7p3p/6btzFZNrncqV1epR/stqW7OMOqtk3yVg1FuDK7lg0G0CzUgq3hzlS6SUrzNRn+KnDCahctUGZQtHtlIG92GKPVme+PFLhRAtL6bYbSvo14t3+M6yNck5SPOINjWf4TRLpBzcDerVPZvHFnEm7t0kSKLJLBwmSqCu5JRQrFsqdORQ0Hhvl7uQIHgtS59fxHSLye1BvI9W+t+PKhqlSKTwgZCpkq2Xzie8A7J961Y2b9xpBWvgAJ5uf3TE5MEGogP3tKoQ/Us3OIJN+xghJXMuY6kSju8n4VX3R09zemfUe6rX2PubQQFe/3woiWD4IlS3mMFKNicDt9PQLjfg23cC4LPKm1Efpee8MSJkuoXT4hTz/d6m3oAD44SZgzTgwrKfcNkGBa3J2qyDER/dvOUKlbttx86OrxPHJTgOve79RfGO+cnBfYnCvxjShvA15IqIxWVtJmrdMQL98XLwrWO1lq03mgzJ1kba96vERvmBXwF6Me3SMiNCQsXwTauO515ELROJ4G4RNqCHviB7Ae4iQxv7+nOKu9cALmhn/OnYe+7UZRbcjKMJDBZhgKYo9x3UAjhBGoC9v8mbaBQ6SJpxasb2x/jNSkWrp3kFN0Uhl4ja0FGbH+N37GqO/5C1nCTMO10UtDUf9fa4yiNKXl0/7ZBlLsEBGxIhpEERq7tzf1TyoxMXPaPEu1WBZM2UMia7n1Sbq7awSkN/UF/YeEyzHDwWsTpvKI2TVHBtnB1FcymLALuLLj5aXNIX2NUvs+aZBhJGBS+qGjZv3FQ13gnIl0kXa5m47UuFi5TG7DDj65FOyIK3OkaFQGHVQB7p4PzZHSOYnr5PtuOCY3CJFlGVYvcJ0ER78SkixSYqxlh4TJ1AdvP6rv151Zeixh1eyKYTZVEwyHCaeEhAx7D8n3WJMNIwjBZhtH55CqRJN6JShcpSLwsXKYWYCf98Dp4VPZ0chLYTnBQ4Al4ljVtnq2M2vwkDKZWXYlyY0ySZQzK/lm7Fl8k48Q7cekiOYuXhctUHowace0Wd2O7VLt0a/0FHvd4VDX5jtr8ZBbl2pcMIwnDZBmVLvuXxCjxliJdJCfxsnCZKtMTejpPT9U+iqaS3d0Nele+7k875xLlWpoMIwmTZBl1KIQwjmHiLU26SEbxsnCZKtITulPDqBankd+9Xl6p0vUXyRennQNMBLGaZ3HwSTEqym1v7i+Qo1wHjgmNAgd/BgOnWhRCGEcsXhh4rvBzuknE53gNs9oYCzcs/g1fyetgLFxmAuhGKPR1Jk71+tevegB68t7hDEwmDNoVtsddjIQuphtzQsk58LzHevqyZfP5aAUwdDORjmaW9fMmYXsyjCRMkmUMot1dl5ZF8gav9zBfxU1/qXTpInFWGwWNz0lHhMJjEtB/ttU2k2Gn86ynH2OWkq7r9jFqKNzLq/7pzAM/UxYnW5Bq+AzK5RX0Zh7ARF+jVKLn3WZVapzPXF326twJfc/gfTgafN0SFUPot8AyZnQbuX/bih44CFCftHhJU8ZbG25GuTGDZBmLnlCkqePLB2FykzvXu5qSR37gnyf/dkC4j/0MBtQrueeVzUqU+xercoQj3lDA0Xy4d4IXdR7rWuE0EMiFIh+DYRiGYe7zP6yvWzd0DROYAAAAAElFTkSuQmCC"),dr.div(zn||(zn=Ve(["\n  font-size: 15px;\n  line-height: 150%;\n  margin-top: 24px;\n"]))),dr.div(qn||(qn=Ve(["\n  display: inline-block;\n  background-size: 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-image: url(",");\n  width: 18px;\n  height: 18px;\n  border: none;\n  position: relative;\n  top: 3px;\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWnSURBVHgB7Zo7UxtXFIDPuRIP00T5B6JLF6gpgsYpnDTYv8BQZjK8CgTCBUthJEjBQ8mkBP8CoIpTOMgz8Uw66x9Y+QWRx7HBQrvH566E2b16oHv3ocL7Ndq92rmPs+eeex4LkJCQkJCQkPClghADlnWcuRr7f4oI50BQFoj4GjL8V6b9SJ2nUkPkX8IqIp2XCosViIFIBbBRLM8S4GMi5yHcLnZQ6ojiDIGeRSmMSATQWjhsEdEshAAiVhDSC6XCTzUImVAFIFX9w+i7Lb5cgShAtPYKi9sQIqEJYKP4e9ah5ikATXUdCKEGDp2jwCrASGX841Xdslbr8j/L2s+8nxjNYtPJIjmzIHCObUS2x1A1gSO5sLQhFAGs7f02hbZ9Cl0m3VJf2Nbdx3IbOeTMcw+Pu/xdS6dTj3byP1chIIEF4C6+aV9Ah5HDqkBYDWrANor7WYLURReNqLMQckGFEEgArtrD9YX65pHo8N61Y92oeBisPT08YG1aVprrvB2mg2wHYwG4Bm/s3esOtSfa3nuybEEE5J8eWryntpTm2kTDnjYVtgBDXGsf4+Ilbt88htKcvRwf2QJDjDSgZfGv3/g6QjjZLSwtQAzkS+VTPlEeetvYHkyb2AMjDSCwfRJnKdYQ7FDP5340rppS0D6Vt21nHwzQFoB8++QeT7cgyWNutQYxccD7XZ4w3jbpdUp/AjTRFgCrvk/15NsvPVk6gZgpFdwxfVrwYURoe6DaAuCjaM53z28fhgUft95bFOI70ERLACusYh0BjrArMCSEcE689ybbIK3z8PhYesphl+wGZG/PZO97okUZN2Sku+w49OwXza0kx84Xj2re4/iK58g/lUH70NIAh5RAB51/QZN8sbzF/Vy0Ncl9W/Kaj9Hj/M6RfhRJ9BL6zfEO9GwAkU+9yAGtc1eeINyH1eeRffcZrTlxlOmB3fAsaKAnAPR7fpztqYEGttO48w3TAM/4nhfKHAR+BRoYu8ImsJrfbaA0FxCUWAUwEA69hRiJVQACxckAz1RAAyTtZKt/PK2nFYMjQM/iuskRgWfQezZnxc3FM9CAFKNHDmmdTFoC6DQ44lvQRAYypHhwEplEmbiytaNJocwhhULrZNIKh2V6yqGULwzmZMTXJsmIVl+u08J9NCsmfUjPdHQ09Z+3TaA9qeOcaecD2PN6oyRCVvc2lw5gCKwVj+bZBhzf3MvAbHdzaVKjCwMjyC6r91YNjuJEqBljonPQRFsAvOcq/jFpVvr2EDOtvIQ/MEPhaGuitgCkJZfBi7dNBjYQMx1ZKZ6TSWBm5AfIQof3Pm4t6JqVUrbmoBgJYNha0CrB3RIkK2XsCXbTAqNwVhNp+dX6Iwdlq2BIoMrQerF8oRiiOvsFk2FWhLx0q0QFTccHigUQOtLTmcvx9DFEhGv4/D5IPWg6PgUB+PvFn/WZ+z985MsHnxsJvuG2t69e/PEPhMh6qbzM2rahNBd2N1eeQwBCKY932wphVG5v6F6JwspuYTEHAQklHJZbwf0A4pZMs2mfmhQqVD7ve994shLVDKUMF4oApAPCGWJ1QtnLsfQpBMQ98tTyO+JCWJWo0BIibqyvVG7ltlgv/mpsFPlY3e/45IbHCPOrsUBGUOXVX88rM/cfcDSGnknT1Mz3PwIbxZc6fcn0Of/4jJ7MGXCJfANCJBQjqJLfKb/ueHMaX3i5i+9In2N1b3NxGkImkpxgo9HMKUZRqq7Vfqt96bZ4dL8Maz6CCIhEALJ8zQ6KthB6LR7RzkVVfo9kC9zQ8wuvLtthGItvjxEtgwhhWItvjxM9vYTA9fwDzmNzyR3mfe0xLb49Vjz0+eARlAnFtvj2ePFxlxDiXnx7zHjpuR2GsHhJ7MXRVtxg56Rjc9uK1XsNezruxbsjw5BoVXWEm8aeaDgrUWWREhISEvrxCcIU0ES+//qPAAAAAElFTkSuQmCC"),dr.div(Wn||(Wn=Ve(["\n  display: flex;\n  flex-direction: column;\n  width: 135px;\n  height: 179px;\n  font-size: 15px;\n  align-items: flex-start;\n"]))),dr.div(Gn||(Gn=Ve(["\n  color: #98A4AE;\n  margin-bottom: 16px;\n"]))),dr.div(Hn||(Hn=Ve(["\n  width: 24px;\n  height: 1px;\n  background-color: #D0D4D8;\n  margin-bottom: 16px;\n"]))),dr.div(Kn||(Kn=Ve(["\n  margin-bottom: 12px;\n  color: #768692;\n  cursor: pointer;\n"]))),dr.div(Qn||(Qn=Ve(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),dr.div(Xn||(Xn=Ve(["\n  width: 100%;\n  height: 960px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background-color: white;\n  align-items: center;\n"]))),dr.div(Yn||(Yn=Ve(["\n  width: 1216px;\n  height: 436px;\n  display: flex;\n  margin-bottom: 80px;\n"]))),dr.div(Jn||(Jn=Ve(["\n  height: 436px;\n  margin-left: 64px;\n  margin-right: 64px;\n  width: 1px;\n  background-color: #E3E6E8;\n"]))),dr.div(Zn||(Zn=Ve(["\n  width: 544px;\n  height: 311px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),dr.div($n||($n=Ve(["\n  width: 544px;\n  height: 311px;\n  text-align: left;\n"]))),dr.div(er||(er=Ve(["\n  font-weight: 600;\n  color: #425563;\n  font-size: 24px;\n  margin-bottom: 32px;\n"]))),dr.div(tr||(tr=Ve(["\n  color: #425563;\n  font-size: 15px;\n  line-height: 150%;\n  text-align: left;\n"]))),dr.div(nr||(nr=Ve(["\n  height: 125px;\n  width: 100%;\n  border: 1px solid #E3E6E8;\n  border-radius: 12px;\n  margin-top: 32px;\n"]))),dr.div(rr||(rr=Ve(["\n  width: 1280px;\n  background-color: black;\n  height: 44px;\n"]))),dr.div(ir||(ir=Ve(["\n  color: #98A4AE;\n  font-size: 24px;\n  margin-bottom: 20px;\n"]))),dr.div(ar||(ar=Ve(["\n  color: #98A4AE;\n  font-size: 24px;\n  margin-bottom: 20px;\n  margin-top: 48px;\n"]))),dr.div(or||(or=Ve(["\n  display: inline-block;\n  font-size: 48px;\n  font-weight: 600;\n  color: #425563;\n  margin-right: 10px;\n  margin-bottom: 8px;\n  cursor: pointer;\n"]))),dr.div(ur||(ur=Ve(["\n  display: inline-block;\n  font-size: 48px;\n  font-weight: 600;\n  color: #768692;\n  margin-right: 10px;\n  margin-bottom: 8px;\n  cursor: pointer;\n"]))),n.p+"static/media/3dEdcan.c209032e14ecdf0d0ceb.png"),yr=(dr.div(sr||(sr=Ve(["\n  width: 100%;\n  height: 1481px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-image: url(",");\n"])),mr),n.p+"static/media/background.650196c4f9d1fa20d176.png"),gr=(dr.div(cr||(cr=Ve(["\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-image: url(",");\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 80px;\n  color: white;\n  line-height: 100px;\n  opacity: 0.5;\n"])),yr),dr.div(lr||(lr=Ve(["\n  width: 100%;\n  height: 100vh;\n  background-size: cover;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"]))),dr.div(fr||(fr=Ve(["\n  width: 100%;\n  height: 648px;\n  background-color: #F7F8F9;\n  font-size: 24px;\n  line-height: 175%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),dr.span(hr||(hr=Ve(["\n  font-weight: 600;\n"]))),n.p+"static/media/blackSymbol.ec769542dfe46bfebe6f.png");function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var br,wr,xr,_r,Er,Ir,Sr=function e(t,n){function r(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=kr({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i)i[o]&&(a+="; "+o,!0!==i[o]&&(a+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var a=n[i].split("="),o=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(r[u]=t.read(o,u),e===u)break}catch(s){}}return e?r[e]:r}},remove:function(e,t){r(e,"",kr({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,kr({},this.attributes,t))},withConverter:function(t){return e(kr({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),Tr=Sr,Cr=dr.div(br||(br=Ve(["\n  width: 100%;\n  height: 100vh;\n  background-color: white;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n"]))),Ar=dr.div(wr||(wr=Ve(["\n  width: 800px;\n  height: 300px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n"]))),Nr=dr.div(xr||(xr=Ve(["\n  font-size: 34px;\n  font-weight: 600;\n  color: #425563;\n"]))),Rr=dr.div(_r||(_r=Ve(["\n  padding-top: 16px;\n  font-size: 16px;\n  color: #98A4AE;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 26px;\n"]))),Dr=dr.div(Er||(Er=Ve(["\n  width: 340px;\n  height: 56px;\n"]))),Or=dr.textarea(Ir||(Ir=Ve(["\n  margin-top: 16px;\n  border-radius: 12px;\n  resize: none;\n  font-size: 15px;\n  width: 340px; \n  padding-top: 18px;\n  padding-left: 20px;\n  padding-right: 20px;\n  box-shadow: ",";\n  border: ",";\n  height: 56px;\n  ::placeholder {\n    color: #98A4AE;\n  }\n  :active, :focus {\n    box-shadow: ",";\n    border: ",';\n    outline: none\n  }\n  @media (max-width: 650px) {\n    width: 340px;\n  }\n  font-family: "SUIT";\n  margin-bottom: 36px;\n  color: #425563;\n  transition: all 0.1s ease;\n'])),(function(e){return e.isError?"inset 0 0 0 1px #FF7A7A":"none"}),(function(e){return e.isError?"1px solid #FF7A7A":"1px solid #E3E6E8"}),(function(e){return e.isError?"inset 0 0 0 1px #FF7A7A":"inset 0 0 0 1px #00A9CE"}),(function(e){return e.isError?"1px solid #FF7A7A":"1px solid #00A9CE"})),Pr=function(e){var t=e.data,n=e.onChange,r=e.isTrue,a=f((0,i.useState)(),2),o=a[0],u=a[1];return(0,i.useEffect)((function(){t&&t.includes(o)&&(Tr.set("auth",o),n(!0)),t.includes(Tr.get("auth"))&&n(!0)})),(0,pr.jsx)(Cr,{children:(0,pr.jsxs)(Ar,{children:[(0,pr.jsx)(Nr,{children:"EDCAN \uad00\ub9ac\uc790 \uc778\uc99d"}),(0,pr.jsx)(Rr,{children:"\uac01\uc790 \uc778\uc99d\ud0a4\ub97c \uc785\ub825\ud558\uc5ec \uad00\ub9ac\uc790\ub97c \uc778\uc99d\ud574\uc8fc\uc138\uc694."}),(0,pr.jsx)(Dr,{children:(0,pr.jsx)(Or,{Placeholder:"\uc778\uc99d\ud0a4 16\uc790\ub9ac\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",value:o,onChange:function(e){return t=e.target.value,u(t),void r(!0);var t}})})]})})};function Lr(){Lr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(k,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Mr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Mr(a,r,i,o,u,"next",e)}function u(e){Mr(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Ur(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},jr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Br=function(e){return function(e){var t=Vr(e);return jr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},zr=function(e){try{return jr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=qr(e[n],t[n]));return e}var Wr=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Gr=function(){try{return Wr()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&zr(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Hr=function(e){var t=function(e){var t,n;return null===(n=null===(t=Gr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Kr=function(){var e;return null===(e=Gr())||void 0===e?void 0:e.config},Qr=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Xr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Br(JSON.stringify({alg:"none",type:"JWT"})),Br(JSON.stringify(a)),""].join(".")}function Yr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Jr(){var e,t=null===(e=Gr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Zr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function $r(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ei(){var e=Yr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ti(){try{return"object"===typeof indexedDB}catch(e){return!1}}var ni="FirebaseError",ri=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=ni,Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),ii.prototype.create),a}return g(n)}(S(Error)),ii=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ai,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ri(n,a,t)}}]),e}();var ai=/\{\$([^}]+)}/g;function oi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ui(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(si(u)&&si(s)){if(!ui(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function si(e){return null!==e&&"object"===typeof e}function ci(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function li(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function fi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function hi(e,t){var n=new di(e,t);return n.subscribe.bind(n)}var di=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=pi),void 0===r.error&&(r.error=pi),void 0===r.complete&&(r.complete=pi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function pi(){}function vi(e){return e&&e._delegate?e._delegate:e}var mi=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),yi="[DEFAULT]",gi=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Qr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch(s){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(uN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===yi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(uN){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yi;return this.component?this.component.multipleInstances?e:yi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ki,bi,wi=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(bi||(bi={}));var _i={debug:bi.DEBUG,verbose:bi.VERBOSE,info:bi.INFO,warn:bi.WARN,error:bi.ERROR,silent:bi.SILENT},Ei=bi.INFO,Ii=(Ur(ki={},bi.DEBUG,"log"),Ur(ki,bi.VERBOSE,"log"),Ur(ki,bi.INFO,"info"),Ur(ki,bi.WARN,"warn"),Ur(ki,bi.ERROR,"error"),ki),Si=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ii[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ti=function(){function e(t){p(this,e),this.name=t,this._logLevel=Ei,this._logHandler=Si,this._userLogHandler=null,xi.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in bi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?_i[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bi.DEBUG].concat(t)),this._logHandler.apply(this,[this,bi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,bi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bi.INFO].concat(t)),this._logHandler.apply(this,[this,bi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bi.WARN].concat(t)),this._logHandler.apply(this,[this,bi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bi.ERROR].concat(t)),this._logHandler.apply(this,[this,bi.ERROR].concat(t))}}]),e}();function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){Ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ni,Ri,Di=function(e,t){return t.some((function(t){return e instanceof t}))};var Oi=new WeakMap,Pi=new WeakMap,Li=new WeakMap,Mi=new WeakMap,Fi=new WeakMap;var Ui={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Li.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Vi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ri||(Ri=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(zi(this),n),Bi(Oi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bi(e.apply(zi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[zi(this),t].concat(r));return Li.set(a,t.sort?t.sort():[t]),Bi(a)}}function ji(e){return"function"===typeof e?Vi(e):(e instanceof IDBTransaction&&function(e){if(!Pi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Pi.set(e,t)}}(e),Di(e,Ni||(Ni=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ui):e)}function Bi(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Bi(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Oi.set(t,e)})).catch((function(){})),Fi.set(t,e),t}(e);if(Mi.has(e))return Mi.get(e);var t=ji(e);return t!==e&&(Mi.set(e,t),Fi.set(t,e)),t}var zi=function(e){return Fi.get(e)};var qi,Wi,Gi=["get","getKey","getAll","getAllKeys","count"],Hi=["put","add","delete","clear"],Ki=new Map;function Qi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ki.get(t))return Ki.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Hi.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Gi.includes(n))){var a=function(){var e=Fr(Lr().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ki.set(t,a),a}}}Ui=function(e){return Ai(Ai({},e),{},{get:function(t,n,r){return Qi(t,n)||e.get(t,n,r)},has:function(t,n){return!!Qi(t,n)||e.has(t,n)}})}(Ui);var Xi=function(){function e(t){p(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Yi="@firebase/app",Ji="0.9.3",Zi=new Ti("@firebase/app"),$i="[DEFAULT]",ea=(Ur(qi={},Yi,"fire-core"),Ur(qi,"@firebase/app-compat","fire-core-compat"),Ur(qi,"@firebase/analytics","fire-analytics"),Ur(qi,"@firebase/analytics-compat","fire-analytics-compat"),Ur(qi,"@firebase/app-check","fire-app-check"),Ur(qi,"@firebase/app-check-compat","fire-app-check-compat"),Ur(qi,"@firebase/auth","fire-auth"),Ur(qi,"@firebase/auth-compat","fire-auth-compat"),Ur(qi,"@firebase/database","fire-rtdb"),Ur(qi,"@firebase/database-compat","fire-rtdb-compat"),Ur(qi,"@firebase/functions","fire-fn"),Ur(qi,"@firebase/functions-compat","fire-fn-compat"),Ur(qi,"@firebase/installations","fire-iid"),Ur(qi,"@firebase/installations-compat","fire-iid-compat"),Ur(qi,"@firebase/messaging","fire-fcm"),Ur(qi,"@firebase/messaging-compat","fire-fcm-compat"),Ur(qi,"@firebase/performance","fire-perf"),Ur(qi,"@firebase/performance-compat","fire-perf-compat"),Ur(qi,"@firebase/remote-config","fire-rc"),Ur(qi,"@firebase/remote-config-compat","fire-rc-compat"),Ur(qi,"@firebase/storage","fire-gcs"),Ur(qi,"@firebase/storage-compat","fire-gcs-compat"),Ur(qi,"@firebase/firestore","fire-fst"),Ur(qi,"@firebase/firestore-compat","fire-fst-compat"),Ur(qi,"fire-js","fire-js"),Ur(qi,"firebase","fire-js-all"),qi),ta=new Map,na=new Map;function ra(e,t){try{e.container.addComponent(t)}catch(n){Zi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ia(e,t){e.container.addOrOverwriteComponent(t)}function aa(e){var t=e.name;if(na.has(t))return Zi.debug("There were multiple attempts to register component ".concat(t,".")),!1;na.set(t,e);var n,r=C(ta.values());try{for(r.s();!(n=r.n()).done;){ra(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function oa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ua(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$i;oa(e,t).clearInstance(n)}function sa(){na.clear()}var ca=(Ur(Wi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ur(Wi,"bad-app-name","Illegal App name: '{$appName}"),Ur(Wi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ur(Wi,"app-deleted","Firebase App named '{$appName}' already deleted"),Ur(Wi,"no-options","Need to provide options, when not being deployed to hosting via source."),Ur(Wi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ur(Wi,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ur(Wi,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ur(Wi,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ur(Wi,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ur(Wi,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Wi),la=new ii("app","Firebase",ca),fa=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}]),e}(),ha="9.17.1";function da(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:$i,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw la.create("bad-app-name",{appName:String(i)});if(n||(n=Kr()),!n)throw la.create("no-options");var a=ta.get(i);if(a){if(ui(n,a.options)&&ui(r,a.config))return a;throw la.create("duplicate-app",{appName:i})}var o,u=new wi(i),s=C(na.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new fa(n,r,u);return ta.set(i,l),l}function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i,t=ta.get(e);if(!t&&e===$i)return da();if(!t)throw la.create("no-app",{appName:e});return t}function va(){return Array.from(ta.values())}function ma(e){return ya.apply(this,arguments)}function ya(){return(ya=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ta.has(n)){e.next=6;break}return ta.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e,t,n){var r,i=null!==(r=ea[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zi.warn(u.join(" "))}aa(new mi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ka(e,t){if(null!==e&&"function"!==typeof e)throw la.create("invalid-log-argument");!function(e,t){var n,r=C(xi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=_i[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:bi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ba(e){var t;t=e,xi.forEach((function(e){e.setLogLevel(t)}))}var wa="firebase-heartbeat-database",xa=1,_a="firebase-heartbeat-store",Ea=null;function Ia(){return Ea||(Ea=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Bi(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Bi(u.result),e.oldVersion,e.newVersion,Bi(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(wa,xa,{upgrade:function(e,t){if(0===t)e.createObjectStore(_a)}}).catch((function(e){throw la.create("idb-open",{originalErrorMessage:e.message})}))),Ea}function Sa(e){return Ta.apply(this,arguments)}function Ta(){return Ta=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ia();case 3:return n=e.sent,e.abrupt("return",n.transaction(_a).objectStore(_a).get(Na(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ri?Zi.warn(e.t0.message):(r=la.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Zi.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ta.apply(this,arguments)}function Ca(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=Fr(Lr().mark((function e(t,n){var r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ia();case 3:return r=e.sent,i=r.transaction(_a,"readwrite"),a=i.objectStore(_a),e.next=8,a.put(n,Na(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ri?Zi.warn(e.t0.message):(o=la.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Zi.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Aa.apply(this,arguments)}function Na(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ra=1024,Da=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ma(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Oa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Oa(),n=Pa(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Br(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Oa(){return(new Date).toISOString().substring(0,10)}function Pa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ra,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Fa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Fa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var La,Ma=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ti()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Sa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ca(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ca(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Fa(e){return Br(JSON.stringify({version:2,heartbeats:e})).length}La="",aa(new mi("platform-logger",(function(e){return new Xi(e)}),"PRIVATE")),aa(new mi("heartbeat",(function(e){return new Da(e)}),"PRIVATE")),ga(Yi,Ji,La),ga(Yi,Ji,"esm2017"),ga("fire-js","");var Ua,Va="firebasestorage.googleapis.com",ja="storageBucket",Ba=12e4,za=6e5,qa=function(e){b(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p(this,n),(i=t.call(this,Wa(e),"Firebase Storage: ".concat(r," (").concat(Wa(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_(i),n.prototype),i}return g(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Wa(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(ri);function Wa(e){return"storage/"+e}function Ga(){return new qa(Ua.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ha(){return new qa(Ua.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ka(){return new qa(Ua.CANCELED,"User canceled the upload/download.")}function Qa(e){return new qa(Ua.INVALID_ARGUMENT,e)}function Xa(){return new qa(Ua.APP_DELETED,"The Firebase app was deleted.")}function Ya(e){throw new qa(Ua.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ua||(Ua={}));var Ja,Za=function(){function e(t,n){p(this,e),this.bucket=t,this.path_=n}return g(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new qa(Ua.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Va?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new qa(Ua.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),$a=function(){function e(t){p(this,e),this.promise_=Promise.reject(t)}return g(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function eo(e){return"string"===typeof e||e instanceof String}function to(e,t,n,r){if(r<t)throw Qa("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Qa("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function no(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function ro(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function io(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ja||(Ja={}));var ao=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];p(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return g(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=Ga();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?Xa():Ka());else i(Ha())}};this.canceled_?t(0,new oo(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new oo(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Ja.NO_ERROR,a=r.getStatus();if(!n||io(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Ja.ABORT;t(!1,new oo(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new oo(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),oo=g((function e(t,n,r){p(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function uo(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function so(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function co(e,t){return t}var lo=g((function e(t,n,r,i){p(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||co})),fo=null;function ho(){if(fo)return fo;var e=[];e.push(new lo("bucket")),e.push(new lo("generation")),e.push(new lo("metageneration")),e.push(new lo("name","fullPath",!0));var t=new lo("name");t.xform=function(e,t){return function(e){return!eo(e)||e.length<2?e:so(e)}(t)},e.push(t);var n=new lo("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new lo("timeCreated")),e.push(new lo("updated")),e.push(new lo("md5Hash",null,!0)),e.push(new lo("cacheControl",null,!0)),e.push(new lo("contentDisposition",null,!0)),e.push(new lo("contentEncoding",null,!0)),e.push(new lo("contentLanguage",null,!0)),e.push(new lo("contentType",null,!0)),e.push(new lo("metadata","customMetadata",!0)),fo=e}function po(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Za(n,r);return t._makeStorageReference(i)}})}(r,e),r}function vo(e,t,n){var r=uo(t);return null===r?null:po(e,r,n)}var mo=g((function e(t,n,r,i){p(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function yo(e){if(!e)throw Ga()}function go(e,t){return function(n,r){var i=vo(e,r,t);return yo(null!==i),function(e,t,n,r){var i=uo(t);if(null===i)return null;if(!eo(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return no("/b/"+o(i)+"/o/"+o(a),n,r)+ro({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ko(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new qa(Ua.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new qa(Ua.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new qa(Ua.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new qa(Ua.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function bo(e){var t=ko(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new qa(Ua.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}var wo=null,xo=function(){function e(){var t=this;p(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Ja.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Ja.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return g(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Ya("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ya("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ya("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ya("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ya("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),_o=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(xo);function Eo(){return wo?wo():new _o}var Io=function(){function e(t,n){p(this,e),this._service=t,this._location=n instanceof Za?n:Za.makeFromUrl(n,t.host)}return g(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Za(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return so(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Za(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new qa(Ua.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function So(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=no(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new mo(r,"GET",go(e,n),i);return a.errorHandler=bo(t),a}(e.storage,e._location,ho());return e.storage.makeRequestWithTokens(t,Eo).then((function(e){if(null===e)throw new qa(Ua.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function To(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Za(e._location.bucket,n);return new Io(e.storage,r)}function Co(e,t){if(e instanceof Xo){var n=e;if(null==n._bucket)throw new qa(Ua.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ja+"' property when initializing the app?");var r=new Io(n,n._bucket);return null!=t?Co(r,t):r}return void 0!==t?To(e,t):e}function Ao(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Xo)return new Io(e,t);throw Qa("To use ref(service, url), the first argument must be a Storage instance.")}return Co(e,t)}function No(e,t){var n=null===t||void 0===t?void 0:t[ja];return null==n?null:Za.makeFromBucketSpec(n,e)}var Ro,Do,Oo,Po,Lo,Mo,Fo,Uo,Vo,jo,Bo,zo,qo,Wo,Go,Ho,Ko,Qo,Xo=function(){function e(t,n,r,i,a){p(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Va,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ba,this._maxUploadRetryTime=za,this._requests=new Set,this._bucket=null!=i?Za.makeFromBucketSpec(i,this._host):No(this._host,this.app.options)}return g(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Za.makeFromBucketSpec(this._url,e):this._bucket=No(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){to("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){to("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Fr(Lr().mark((function e(){var t,n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Fr(Lr().mark((function e(){var t,n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Io(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new $a(Xa());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=ro(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ao(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Fr(Lr().mark((function e(t,n){var r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=f(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Yo="@firebase/storage",Jo="0.11.1",Zo="storage";function $o(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Xr(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function eu(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Xo(r,i,a,n,ha)}aa(new mi(Zo,eu,"PUBLIC").setMultipleInstances(!0)),ga(Yo,Jo,""),ga(Yo,Jo,"esm2017");var tu,nu,ru,iu,au,ou,uu,su,cu,lu,fu,hu,du,pu,vu,mu,yu,gu,ku,bu,wu,xu,_u,Eu,Iu,Su,Tu,Cu,Au,Nu,Ru,Du,Ou,Pu,Lu,Mu,Fu,Uu,Vu,ju,Bu,zu,qu,Wu,Gu,Hu,Ku,Qu=dr.div(Ro||(Ro=Ve(["\n  width: 100%;\n  height:calc(100vh + 100%);\n  margin-bottom: 200px;\n  background-color: white;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n"]))),Xu=dr.div(Do||(Do=Ve(["\n  margin-left: 20px;\n  width: 430px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media (max-width: 650px) {\n    width: 340px;\n  }\n  margin-bottom: 300px;\n"]))),Yu=dr.div(Oo||(Oo=Ve(["\n  color: #425563;\n  font-weight: 600;\n  font-size: 42px;\n  margin-top: 200px;\n  ",";\n"])),(function(e){return e.width?"margin-top: 140px":"margin-top: 200px"})),Ju=dr.div(Po||(Po=Ve(["\n  width: 340px;\n  color: #768692;\n  font-size: 15px;\n  text-align: center;\n  margin-top: 26px;\n  line-height: 150%;\n  text-align: center;\n"]))),Zu=dr.div(Lo||(Lo=Ve(["\n  width: 340px;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  margin-top: 100px;\n"]))),$u=dr.div(Mo||(Mo=Ve(["\n  width: 340px;\n  height: 80px;\n  border-radius: 28px;\n  background-color: ",";\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n  padding-left: 10px;\n  padding-top: 10px;\n  transition: all 0.2s ease;\n  padding-bottom: 10px;\n  cursor: pointer;\n"])),(function(e){return e.color?"#E8EBEE":"#F7F8F9"})),es=dr.div(Fo||(Fo=Ve(["\n  width: 50px;\n  font-weight: 600;\n  color: #425563;\n  font-size: 26px;\n"]))),ts=dr.div(Uo||(Uo=Ve(["\n  margin-right: 6px;\n  line-height: 150%;\n  font-size: 18px;\n"]))),ns=dr.div(Vo||(Vo=Ve(["\n  font-size: 18px;\n  font-weight: 500;\n"]))),rs=dr.div(jo||(jo=Ve(["\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n"]))),is=dr.div(Bo||(Bo=Ve(["\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),as=dr.div(zo||(zo=Ve(["\n  font-size: 15.5px;\n  line-height: 150%;\n"]))),os=dr.div(qo||(qo=Ve(["\n  font-size: 16px;\n  font-weight: 500;\n  color: #768692;\n"]))),us=dr.div(Wo||(Wo=Ve(["\n  text-align: left;\n  margin-left: 50px;\n  margin-right: 20px;\n  width: 650px;\n  height: 650px;\n  display: flex;\n  margin-top: 200px;\n  position: sticky;\n  top: 200px;\n  flex-direction: column;\n  padding-bottom: 40px;\n"]))),ss=dr.div(Go||(Go=Ve(["\n  width: 100%;\n  height: 550px;\n  padding: 30px;\n  margin-bottom: 20px;\n  background-color: #F7F8F9;\n  border-radius: 28px;\n  overflow-y: auto;\n  padding-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n"]))),cs=dr.div(Ho||(Ho=Ve(["\n  width: 100%;\n  height: 60px;\n  padding: 20px;\n  background-color: ",";\n  border-radius: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  font-weight: 500;\n  cursor: pointer;\n  margin-right: ",";\n  margin-left: ",";\n"])),(function(e){return e.color?"#E8EBEE":"#F7F8F9"}),(function(e){return e.color?"#425563":"#98A4AE"}),(function(e){return e.len?"10px":"0px"}),(function(e){return e.len?"0px":"10px"})),ls=dr.div(Ko||(Ko=Ve(["\n  width: 100%;\n  height: 60px;\n  border-radius: 28px;\n  display: flex;\n  align-items: center;\n  color: #98A4AE;\n  font-weight: 500;\n  cursor: pointer;\n"]))),fs=dr.div(Qo||(Qo=Ve(["\n  display: flex;\n  align-items: center;\n"]))),hs=function(){var e,t,n=f((0,i.useState)([]),2),r=(n[0],n[1]),a=f((0,i.useState)(0),2),o=a[0],u=a[1],s=f((0,i.useState)([]),2),c=s[0],l=s[1],h=f((0,i.useState)(!1),2),d=h[0],p=(h[1],e=XD,t="portFolio/".concat(c[o]&&c[o].data.num," ").concat(c[o]&&c[o].data.name," (ATELIER).pdf"),Ao(e=vi(e),t)),v=function(){(function(e){return So(e=vi(e))})(p).then((function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.download="".concat(c[o]&&c[o].data.num," ").concat(c[o]&&c[o].data.name," (ATELIER).pdf"),document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((function(e){console.log(e)}))};(0,i.useEffect)((function(){var e=function(){var e=Fr(Lr().mark((function e(){var t,n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=QD,e.next=3,t.collection("joiner").orderBy("id","asc").get();case 3:n=e.sent,r=n.docs.map((function(e,t){return{id:t,data:e.data()}})),l(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.useEffect)((function(){if(c.length>0){var e=c[0].data;r(e)}}),[c]);return(0,pr.jsxs)(Qu,{children:[!d&&(0,pr.jsxs)(pr.Fragment,{children:[(0,pr.jsxs)(Xu,{children:[(0,pr.jsxs)(Yu,{children:["\uc2e4\uc2dc\uac04 \uc9c0\uc6d0\uc790 ",c.length,"\uba85"]}),(0,pr.jsxs)(Ju,{children:["\uac1c\ubc1c\uc790: ",c.length-12,"\uba85 / \ub514\uc790\uc774\ub108: 12\uba85"]}),(0,pr.jsxs)(Ju,{children:["\uc62c\ud574 EDCAN\uc5d0 \uc9c0\uc6d0\ud55c \ud559\uc0dd \ubaa9\ub85d\uc785\ub2c8\ub2e4. ",(0,pr.jsx)("br",{}),"\uba74\uc811\uad00\ub4e4\uc740 \ud559\uc0dd\ub4e4\uc758 \uc9c0\uc6d0\uc11c\ub97c \uaf3c\uaf3c\ud788 \uc77d\uc5b4\uc8fc\uc138\uc694. ",(0,pr.jsx)("br",{}),"\uac01 \ud0ed\uc744 \ub204\ub974\uba74 \uc0c1\uc138 \uc815\ubcf4\ub97c \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),(0,pr.jsx)(Zu,{children:c.map((function(e){return(0,pr.jsxs)($u,{item:e,onClick:function(){return u(e.id)},color:o===e.id,children:[(0,pr.jsx)(es,{children:e.id+1}),(0,pr.jsx)(ts,{children:e.data.num}),(0,pr.jsxs)(ns,{children:[e.data.name," ","ATELIER"===e.data.unit?"(\uac1c\ubc1c\uc790)":"(\ub514\uc790\uc774\ub108)"]})]},e.id)}))})]}),(0,pr.jsxs)(us,{children:[(0,pr.jsxs)(ss,{children:[(0,pr.jsx)(is,{children:(0,pr.jsxs)(fs,{children:[(0,pr.jsx)(ts,{children:c[o]&&c[o].data.num}),(0,pr.jsxs)(ns,{children:[c[o]&&c[o].data.name," ",c[o]&&("ATELIER"===c[o].data.unit?"(\uac1c\ubc1c\uc790)":"(\ub514\uc790\uc774\ub108)")]})]})}),(0,pr.jsx)(rs,{children:(0,pr.jsx)(os,{children:"\uc790\uae30\uc18c\uac1c"})}),(0,pr.jsx)(rs,{children:(0,pr.jsx)(as,{children:c[o]&&c[o].data.question1})}),(0,pr.jsx)(rs,{children:(0,pr.jsx)(os,{children:"\uc9c0\uc6d0\ub3d9\uae30"})}),(0,pr.jsx)(rs,{children:(0,pr.jsx)(as,{children:c[o]&&c[o].data.question2})}),c[o]&&c[o].data.question3&&(0,pr.jsxs)(pr.Fragment,{children:[(0,pr.jsx)(rs,{children:(0,pr.jsx)(os,{children:"\uad00\uc2ec\uc788\ub358 \ub514\uc790\uc778 \ubd84\uc57c"})}),(0,pr.jsx)(rs,{children:(0,pr.jsx)(as,{children:c[o]&&c[o].data.question2})}),(0,pr.jsx)(rs,{children:(0,pr.jsx)(os,{children:"'We are Creators'"})}),(0,pr.jsx)(rs,{children:(0,pr.jsx)(as,{children:c[o]&&c[o].data.question2})})]})]}),(0,pr.jsxs)(ls,{children:[(0,pr.jsx)(cs,{len:!0,onClick:function(){window.open("../scoreresult","_BLANK")},children:"\uc9c0\uc6d0\uc790 \ucc44\uc810\ud558\ub7ec \uac00\uae30"}),(0,pr.jsx)(cs,{color:"YES"===(c[o]&&c[o].data.isPortFolio),onClick:function(){"YES"===(c[o]&&c[o].data.isPortFolio)&&v()},children:"YES"===(c[o]&&c[o].data.isPortFolio)?"\ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ub2e4\uc6b4\ubc1b\uae30":"\ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ubbf8\uc81c\ucd9c"})]})]})]}),d&&(0,pr.jsx)(pr.Fragment,{})]})},ds=dr.div(tu||(tu=Ve(["\n  width: 31px;\n  height: 28px;\n  background-image: url(",");\n  ","\n"])),gr,"\n  background-size: 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n"),ps=dr.div(nu||(nu=Ve(["\n  width: 1280px;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),vs=dr.div(ru||(ru=Ve(["\n  width: 100%;\n  height: 60px;\n  background-color: white;\n  border-bottom: 1px solid #E3E6E8;\n  position: fixed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 99;\n"]))),ms=function(){var e=f((0,i.useState)(!1),2),t=e[0],n=e[1],r=f((0,i.useState)([]),2),a=r[0],o=r[1],u=f((0,i.useState)([]),2),s=(u[0],u[1],QD.collection("keys").doc("value"));(0,i.useEffect)((function(){s.get().then((function(e){if(e.exists){var t=e.data(),n=Object.values(t).slice(0,8);console.log(t[0]),o(n)}else console.log("\ub370\uc774\ud130 \uc77d\uae30 \uc624\ub958")}))}),[]);return(0,pr.jsxs)("div",{children:[(0,pr.jsx)(vs,{children:(0,pr.jsx)(ps,{children:(0,pr.jsx)(ds,{})})}),t?(0,pr.jsx)(hs,{}):(0,pr.jsx)(Pr,{data:a,onChange:function(e){!0===e&&n(!0)}})]})};dr.div(iu||(iu=Ve(["\n  font-size: 15px;\n  color: #425563;\n"]))),dr.div(au||(au=Ve(["\n  font-size: 15px;\n  color: #FF7A7A;\n  visibility: hidden;\n"]))),dr.div(ou||(ou=Ve(["\n  font-size: 15px;\n  color: #FF7A7A;\n"]))),dr.div(uu||(uu=Ve(["\n  font-size: 15px;\n  color: #98A4AE;\n"]))),dr.div(su||(su=Ve(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]))),dr.textarea(cu||(cu=Ve(["\n  margin-top: 16px;\n  border-radius: 12px;\n  resize: none;\n  font-size: 15px;\n  width: 576px; \n  padding-top: 18px;\n  padding-left: 20px;\n  padding-right: 20px;\n  box-shadow: ",";\n  border: ",";\n  height: ",";\n  ::placeholder {\n    color: #98A4AE;\n  }\n  :active, :focus {\n    box-shadow: ",";\n    border: ",';\n    outline: none\n  }\n  @media (max-width: 650px) {\n    width: 340px;\n  }\n  font-family: "SUIT";\n  margin-bottom: 36px;\n  line-height: ',";\n  color: #425563;\n  transition: all 0.1s ease;\n"])),(function(e){return e.isError?"inset 0 0 0 1px #FF7A7A":"none"}),(function(e){return e.isError?"1px solid #FF7A7A":"1px solid #E3E6E8"}),(function(e){return e.height}),(function(e){return e.isError?"inset 0 0 0 1px #FF7A7A":"inset 0 0 0 1px #00A9CE"}),(function(e){return e.isError?"1px solid #FF7A7A":"1px solid #00A9CE"}),(function(e){return e.lineHeight})),dr.div(lu||(lu=Ve(["\n  display: flex;\n  flex-direction: column;\n  width: 576px;\n  align-items: flex-start;\n  @media (max-width: 650px) {\n    width: 340px;\n  }\n"]))),dr.div(fu||(fu=Ve(["\n  font-size: 15px;\n  color: #425563;\n"]))),dr.div(hu||(hu=Ve(["\n  font-size: 15px;\n  color: ",";\n"])),(function(e){return e.isError?"#FF7A7A":"#00A9CE"})),dr.div(du||(du=Ve(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]))),dr.div(pu||(pu=Ve(["\n  background-size: 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n  width: 20px;\n  height: 20px;\n  background-image: url(",");\n  margin-right: 8px;\n  @media (max-width: 650px) {\n    width: 70px;\n    height: 70px;\n  }\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS6SURBVHgB7ZpNVttWFMfvfTIYejpgB/UOYq8gsILACoBhT0vBgzh8DBCDYD4GNuH0dJhkBaUrsLMC3BXU3YF7Qh0+LN3cJ0MiyVjvGZxg2fc3Acl6svXXfffrPQBBEARBEARBEARBEARBEARBEARBEARhnEEYMpvlP3IAN/O+T7ngC5TzE4wSBC0i7z9AbCnExsHWWh0ewVAE3CyfzhPhCwJ/hQ/nIF00EVUdwdk72Pq5CQPyKAED4QB2iWge0k+LrbJ6tLW2N8igBwtY2n9T4T8bMGagwrPZy86q6xZbNtdnYEC0j/Op8yc7k3yfS1qgsI6e/y8hNhWC1Q/5ngT+2VHPkChPBLnwZ+TTYns6o88VbO41kAUG4sFNDWJfGtwIWTSAvcc65e/NZvnNStcNRZ8Jlaoebv5aNI23FtB13861sx/P4+Jh4IRxNW3ChdksV3hWZe6ZVbh0tL12ljRWgSXtmYu3PeKx1c1ee4U0i6c52Co2r687C/xEjegnVDGNtbLAVwen6+wbqrGbvz/aXl+BMaJric45RFKxZCs0WqD2e5ymxKItNsZNPI22RCA6CZ9DDHLbvhijMIG3G566XZ/XWQJL7pJsQH+RHbV+s0+baBPtHe2su/0+Vsp/x1a4+/VyfA4JGC2Qq4v56DGcBG/KgA46Olf0iWp8j43bKDfyVcrts4VTrzk9tftdn2iBpf3TRX4FubtjbX2H279VwUAQsacvavxvHlIJNsMRWTn9X3yiBXKUfRE9AXWw4FP2/0pCoj3yYCz5971MXwETLZCDR0QEBHwPBrTP8ynueLHBFUlx5qrTsC2RnpJbXx2i0+x3rSGIRAXUAoDpywGXA095i572s5xjpUE4zYZbmYs/d5LPV8k3itCyEaHHarlKSYt4mqmssxg+xp7kOkpfAWeyPY7TUoT420tXlcIzZjd8TFwwJF1vXcpNAqXy6W68XFXoDacWtgahGT7UQQVSQFc8csPnuN1lzHn7CnjPwJzb6xd7IfoQPvQJKlbjnoi7hL9HPB38bnzXND45CmtrCpn0ZTaj/Vs9aYhCxaUQLX89Q/n2tHPOlrg6c/UjpzGrTx5QtGiX2Yu8D/C8TR91nd/j7xE9q8whsRvz8vVJlaPo+peL2aQPd9aNbfzS/sk7CNKZVNKijLdwXCoaUzZNog90lIo4UG7RL9tMx+trfwMM4X800Qm/V7AVT5Mo4GU3cY4U1u0pZbTAKpt+t0FJxsplRGgFXZrttYJNoySMsaFaen3icjYczo14QXqqYLuG2m1SKpff1TMWNAcj0JHhWrfJbaoWkv+B1z7OHlNiGgXUFcn0tPMPRLu0jR9SVJ59S4x5YLUrUmyxmfKfslPG9YJJwHpV7lX5tBbfgaAXoZEyxYdsiRgXrCuRq6vOEsaqDL0I7dNNLWi8TigDLqxXcgROje5bWA+sUbf7073EOSgD741JEvGWFotZJ8//u7uFbLS2dniO0zgu/TK0HPXBm4viVUpqMKzKDcqDuzHHXNIReQW9OwEmmEe1s453io3DrbUFhRhUHfEgMwkMfYvvy6Pf89jxcxyig870qG3x5VTsL9OGIUEQBEEQBEEQBEEQBEEQBEEQBCHKZ3Pm/9XKrDXyAAAAAElFTkSuQmCC"),dr.div(vu||(vu=Ve(["\n  margin-top: 16px;\n  border-radius: 12px;\n  resize: none;\n  font-size: 15px;\n  width: 413px; \n  padding-top: 18px;\n  padding-left: 20px;\n  padding-right: 20px;\n  box-shadow: ",";\n  border: ",';\n  @media (max-width: 650px) {\n    width: 256px;\n  }\n  height: 55px;\n  font-family: "SUIT";\n  margin-bottom: 36px;\n  color: ',";\n  text-align: left;\n"])),(function(e){return e.isError?"inset 0 0 0 1px #FF7A7A":"none"}),(function(e){return e.isError?"1px solid #FF7A7A":"1px solid #E3E6E8"}),(function(e){return e.isError?"#FF7A7A":"#98A4AE"})),dr.div(mu||(mu=Ve(["\n  display: flex;\n  flex-direction: column;\n  width: 576px;\n  align-items: flex-start;\n  @media (max-width: 650px) {\n    width: 340px;\n  }\n"]))),dr.div(yu||(yu=Ve(["\n  display: flex;\n"]))),dr.div(gu||(gu=Ve(["\n  margin-top: 16px;\n  border-radius: 12px;\n  width: 151px; \n  margin-right: 12px;\n  font-size: 15px;\n  border: 1px solid #E3E6E8;\n  height: 55px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding-left: 20px;\n  color: #768692;\n  cursor: pointer;\n  @media (max-width: 650px) {\n    padding-left: 24px;\n    width: 70px;\n  }\n"]))),dr.span(ku||(ku=Ve(["\n  visibility: ",";;\n"])),(function(e){return e.width?"hidden":"visible"})),dr.input(bu||(bu=Ve(["\n  display: none;\n"]))),dr.div(wu||(wu=Ve(["\n  width: ",";\n  height: 47px;\n  background-color: ",";\n  border-radius: 43px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  cursor: pointer;\n  ",";\n"])),(function(e){return e.width}),(function(e){return e.color?"#425563":"#98A4AE"}),(function(e){return e.loading?"background-color: #98A4AE":"background-color: #425563"})),dr.div(xu||(xu=Ve(["\n  background-size: 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  background-image: url(",");\n  margin-left: 8px;\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADySURBVHgB7djRTcMwFIZRj8IIjMBmZYOOwGiMwAgmiFhCVY3t3iSqnHOk+/7re7wpAQAAAAAAAPCscs4vy10S49Z4n/nXR6LfTbws4oBKvOKaqGvE+1ruNXGfeAHiBYgXIF6AeAHiBYgXIF6AeAHiBUwVbxn7lg40W7zLOvyQB+Ws8fIREWePt2vEqeL9WAa/57pNI04Xrzgi4rTxij0jTh+v2CPiaeIVW0Y8Xbxii4injVdEIp4+XvFIRPFujEQUr6InongNjYhX8To0IorXYyCieDUdEcVr+SeieL3uRBRv1J+I4j1qjSgeAAAAAACwl29RSkKGJ4IGXwAAAABJRU5ErkJggg=="),dr.div(_u||(_u=Ve(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0.2;\n  background-color: #000000;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  ","\n\n"])),(function(e){return e.isOpen?"":"display: none;"})),dr.div(Eu||(Eu=Ve(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 12px;\n  width: 552px;\n  background-color: white;\n  padding: 44px;\n  @media (max-width: 650px) {\n    width: 340px;\n  }\n"]))),dr.div(Iu||(Iu=Ve(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  align-items: flex-start;\n"]))),dr.div(Su||(Su=Ve(["\n  text-align: left;\n  font-size: 24px;\n  color: #425563;\n  line-height: 150%;\n"]))),dr.div(Tu||(Tu=Ve(["\n  font-weight: 600;\n"]))),dr.div(Cu||(Cu=Ve(["\n  width: 431px;\n  height: 58px;\n  display: flex;\n  flex-direction: column;\n  margin-top: 32px;\n  justify-content: space-between;\n  font-size: 15px;\n"]))),dr.div(Au||(Au=Ve(["\n  display: flex;\n"]))),dr.span(Nu||(Nu=Ve(["\n  color: #768692;\n  margin-right: 8px;\n"]))),dr.div(Ru||(Ru=Ve(["\n  margin-right: 145px;\n  @media (max-width: 650px) {\n    margin-right: 45px;\n  }\n"]))),dr.div(Du||(Du=Ve(["\n  width: 100%;\n  height: 81px;\n  @media (max-width: 650px) {\n    height: 141px;\n  }\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin-top: 32px;\n  font-size: 15px;\n"]))),dr.span(Ou||(Ou=Ve(["\n  color: #FF7A7A;\n  white-space: nowrap;\n"]))),dr.div(Pu||(Pu=Ve(["\n  display: flex;\n"]))),dr.div(Lu||(Lu=Ve(["\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  line-height: 150%;\n"]))),dr.div(Mu||(Mu=Ve(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 47px;\n  margin-top: 32px;\n"]))),dr.span(Fu||(Fu=Ve(["\n  width: 340px;\n  display: flex;\n  line-height: 150%;\n  text-align: left;\n"]))),dr.div(Uu||(Uu=Ve(["\n  width: 100%;\n  height: 1973px;\n  background-color: white;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]))),dr.div(Vu||(Vu=Ve(["\n  width: 430px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media (max-width: 650px) {\n    width: 340px;\n  }\n"]))),dr.div(ju||(ju=Ve(["\n  color: #425563;\n  font-weight: 600;\n  font-size: 48px;\n  margin-top: 200px;\n  ",";\n"])),(function(e){return e.width?"margin-top: 140px":"margin-top: 200px"})),dr.div(Bu||(Bu=Ve(["\n  width: 340px;\n  color: #768692;\n  font-size: 15px;\n  text-align: center;\n  margin-top: 26px;\n  line-height: 150%;\n  text-align: center;\n  margin-bottom: 100px;\n"]))),dr.div(zu||(zu=Ve(["\n  width: 340px;\n  height: 67px;\n  display: flex;\n  margin-top: 64px;\n  justify-content: space-between;\n  margin-bottom: 64px;\n"]))),dr.div(qu||(qu=Ve(["\n  width: 165px;\n  height: 47px;\n  border: ",";\n  border-radius: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 15px;\n  background-color: ",";\n  color: ",";\n  cursor: pointer;\n"])),(function(e){return e.active?"1px solid #425563":"1px solid #E3E6E8"}),(function(e){return e.border}),(function(e){return e.active?"#425563":"white"}),(function(e){return e.active?"white":"#425563"})),dr.div(Wu||(Wu=Ve(["\n  width: 300px;\n  height: 47px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 64px;\n  margin-bottom: 200px;\n"]))),dr.div(Gu||(Gu=Ve(["\n  width: 31px;\n  height: 28px;\n  background-image: url(",");\n  ","\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAABgCAYAAADb/8ZjAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAXQSURBVHgB7d1PThtXHMDx3xsL2k0qjuDegJ6gNlGl7jBS02QXkrRSd+UGCTfoslLT1MsoiQTddVFhc4JwBB/Bgk1iM/MyPz89Y4TNvP/z3szvGyk4wfbP4sMYj58ZM0ioweBo5/Kry0PG2fcc+C5w1l18gvEJA3bBOf93u7M9/u/tnxNw2Ka5DOCi/GuCc8/evxlCQjFIpIePX/zOC3hVntypOOuk/EYYnr17cwwO2vv5+csS+khpLvDjVL4BoofHre1q6+qEA/R0Lodb41Zn68B06//xyW/deX59stjCdeYyOH0wy5+dng6nEHEZRBx+8S+3rz7qomPlZXY+wScwCefOivlIF30xl8PgaqszGgwOq+4hai3aLV5+8UvBLug3KTp5f/x2OAHNLOcuw3ucB/O8H+uWHyV86uiymPGjg28KuixW/Kjgm4YuixE/Gvimostiw48Cvunospjwa4dvC7osFvxa4RNFn+LTw3ii3M/vgUEx4NcGnyj6rbm9R7/uZlCMoPrp3DvVjV8LfBPQZaniB4dvErosRfyg8E1El6WGHwy+yeiylPCDwLcBXZYKvnf4NqHLUsD3Ct9GdFns+N7g24wuixnfCzyh3xQrvnN4Qr9bjPhO4Ql9c7HhO4Mn9OpiwncC3zZ0nIsfTV66HQu+9cur24iOc2f5fCS/AXQav//rooCsX57UxuMAu65eum21xbcVfWXuZLuz1U9xyzeGJ/Sb60wR3wie0O9ed2r42vCEvnlGSvha8IRePSsVfGV4QlefmQK+0u4coetl+lu6IXf1Krd4Qg8zd7UQW/698IQeZu66fONvhCf0MHPvyyf+WnhCDzNXJV/4d+AJPcxcnXzg34In9DBzTXKNv4Qn9HBz8WPd+/nL/Xg8tBehh5lb25Luducf+e8FPB7Ejxsc2gsI3XRutxZ8DoO9x8+P8DSzeWqS0K3n1vH07vSbef5tNstnPUKvbW4dW/5OeZffyxhj+6AXobudGxy/vMvfz3R/thO6l7lW+BlnB6BXL1se+lshBmxM6N7mGuP//+H1GHfXdC6j+SpbDiaZLlMCLenqpHV3n+FB/lXPjEeR/qF8NAma4RewyPI+HtRf42L0WEIxNNE5wnd5zz3N5KG7VMuhODH6WaSHT+iKIXouduuUKx/X4eMCdg56mT8QUcMndMVW0DX35fl5Vny+HoL+vqAvfEJXzBwdJvj2KdkYn7Tn/Bj0c41P6IpZoAO+bw7+vVyde/joxUjnAcJK5k87PjnsZkUHv3D0/IBiVugMTs/e/b3Y51/uzuXz/EDzUbfMessndLVs0PFBfDHLn938e6WVLbAL+hlv+SYRunqIns+v++N1L8SQpYBP6OqtQxf/v6aY8QldvU3o4nMbihGf0NW7D118/p5iwid09arQxXkqigGf0NVTQRfnU6hOfEJXTxVdnFexOvAJXT0ddHF+jULiE7p6uujiMpqFwCd09UzQxeUM8olP6OqZoovLGuYDn9DVs0EXl7fIJT6hq2eLLq7DMhf4eILQ1XKBLq7HQbb4i1tB6JW5QhfX5ShLfJMI3SJn8FhAfEK3zCk8FgCf0B3kHB7ziE/ojvICj3nAJ3SHeYPHHOITuuO8wmMO8AndQ9bvSVOV4S9M3urr8o9uhF41K1BtWNJNBV3MC1iTl3RTQhczA9fEJd3U0MXcGmrSkm6K6GJ2TTVhSTdVdDG/xmx39cobP8aPhr/li7USXdyGmqthVU/WWnRxOyIopSXdJqCL2xJJKSzpNgUdiwYei3lJt0noWFTwWIxLuk1Dx6KDx2Ja0m0iOhYlPBbDkm5T0bFo4bE6l3SbjI55X5a1SS7pMs0jM2N4pO1inn9n+i5R8858Wl6Jwa8msXHs6FjUW/xqez/98goy/lRh658CZ8dnH17/Aa7mMv5S4axO5/ouGXhscdefZz1gnX2AYnf5TbB4kUd2ASw/Lz4XQ9dbm5zLIHvKxRs77ISY67Mv9LV3yJdTLnkAAAAASUVORK5CYII=","\n  background-size: 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n"),dr.div(Hu||(Hu=Ve(["\n  width: 100%;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),dr.div(Ku||(Ku=Ve(["\n  width: 100%;\n  height: 60px;\n  background-color: white;\n  border-bottom: 1px solid #E3E6E8;\n  position: fixed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));var ys,gs=function(){return(0,pr.jsx)("div",{className:"RealParent",children:(0,pr.jsx)(Me,{children:(0,pr.jsxs)(Oe,{children:[(0,pr.jsx)(Re,{exact:!0,path:"/",element:(0,pr.jsx)(ms,{})}),(0,pr.jsx)(Re,{path:"/scoreform",element:(0,pr.jsx)(ms,{})}),(0,pr.jsx)(Re,{path:"*",element:(0,pr.jsx)(ms,{})})]})})})},ks=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},bs=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.firebase=n,ra(t,new mi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ma(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ra(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ia(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ws=(Ur(ys={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ur(ys,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ys),xs=new ii("app-compat","Firebase",ws);var _s=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=da(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(oi(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ga,setLogLevel:ba,onLog:ka,apps:null,SDK_VERSION:ha,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(aa(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw xs.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&qr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!oi(n,e=e||$i))throw xs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(bs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){qr(n,e)},createSubscribe:hi,ErrorFactory:ii,deepExtend:qr}),n}(),Es=new Ti("@firebase/app-compat"),Is="@firebase/app-compat",Ss="0.2.3";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Es.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ts=self.firebase.SDK_VERSION;Ts&&Ts.indexOf("LITE")>=0&&Es.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Cs=_s;!function(e){ga(Is,Ss,e)}();function As(){return As="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},As.apply(this,arguments)}Cs.registerVersion("firebase","9.17.1","app-compat");function Ns(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Rs;Object.create;var Ds={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Os={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function Ps(){return Ur({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ls=function(){var e;return Ur(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ur(e,"argument-error",""),Ur(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ur(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ur(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ur(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ur(e,"cordova-not-ready","Cordova framework is not ready."),Ur(e,"cors-unsupported","This browser is not supported."),Ur(e,"credential-already-in-use","This credential is already associated with a different user account."),Ur(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ur(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ur(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ur(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ur(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ur(e,"email-already-in-use","The email address is already in use by another account."),Ur(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ur(e,"expired-action-code","The action code has expired."),Ur(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ur(e,"internal-error","An internal AuthError has occurred."),Ur(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ur(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ur(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ur(e,"invalid-auth-event","An internal AuthError has occurred."),Ur(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ur(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ur(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ur(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ur(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ur(e,"invalid-email","The email address is badly formatted."),Ur(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ur(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ur(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ur(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ur(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ur(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ur(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ur(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ur(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ur(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ur(e,"wrong-password","The password is invalid or the user does not have a password."),Ur(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ur(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ur(e,"invalid-provider-id","The specified provider ID is invalid."),Ur(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ur(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ur(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ur(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ur(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ur(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ur(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ur(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ur(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ur(e,"missing-continue-uri","A continue URL must be provided in the request."),Ur(e,"missing-iframe-start","An internal AuthError has occurred."),Ur(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ur(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ur(e,"missing-multi-factor-info","No second factor identifier is provided."),Ur(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ur(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ur(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ur(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ur(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ur(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ur(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ur(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ur(e,"no-auth-event","An internal AuthError has occurred."),Ur(e,"no-such-provider","User was not linked to an account with the given provider."),Ur(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ur(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ur(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ur(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ur(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ur(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ur(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ur(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ur(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ur(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ur(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ur(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ur(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ur(e,"timeout","The operation has timed out."),Ur(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ur(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ur(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ur(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ur(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ur(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ur(e,"unverified-email","The operation requires a verified email."),Ur(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ur(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ur(e,"user-disabled","The user account has been disabled by an administrator."),Ur(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ur(e,"user-signed-out",""),Ur(e,"weak-password","The password must be 6 characters long or more."),Ur(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ur(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ms=Ps,Fs=new ii("auth","Firebase",Ps()),Us=new Ti("@firebase/auth");function Vs(e){if(Us.logLevel<=bi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Us.error.apply(Us,["Auth (".concat(ha,"): ").concat(e)].concat(n))}}function js(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ws.apply(void 0,[e].concat(n))}function Bs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ws.apply(void 0,[e].concat(n))}function zs(e,t,n){var r=Object.assign(Object.assign({},Ms()),Ur({},t,n));return new ii("auth","Firebase",r).create(t,{appName:e.name})}function qs(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&js(e,"argument-error"),zs(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ws(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return Fs.create.apply(Fs,[e].concat(n))}function Gs(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ws.apply(void 0,[t].concat(r))}}function Hs(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Vs(t),new Error(t)}function Ks(e,t){e||Hs(t)}var Qs=new Map;function Xs(e){Ks(e instanceof Function,"Expected a class definition");var t=Qs.get(e);return t?(Ks(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Qs.set(e,t),t)}function Ys(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Js(){return"http:"===Zs()||"https:"===Zs()}function Zs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var $s=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,Ks(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yr())||$r()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Js()||Zr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ec(e,t){Ks(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var tc=function(){function e(){p(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),nc=(Ur(Rs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ur(Rs,"MISSING_CUSTOM_TOKEN","internal-error"),Ur(Rs,"INVALID_IDENTIFIER","invalid-email"),Ur(Rs,"MISSING_CONTINUE_URI","internal-error"),Ur(Rs,"INVALID_PASSWORD","wrong-password"),Ur(Rs,"MISSING_PASSWORD","internal-error"),Ur(Rs,"EMAIL_EXISTS","email-already-in-use"),Ur(Rs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ur(Rs,"INVALID_IDP_RESPONSE","invalid-credential"),Ur(Rs,"INVALID_PENDING_TOKEN","invalid-credential"),Ur(Rs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ur(Rs,"MISSING_REQ_TYPE","internal-error"),Ur(Rs,"EMAIL_NOT_FOUND","user-not-found"),Ur(Rs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ur(Rs,"EXPIRED_OOB_CODE","expired-action-code"),Ur(Rs,"INVALID_OOB_CODE","invalid-action-code"),Ur(Rs,"MISSING_OOB_CODE","internal-error"),Ur(Rs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ur(Rs,"INVALID_ID_TOKEN","invalid-user-token"),Ur(Rs,"TOKEN_EXPIRED","user-token-expired"),Ur(Rs,"USER_NOT_FOUND","user-token-expired"),Ur(Rs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ur(Rs,"INVALID_CODE","invalid-verification-code"),Ur(Rs,"INVALID_SESSION_INFO","invalid-verification-id"),Ur(Rs,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ur(Rs,"MISSING_SESSION_INFO","missing-verification-id"),Ur(Rs,"SESSION_EXPIRED","code-expired"),Ur(Rs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ur(Rs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ur(Rs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ur(Rs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ur(Rs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ur(Rs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ur(Rs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ur(Rs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ur(Rs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ur(Rs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ur(Rs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Rs),rc=new $s(3e4,6e4);function ic(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ac(e,t,n,r){return oc.apply(this,arguments)}function oc(){return oc=Fr(Lr().mark((function e(t,n,r,i){var a,o=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",uc(t,a,Fr(Lr().mark((function e(){var a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ci(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",tc.fetch()(fc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function uc(e,t,n){return sc.apply(this,arguments)}function sc(){return sc=Fr(Lr().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d,p;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},nc),n),e.prev=2,a=new hc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw dc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw dc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw dc(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw dc(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw zs(t,p,d);case 34:js(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ri)){e.next=41;break}throw e.t0;case 41:js(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),sc.apply(this,arguments)}function cc(e,t,n,r){return lc.apply(this,arguments)}function lc(){return lc=Fr(Lr().mark((function e(t,n,r,i){var a,o,u=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ac(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&js(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ec(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var hc=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Bs(n.auth,"network-request-failed"))}),rc.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function dc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Bs(e,t,r);return i.customData._tokenResponse=n,i}function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(e,t){return yc.apply(this,arguments)}function yc(){return yc=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e,t){return kc.apply(this,arguments)}function kc(){return kc=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function wc(){return wc=Fr(Lr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=vi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Gs((a=_c(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:bc(xc(a.auth_time)),issuedAtTime:bc(xc(a.iat)),expirationTime:bc(xc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(e){return 1e3*Number(e)}function _c(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Vs("JWT malformed, contained fewer than 3 sections"),null;try{var a=zr(r);return a?JSON.parse(a):(Vs("Failed to decode base64 JWT payload"),null)}catch(o){return Vs("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Ec(e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=Fr(Lr().mark((function e(t,n){var r=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ri&&Sc(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ic.apply(this,arguments)}function Sc(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Tc=function(){function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Fr(Lr().mark((function t(){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Cc=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ac(e){return Nc.apply(this,arguments)}function Nc(){return Nc=Fr(Lr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ec(t,gc(r,{idToken:i}));case 6:Gs(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Ns(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Dc(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Cc(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Rc(){return(Rc=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vi(t),e.next=3,Ac(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dc(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function Oc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=Fr(Lr().mark((function e(t,n){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uc(t,{},Fr(Lr().mark((function e(){var r,i,a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ci({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=fc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",tc.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}var Lc=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Gs(e.idToken,"internal-error"),Gs("undefined"!==typeof e.idToken,"internal-error"),Gs("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=_c(e);return Gs(t,"internal-error"),Gs("undefined"!==typeof t.exp,"internal-error"),Gs("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Fr(Lr().mark((function e(t){var n,r=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Gs(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Fr(Lr().mark((function e(t,n){var r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Hs("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Gs("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Gs("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Gs("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Mc(e,t){Gs("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Fc=function(){function e(t){p(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ns(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new Cc(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ec(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Gs(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return wc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Rc.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Gs(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Gs(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Fr(Lr().mark((function e(t){var n,r,i=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ac(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ec(this,pc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Gs(k&&_,t,"internal-error");var E=Lc.fromJSON(this.name,_);Gs("string"===typeof k,t,"internal-error"),Mc(f,t.name),Mc(h,t.name),Gs("boolean"===typeof b,t,"internal-error"),Gs("boolean"===typeof w,t,"internal-error"),Mc(d,t.name),Mc(p,t.name),Mc(v,t.name),Mc(m,t.name),Mc(y,t.name),Mc(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Fr(Lr().mark((function t(n,r){var i,a,o,u=arguments;return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Lc).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ac(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Uc=function(){function e(){p(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Uc.type="NONE";var Vc=Uc;function jc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Bc=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=jc(this.userKey,a.apiKey,o),this.fullPersistenceKey=jc("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Fc._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Fr(Lr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Xs(Vc),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Xs(Vc),u=jc(i,n.config.apiKey,n.name),s=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Fc._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function zc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Hc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qc(t))return"Blackberry";if(Xc(t))return"Webos";if(Wc(t))return"Safari";if((t.includes("chrome/")||Gc(t))&&!t.includes("edge/"))return"Chrome";if(Kc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return/firefox\//i.test(e)}function Wc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return/crios\//i.test(e)}function Hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return/iemobile/i.test(e)}function Kc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return/android/i.test(e)}function Qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return/blackberry/i.test(e)}function Xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return/webos/i.test(e)}function Yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Jc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return Yc(e)||Kc(e)||Xc(e)||Qc(e)||/windows phone/i.test(e)||Hc(e)}function Zc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=zc(Yr());break;case"Worker":t="".concat(zc(Yr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ha,"/").concat(r)}var $c=function(){function e(t){p(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Fr(Lr().mark((function e(t){var n,r,i,a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(nt){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),el=function(){function e(t,n,r){p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nl(this),this.idTokenSubscription=new nl(this),this.beforeStateQueue=new $c(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fs,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Xs(t)),this._initializationPromise=this.queue(Fr(Lr().mark((function r(){var i,a;return Lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Bc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Fr(Lr().mark((function e(t){var n,r,i,a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Gs(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ac(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?vi(t):null)&&Gs(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Fr(Lr().mark((function e(t){var n,r=this,i=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Gs(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Fr(Lr().mark((function n(){return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Xs(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ii("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Fr(Lr().mark((function e(t,n){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Gs(n=t&&Xs(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Bc.create(this,[Xs(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Fr(Lr().mark((function e(t){var n=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Gs(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Gs(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ur({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tl(e){return vi(e)}var nl=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=hi((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Gs(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function rl(e,t,n){var r=tl(e);Gs(r._canInitEmulator,r,"emulator-config-failed"),Gs(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=il(t),o=function(e){var t=il(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:al(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:al(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function il(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function al(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ol=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Hs("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Hs("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Hs("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Hs("not implemented")}}]),e}();function ul(e,t){return sl.apply(this,arguments)}function sl(){return sl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:resetPassword",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),sl.apply(this,arguments)}function cl(e,t){return ll.apply(this,arguments)}function ll(){return ll=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(e,t){return hl.apply(this,arguments)}function hl(){return hl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:update",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}function dl(e,t){return pl.apply(this,arguments)}function pl(){return pl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cc(t,"POST","/v1/accounts:signInWithPassword",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}function vl(e,t){return ml.apply(this,arguments)}function ml(){return ml=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:sendOobCode",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function yl(e,t){return gl.apply(this,arguments)}function gl(){return gl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,n));case 1:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t){return bl.apply(this,arguments)}function bl(){return bl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,n));case 1:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(e,t){return xl.apply(this,arguments)}function xl(){return xl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,n));case 1:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function _l(e,t){return El.apply(this,arguments)}function El(){return El=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t,n));case 1:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Il(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cc(t,"POST","/v1/accounts:signInWithEmailLink",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function Tl(e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cc(t,"POST","/v1/accounts:signInWithEmailLink",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}var Al=function(e){b(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",dl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Il(t,{email:this._email,oobCode:this._password}));case 5:js(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Tl(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:js(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ol);function Nl(e,t){return Rl.apply(this,arguments)}function Rl(){return Rl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cc(t,"POST","/v1/accounts:signInWithIdp",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}var Dl=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Nl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Nl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Nl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ci(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):js("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ns(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ol);function Ol(e,t){return Pl.apply(this,arguments)}function Pl(){return Pl=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:sendVerificationCode",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Ll(){return Ll=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cc(t,"POST","/v1/accounts:signInWithPhoneNumber",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Ml(){return Ml=Fr(Lr().mark((function e(t,n){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(t,"POST","/v1/accounts:signInWithPhoneNumber",ic(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw dc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}var Fl=Ur({},"USER_NOT_FOUND","user-not-found");function Ul(){return Ul=Fr(Lr().mark((function e(t,n){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",cc(t,"POST","/v1/accounts:signInWithPhoneNumber",ic(t,r),Fl));case 2:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}var Vl=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ll.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ml.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ul.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ol);var jl=function(){function e(t){var n,r,i,a,o,u;p(this,e);var s=li(fi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Gs(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=li(fi(e)).link,n=t?li(fi(t)).deep_link_id:null,r=li(fi(e)).deep_link_id;return(r?li(fi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(uN){return null}}}]),e}();var Bl=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Al._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=jl.parseLink(t);return Gs(n,"argument-error"),Al._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Bl.PROVIDER_ID="password",Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var zl=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ql=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(zl),Wl=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Gs(e.idToken||e.accessToken,"argument-error"),Dl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Gs("providerId"in t&&"signInMethod"in t,"argument-error"),Dl._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(ql),Gl=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Dl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(uN){return null}}}]),n}(ql);Gl.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gl.PROVIDER_ID="facebook.com";var Hl=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Dl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(uN){return null}}}]),n}(ql);Hl.GOOGLE_SIGN_IN_METHOD="google.com",Hl.PROVIDER_ID="google.com";var Kl=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Dl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(uN){return null}}}]),n}(ql);Kl.GITHUB_SIGN_IN_METHOD="github.com",Kl.PROVIDER_ID="github.com";var Ql=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Nl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Nl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Nl(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ol),Xl="saml.",Yl=function(e){b(n,e);var t=E(n);function n(e){return p(this,n),Gs(e.startsWith(Xl),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ql.fromJSON(e);return Gs(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ql._create(r,n)}catch(i){return null}}}]),n}(zl),Jl=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Dl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(uN){return null}}}]),n}(ql);function Zl(e,t){return $l.apply(this,arguments)}function $l(){return $l=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cc(t,"POST","/v1/accounts:signUp",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}Jl.TWITTER_SIGN_IN_METHOD="twitter.com",Jl.PROVIDER_ID="twitter.com";var ef=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Fr(Lr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Fc._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=tf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Fr(Lr().mark((function t(n,r,i){var a;return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=tf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function tf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function nf(){return nf=Fr(Lr().mark((function e(t){var n,r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ef({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Zl(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ef._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),nf.apply(this,arguments)}var rf=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o,u;return p(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ri);function af(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw rf._fromErrorAndOperation(e,n,t,r);throw n}))}function of(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function uf(e,t){return sf.apply(this,arguments)}function sf(){return sf=Fr(Lr().mark((function e(t,n){var r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,ff(!0,r,n);case 3:return e.t0=mc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=of(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function cf(e,t){return lf.apply(this,arguments)}function lf(){return lf=Fr(Lr().mark((function e(t,n){var r,i,a=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ec,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ef._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return(hf=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ac(n);case 2:i=of(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Gs(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e,t){return pf.apply(this,arguments)}function pf(){return pf=Fr(Lr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ec(t,af(i,a,n,t),r);case 6:return Gs((o=e.sent).idToken,i,"internal-error"),Gs(u=_c(o.idToken),i,"internal-error"),s=u.sub,Gs(t.uid===s,i,"user-mismatch"),e.abrupt("return",ef._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&js(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),pf.apply(this,arguments)}function vf(e,t){return mf.apply(this,arguments)}function mf(){return mf=Fr(Lr().mark((function e(t,n){var r,i,a,o,u=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,af(t,i,n);case 4:return a=e.sent,e.next=7,ef._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function yf(e,t){return gf.apply(this,arguments)}function gf(){return gf=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vf(tl(t),n));case 1:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function kf(e,t){return bf.apply(this,arguments)}function bf(){return(bf=Fr(Lr().mark((function e(t,n){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,ff(!1,r,n.providerId);case 3:return e.abrupt("return",cf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wf(e,t){return xf.apply(this,arguments)}function xf(){return(xf=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",df(vi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cc(t,"POST","/v1/accounts:signInWithCustomToken",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ef.apply(this,arguments)}function If(){return If=Fr(Lr().mark((function e(t,n){var r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tl(t),e.next=3,_f(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ef._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}var Sf=function(){function e(t,n){p(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Tf._fromServerResponse(e,t):js(e,"internal-error")}}]),e}(),Tf=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Sf);function Cf(e,t,n){var r;Gs((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Gs("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Gs(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Gs(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Af(){return Af=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),a={requestType:"PASSWORD_RESET",email:n},r&&Cf(i,a,r),e.next=5,kl(i,a);case 5:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}function Nf(){return Nf=Fr(Lr().mark((function e(t,n,r){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ul(vi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Rf(){return Rf=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fl(vi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}function Df(e,t){return Of.apply(this,arguments)}function Of(){return Of=Fr(Lr().mark((function e(t,n){var r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,ul(r,{oobCode:n});case 3:i=e.sent,Gs(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Gs(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Gs(i.mfaInfo,r,"internal-error");case 13:Gs(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Sf._fromServerResponse(tl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Pf(){return Pf=Fr(Lr().mark((function e(t,n){var r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df(vi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function Lf(e,t,n){return Mf.apply(this,arguments)}function Mf(){return Mf=Fr(Lr().mark((function e(t,n,r){var i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tl(t),e.next=3,Zl(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ef._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Ff(){return Ff=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),a={requestType:"EMAIL_SIGNIN",email:n},Gs(r.handleCodeInApp,i,"argument-error"),r&&Cf(i,a,r),e.next=6,wl(i,a);case 6:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function Uf(){return Uf=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),Gs((a=Bl.credentialWithLink(n,r||Ys()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",yf(i,a));case 4:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function Vf(e,t){return jf.apply(this,arguments)}function jf(){return jf=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:createAuthUri",ic(t,n)));case 1:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Bf(){return Bf=Fr(Lr().mark((function e(t,n){var r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Js()?Ys():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Vf(vi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function zf(){return(zf=Fr(Lr().mark((function e(t,n){var r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Cf(r.auth,a,n),e.next=8,yl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qf(){return(qf=Fr(Lr().mark((function e(t,n,r){var i,a,o,u;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Cf(i.auth,o,r),e.next=8,_l(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wf(e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function Hf(){return(Hf=Fr(Lr().mark((function e(t,n){var r,i,a,o,u,s,c;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=vi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ec(a,Wf(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(e,t,n){return Qf.apply(this,arguments)}function Qf(){return Qf=Fr(Lr().mark((function e(t,n,r){var i,a,o,u;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ec(t,cl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}var Xf=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Yf=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(Xf),Jf=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(Xf),Zf=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(Yf),$f=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"google.com",r)}return g(n)}(Xf),eh=function(e){b(n,e);var t=E(n);function n(e,r,i){return p(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(Yf);function th(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=_c(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Xf(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Jf(a,i);case"github.com":return new Zf(a,i);case"google.com":return new $f(a,i);case"twitter.com":return new eh(a,i,e.screenName||null);case"custom":case"anonymous":return new Xf(a,null);default:return new Xf(a,r,i)}}(n)}var nh=function(){function e(t,n,r){p(this,e),this.type=t,this.credential=n,this.auth=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ur({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),rh=function(){function e(t,n,r){p(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=tl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Sf._fromServerResponse(r,e)}));Gs(i.mfaPendingCredential,r,"internal-error");var o=nh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Fr(Lr().mark((function e(t){var a,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ef._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Gs(n.user,r,"internal-error"),e.abrupt("return",ef._forOperation(n.user,n.operationType,u));case 17:js(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ih(e,t){return ac(e,"POST","/v2/accounts/mfaEnrollment:start",ic(e,t))}function ah(e,t){return ac(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ic(e,t))}var oh=function(){function e(t){var n=this;p(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Sf._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=nh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Fr(Lr().mark((function e(t,n){var r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ec(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Fr(Lr().mark((function e(t){var n,r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Ec(this.user,ah(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),uh=new WeakMap;var sh="__sak",ch=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch(uN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var lh=10,fh=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Yr();return Wc(e)||Yc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Jc(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ei()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lh):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Fr(Lr().mark((function e(t,r){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As(w(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fr(Lr().mark((function e(t){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As(w(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As(w(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ch);fh.type="LOCAL";var hh=fh,dh=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ch);dh.type="SESSION";var ph=dh;function vh(e){return Promise.all(e.map(function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var mh=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Fr(Lr().mark((function e(t){var n,r,i,a,o,u,s,c;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,vh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function yh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}mh.receivers=[];var gh=function(){function e(t){p(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Fr(Lr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=yh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function kh(){return window}function bh(){return"undefined"!==typeof kh().WorkerGlobalScope&&"function"===typeof kh().importScripts}function wh(){return xh.apply(this,arguments)}function xh(){return(xh=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function _h(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Eh="firebaseLocalStorageDb",Ih=1,Sh="firebaseLocalStorage",Th="fbase_key",Ch=function(){function e(t){p(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ah(e,t){return e.transaction([Sh],t?"readwrite":"readonly").objectStore(Sh)}function Nh(){var e=indexedDB.deleteDatabase(Eh);return new Ch(e).toPromise()}function Rh(){var e=indexedDB.open(Eh,Ih);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Sh,{keyPath:Th})}catch(r){n(r)}})),e.addEventListener("success",Fr(Lr().mark((function n(){var r;return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Sh)){n.next=12;break}return r.close(),n.next=5,Nh();case 5:return n.t0=t,n.next=8,Rh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Dh(e,t,n){return Oh.apply(this,arguments)}function Oh(){return Oh=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ah(t,!0).put((Ur(i={},Th,n),Ur(i,"value",r),i)),e.abrupt("return",new Ch(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Ph(e,t){return Lh.apply(this,arguments)}function Lh(){return Lh=Fr(Lr().mark((function e(t,n){var r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ah(t,!1).get(n),e.next=3,new Ch(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}function Mh(e,t){var n=Ah(e,!0).delete(t);return new Ch(n).toPromise()}var Fh=function(){function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Rh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Fr(Lr().mark((function e(){var t=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=mh._getInstance(bh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Fr(Lr().mark((function e(n,r){var i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&_h()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Rh();case 5:return t=e.sent,e.next=8,Dh(t,sh,"1");case 8:return e.next=10,Mh(t,sh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fr(Lr().mark((function e(t,n){var r=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Dh(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ph(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fr(Lr().mark((function e(t){var n=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Mh(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ah(e,!1).getAll();return new Ch(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Fr(Lr().mark((function t(){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Fh.type="LOCAL";var Uh=Fh;function Vh(e,t){return ac(e,"POST","/v2/accounts/mfaSignIn:start",ic(e,t))}function jh(e){return Bh.apply(this,arguments)}function Bh(){return Bh=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function zh(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Bs("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function qh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Wh=1e12,Gh=function(){function e(t){p(this,e),this.auth=t,this.counter=Wh,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Hh(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Wh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Wh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Wh,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Hh=function(){function e(t,n,r){var i=this;p(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Gs(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Kh=qh("rcb"),Qh=new $s(3e4,6e4),Xh="https://www.google.com/recaptcha/api.js?",Yh=function(){function e(){var t;p(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=kh().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Gs(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(kh().grecaptcha):new Promise((function(r,i){var a=kh().setTimeout((function(){i(Bs(e,"network-request-failed"))}),Qh.get());kh()[Kh]=function(){kh().clearTimeout(a),delete kh()[Kh];var o=kh().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Bs(e,"internal-error"))},zh("".concat(Xh,"?").concat(ci({onload:Kh,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Bs(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=kh().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Jh=function(){function e(){p(this,e)}return g(e,[{key:"load",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Gh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Zh="recaptcha",$h={theme:"light",type:"image"},ed=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},$h),r=arguments.length>2?arguments[2]:void 0;p(this,e),this.parameters=n,this.type=Zh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tl(r),this.isInvisible="invisible"===this.parameters.size,Gs("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Gs(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jh:new Yh,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r,i=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Gs(!this.parameters.sitekey,this.auth,"argument-error"),Gs(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Gs("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=kh()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Gs(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Fr(Lr().mark((function e(){var t,n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gs(Js()&&!bh(),this.auth,"internal-error"),e.next=3,td();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,jh(this.auth);case 8:Gs(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Gs(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function td(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var nd=function(){function e(t,n){p(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=Vl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function rd(){return rd=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tl(t),e.next=3,ud(i,n,vi(r));case 3:return a=e.sent,e.abrupt("return",new nd(a,(function(e){return yf(i,e)})));case 5:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t,n){return ad.apply(this,arguments)}function ad(){return(ad=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),e.next=3,ff(!1,i,"phone");case 3:return e.next=5,ud(i.auth,n,vi(r));case 5:return a=e.sent,e.abrupt("return",new nd(a,(function(e){return kf(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function od(){return(od=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),e.next=3,ud(i.auth,n,vi(r));case 3:return a=e.sent,e.abrupt("return",new nd(a,(function(e){return wf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ud(e,t,n){return sd.apply(this,arguments)}function sd(){return sd=Fr(Lr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Gs("string"===typeof a,t,"argument-error"),Gs(r.type===Zh,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Gs("enroll"===u.type,t,"internal-error"),e.next=13,ih(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Gs("signin"===u.type,t,"internal-error"),Gs(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Vh(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ol(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),sd.apply(this,arguments)}function cd(){return(cd=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cf(vi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ld=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=tl(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return ud(this.auth,e,vi(t))}}],[{key:"credential",value:function(e,t){return Vl._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Vl._fromTokenResponse(n,r):null}}]),e}();function fd(e,t){return t?Xs(t):(Gs(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ld.PROVIDER_ID="phone",ld.PHONE_SIGN_IN_METHOD="phone";var hd=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Nl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Nl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Nl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ol);function dd(e){return vf(e.auth,new hd(e),e.bypassAuthState)}function pd(e){var t=e.auth,n=e.user;return Gs(n,t,"internal-error"),df(n,new hd(e),e.bypassAuthState)}function vd(e){return md.apply(this,arguments)}function md(){return md=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Gs(r=t.user,n,"internal-error"),e.abrupt("return",cf(r,new hd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}var yd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Fr(Lr().mark((function t(n,r){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Fr(Lr().mark((function e(t){var n,r,i,a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dd;case"linkViaPopup":case"linkViaRedirect":return vd;case"reauthViaPopup":case"reauthViaRedirect":return pd;default:js(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gd=new $s(2e3,1e4);function kd(e,t,n){return bd.apply(this,arguments)}function bd(){return bd=Fr(Lr().mark((function e(t,n,r){var i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tl(t),qs(t,n,zl),a=fd(i,r),o=new Ed(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function wd(){return(wd=Fr(Lr().mark((function e(t,n,r){var i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qs((i=vi(t)).auth,n,zl),a=fd(i.auth,r),o=new Ed(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xd(e,t,n){return _d.apply(this,arguments)}function _d(){return(_d=Fr(Lr().mark((function e(t,n,r){var i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qs((i=vi(t)).auth,n,zl),a=fd(i.auth,r),o=new Ed(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ed=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o){var u;return p(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_(u),u}return g(n,[{key:"executeNotNull",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Gs(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fr(Lr().mark((function e(){var t,n=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ks(1===this.filter.length,"Popup operations only handle one event"),t=yh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Bs(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Bs(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Bs(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,gd.get())}()}}]),n}(yd);Ed.currentPopupAction=null;var Id="pendingRedirect",Sd=new Map,Td=function(e){b(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=Fr(Lr().mark((function e(){var t,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Sd.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Cd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,As(w(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Sd.set(this.auth._key(),t);case 21:return this.bypassAuthState||Sd.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Fr(Lr().mark((function e(t){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",As(w(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",As(w(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(yd);function Cd(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=Fr(Lr().mark((function e(t,n){var r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pd(n),i=Od(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Nd(e,t){return Rd.apply(this,arguments)}function Rd(){return Rd=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Od(t)._set(Pd(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Dd(e,t){Sd.set(e._key(),t)}function Od(e){return Xs(e._redirectPersistence)}function Pd(e){return jc(Id,e.config.apiKey,e.name)}function Ld(e,t,n){return function(e,t,n){return Md.apply(this,arguments)}(e,t,n)}function Md(){return Md=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tl(t),qs(t,n,zl),e.next=4,i._initializationPromise;case 4:return a=fd(i,r),e.next=7,Nd(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Fd(e,t,n){return function(e,t,n){return Ud.apply(this,arguments)}(e,t,n)}function Ud(){return(Ud=Fr(Lr().mark((function e(t,n,r){var i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qs((i=vi(t)).auth,n,zl),e.next=4,i.auth._initializationPromise;case 4:return a=fd(i.auth,r),e.next=7,Nd(a,i.auth);case 7:return e.next=9,Gd(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vd(e,t,n){return function(e,t,n){return jd.apply(this,arguments)}(e,t,n)}function jd(){return(jd=Fr(Lr().mark((function e(t,n,r){var i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qs((i=vi(t)).auth,n,zl),e.next=4,i.auth._initializationPromise;case 4:return a=fd(i.auth,r),e.next=7,ff(!1,i,n.providerId);case 7:return e.next=9,Nd(a,i.auth);case 9:return e.next=11,Gd(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bd(e,t){return zd.apply(this,arguments)}function zd(){return zd=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tl(t)._initializationPromise;case 2:return e.abrupt("return",qd(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function qd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=Fr(Lr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=tl(t),a=fd(i,n),o=new Td(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Gd(e){return Hd.apply(this,arguments)}function Hd(){return(Hd=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kd=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Xd(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bs(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qd(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Qd(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Qd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Xd(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Yd(e){return Jd.apply(this,arguments)}function Jd(){return Jd=Fr(Lr().mark((function e(t){var n,r=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ac(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}var Zd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$d=/^https?/;function ep(){return ep=Fr(Lr().mark((function e(t){var n,r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Yd(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!tp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:js(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ep.apply(this,arguments)}function tp(e){var t=Ys(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!$d.test(r))return!1;if(Zd.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var np=new $s(3e4,6e4);function rp(){var e=kh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ip=null;function ap(e){return ip=ip||function(e){return new Promise((function(t,n){var r,i,a;function o(){rp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){rp(),n(Bs(e,"network-request-failed"))},timeout:np.get()})}if(null===(i=null===(r=kh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=kh().gapi)||void 0===a?void 0:a.load)){var u=qh("iframefcb");return kh()[u]=function(){gapi.load?o():n(Bs(e,"network-request-failed"))},zh("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ip=null,e}))}(e),ip}var op=new $s(5e3,15e3),up="__/auth/iframe",sp="emulator/auth/iframe",cp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fp(e){var t=e.config;Gs(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ec(t,sp):"https://".concat(e.config.authDomain,"/").concat(up),r={apiKey:t.apiKey,appName:e.name,v:ha},i=lp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ci(r).slice(1))}function hp(e){return dp.apply(this,arguments)}function dp(){return dp=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ap(t);case 2:return n=e.sent,Gs(r=kh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:fp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cp,dontclear:!0},(function(e){return new Promise(function(){var n=Fr(Lr().mark((function n(r,i){var a,o,u;return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){kh().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Bs(t,"network-request-failed"),o=kh().setTimeout((function(){i(a)}),op.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}var pp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vp=500,mp=600,yp="_blank",gp="http://localhost",kp=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function bp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vp,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mp,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},pp),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Yr().toLowerCase();n&&(u=Gc(c)?yp:n),qc(c)&&(t=t||gp,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Yc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new kp(null);var h=window.open(t||"",u,l);Gs(h,e,"popup-blocked");try{h.focus()}catch(d){}return new kp(h)}var wp="__/auth/handler",xp="emulator/auth/handler";function _p(e,t,n,r,i,a){Gs(e.config.authDomain,e,"auth-domain-config-required"),Gs(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ha,eventId:i};if(t instanceof zl){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=f(s[u],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof ql){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(wp);return ec(t,xp)}(e),"?").concat(ci(p).slice(1))}var Ep="webStorageSupport",Ip=function(){function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ph,this._completeRedirectFn=qd,this._overrideRedirectResult=Dd}return g(e,[{key:"_openPopup",value:function(){var e=Fr(Lr().mark((function e(t,n,r,i){var a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ks(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=_p(t,n,r,Ys(),i),e.abrupt("return",bp(t,o,yh()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fr(Lr().mark((function e(t,n,r,i){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=_p(t,n,r,Ys(),i),kh().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ks(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hp(t);case 2:return n=e.sent,r=new Kd(t),n.register("authEvent",(function(e){return Gs(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ep,{type:Ep},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ep];void 0!==i&&t(!!i),js(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ep.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Jc()||Wc()||Yc()}}]),e}(),Sp=Ip,Tp=function(){function e(t){p(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Hs("unexpected MultiFactorSessionType")}}}]),e}(),Cp=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ac(e,"POST","/v2/accounts/mfaEnrollment:finalize",ic(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ac(e,"POST","/v2/accounts/mfaSignIn:finalize",ic(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Tp),Ap=function(){function e(){p(this,e)}return g(e,null,[{key:"assertion",value:function(e){return Cp._fromCredential(e)}}]),e}();Ap.FACTOR_ID="phone";var Np="@firebase/auth",Rp="0.21.3",Dp=function(){function e(t){p(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Gs(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Op;!function(e){var t;null===(t=Gr())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Pp(){return window}Op="Browser",aa(new mi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Gs(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Gs(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Op,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zc(Op)},i=new el(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),aa(new mi("auth-internal",(function(e){return function(e){return new Dp(e)}(tl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ga(Np,Rp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Op)),ga(Np,Rp,"esm2017");var Lp=2e3;function Mp(e,t,n){return Fp.apply(this,arguments)}function Fp(){return Fp=Fr(Lr().mark((function e(t,n,r){var i,a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Pp(),o=a.BuildInfo,Ks(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,qp(n.sessionId);case 4:return u=e.sent,s={},Yc()?s.ibi=o.packageName:Kc()?s.apn=o.packageName:js(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",_p(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function Up(){return Up=Fr(Lr().mark((function e(t){var n,r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pp(),r=n.BuildInfo,i={},Yc()?i.iosBundleId=r.packageName:Kc()?i.androidPackageName=r.packageName:js(t,"operation-not-supported-in-this-environment"),e.next=5,Yd(t,i);case 5:case"end":return e.stop()}}),e)}))),Up.apply(this,arguments)}function Vp(e){var t=Pp().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function jp(e,t,n){return Bp.apply(this,arguments)}function Bp(){return Bp=Fr(Lr().mark((function e(t,n,r){var i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pp(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Bs(t,"redirect-cancelled-by-user"))}),Lp))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Kc()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Bp.apply(this,arguments)}function zp(e){var t,n,r,i,a,o,u,s,c,l,f=Pp();Gs("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Gs("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Gs("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gs("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gs("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function qp(e){return Wp.apply(this,arguments)}function Wp(){return(Wp=Fr(Lr().mark((function e(t){var n,r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gp(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gp(e){if(Ks(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Hp=20,Kp=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),As(w(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Kd);function Qp(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:$p(),postBody:null,tenantId:e.tenantId,error:Bs(e,"no-auth-event")}}function Xp(e,t){return ev()._set(tv(e),t)}function Yp(e){return Jp.apply(this,arguments)}function Jp(){return Jp=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ev()._get(tv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ev()._remove(tv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Zp(e,t){var n,r,i=function(e){var t=nv(e),n=t.link?decodeURIComponent(t.link):void 0,r=nv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return nv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=nv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Bs(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function $p(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Hp;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function ev(){return Xs(hh)}function tv(e){return jc("authEvent",e.config.apiKey,e.name)}function nv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return li(t.slice(1).join("?"))}var rv=function(){function e(){p(this,e),this._redirectPersistence=ph,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qd,this._overrideRedirectResult=Dd}return g(e,[{key:"_initialize",value:function(){var e=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Kp(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){js(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Fr(Lr().mark((function e(t,n,r,i){var a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zp(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Sd.clear(),e.next=10,this._originValidation(t);case 10:return o=Qp(t,r,i),e.next=13,Xp(t,o);case 13:return e.next=15,Mp(t,o,n);case 15:return u=e.sent,e.next=18,Vp(u);case 18:return s=e.sent,e.abrupt("return",jp(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Up.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Pp(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Fr(Lr().mark((function n(){return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Yp(e);case 2:t.onEvent(av());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Fr(Lr().mark((function n(r){var i,a;return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Yp(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Zp(i,r.url)),t.onEvent(a||av());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Pp().handleOpenURL=function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),iv=rv;function av(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Bs("no-auth-event")}}var ov="@firebase/auth-compat",uv="0.3.3",sv=1e3;function cv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function lv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return!("file:"!==cv()&&"ionic:"!==cv()&&"capacitor:"!==cv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function fv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return ei()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yr();return/Edge\/\d+/.test(e)}(e)}function hv(){try{var e=self.localStorage,t=yh();if(e)return e.setItem(t,"1"),e.removeItem(t),!fv()||ti()}catch(n){return dv()&&ti()}return!1}function dv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pv(){return("http:"===cv()||"https:"===cv()||Zr()||lv())&&!($r()||Jr())&&hv()&&!dv()}function vv(){return lv()&&"undefined"!==typeof document}function mv(){return yv.apply(this,arguments)}function yv(){return(yv=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),sv);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gv={LOCAL:"local",NONE:"none",SESSION:"session"},kv=Gs,bv="persistence";function wv(e,t){kv(Object.values(gv).includes(t),e,"invalid-persistence-type"),$r()?kv(t!==gv.SESSION,e,"unsupported-persistence-type"):Jr()?kv(t===gv.NONE,e,"unsupported-persistence-type"):dv()?kv(t===gv.NONE||t===gv.LOCAL&&ti(),e,"unsupported-persistence-type"):kv(t===gv.NONE||hv(),e,"unsupported-persistence-type")}function xv(e){return _v.apply(this,arguments)}function _v(){return _v=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Ev(),r=jc(bv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),_v.apply(this,arguments)}function Ev(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Iv=Gs,Sv=function(){function e(){p(this,e),this.browserResolver=Xs(Sp),this.cordovaResolver=Xs(iv),this.underlyingResolver=null,this._redirectPersistence=ph,this._completeRedirectFn=qd,this._overrideRedirectResult=Dd}return g(e,[{key:"_initialize",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Fr(Lr().mark((function e(t,n,r,i){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fr(Lr().mark((function e(t,n,r,i){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return vv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Iv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mv();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tv(e){return e.unwrap()}function Cv(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Ov(e,function(e,t){var n,r=vi(e),i=t;return Gs(t.customData.operationType,r,"argument-error"),Gs(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),rh._fromError(r,i)}(e,t));else if(r){var i=Av(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Av(e){var t=(e instanceof ri?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ri)&&"temporaryProof"in t&&"phoneNumber"in t)return ld.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ds.PASSWORD)return null;switch(r){case Ds.GOOGLE:n=Hl;break;case Ds.FACEBOOK:n=Gl;break;case Ds.GITHUB:n=Kl;break;case Ds.TWITTER:n=Jl;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ql._create(r,u):Dl._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Wl(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ri?n.credentialFromError(e):n.credentialFromResult(e)}function Nv(e,t){return t.catch((function(t){throw t instanceof ri&&Cv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Av(t)),additionalUserInfo:th(e),user:Pv.getOrCreate(r)}}))}function Rv(e,t){return Dv.apply(this,arguments)}function Dv(){return Dv=Fr(Lr().mark((function e(t,n){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Nv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}var Ov=function(){function e(t,n){p(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Nv(Tv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Pv=function(){function e(t){p(this,e),this._delegate=t,this.multiFactor=function(e){var t=vi(e);return uh.has(t)||uh.set(t,oh._fromUser(t)),uh.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nv(this.auth,kf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rv(this.auth,id(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nv(this.auth,xd(this._delegate,t,Sv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xv(tl(this.auth));case 2:return e.abrupt("return",Vd(this._delegate,t,Sv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nv(this.auth,wf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Rv(this.auth,function(e,t,n){return od.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Nv(this.auth,function(e,t,n){return wd.apply(this,arguments)}(this._delegate,e,Sv))}},{key:"reauthenticateWithRedirect",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xv(tl(this.auth));case 2:return e.abrupt("return",Fd(this._delegate,t,Sv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return zf.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Kf(vi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Kf(vi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return cd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Hf.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return qf.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Pv.USER_MAP=new WeakMap;var Lv=Gs,Mv=function(){function e(t,n){if(p(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Lv(r,"invalid-api-key",{appName:t.name}),Lv(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Sv:void 0;this._delegate=n.initialize({options:{persistence:Uv(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ls),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Pv.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){rl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Rf.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Df(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Nf.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nv(this._delegate,Lf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Bf.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=jl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lv(pv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Bd(this._delegate,Sv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Nv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){tl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Fv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Fv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ff.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Af.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wv(this._delegate,t),e.t0=t,e.next=e.t0===gv.SESSION?4:e.t0===gv.LOCAL?6:e.t0===gv.NONE?11:13;break;case 4:return n=ph,e.abrupt("break",14);case 6:return e.next=8,Xs(Uh)._isAvailable();case 8:return r=e.sent,n=r?Uh:hh,e.abrupt("break",14);case 11:return n=Vc,e.abrupt("break",14);case 13:return e.abrupt("return",js("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Nv(this._delegate,function(e){return nf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Nv(this._delegate,yf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Nv(this._delegate,function(e,t){return If.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Nv(this._delegate,function(e,t,n){return yf(vi(e),Bl.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Nv(this._delegate,function(e,t,n){return Uf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Rv(this._delegate,function(e,t,n){return rd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lv(pv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Nv(this._delegate,kd(this._delegate,t,Sv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lv(pv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xv(this._delegate);case 3:return e.abrupt("return",Ld(this._delegate,t,Sv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Pf.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Fv(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Pv.getOrCreate(e))},error:t,complete:n}}function Uv(e,t){var n=function(e,t){var n=Ev();if(!n)return[];var r=jc(bv,e,t);switch(n.getItem(r)){case gv.NONE:return[Vc];case gv.LOCAL:return[Uh,ph];case gv.SESSION:return[ph];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Uh)||n.push(Uh),"undefined"!==typeof window)for(var r=0,i=[hh,ph];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Vc)||n.push(Vc),n}Mv.Persistence=gv;var Vv=function(){function e(){p(this,e),this.providerId="phone",this._delegate=new ld(Tv(Cs.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ld.credential(e,t)}}]),e}();Vv.PHONE_SIGN_IN_METHOD=ld.PHONE_SIGN_IN_METHOD,Vv.PROVIDER_ID=ld.PROVIDER_ID;var jv,Bv=Gs,zv=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cs.app();p(this,e),Bv(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ed(t,n,i.auth()),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),qv="auth-compat";(jv=Cs).INTERNAL.registerComponent(new mi(qv,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Mv(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Os.EMAIL_SIGNIN,PASSWORD_RESET:Os.PASSWORD_RESET,RECOVER_EMAIL:Os.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Os.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Os.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Os.VERIFY_EMAIL}},EmailAuthProvider:Bl,FacebookAuthProvider:Gl,GithubAuthProvider:Kl,GoogleAuthProvider:Hl,OAuthProvider:Wl,SAMLAuthProvider:Yl,PhoneAuthProvider:Vv,PhoneMultiFactorGenerator:Ap,RecaptchaVerifier:zv,TwitterAuthProvider:Jl,Auth:Mv,AuthCredential:ol,Error:ri}).setInstantiationMode("LAZY").setMultipleInstances(!1)),jv.registerVersion(ov,uv);var Wv,Gv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Hv={},Kv=Kv||{},Qv=Gv||self;function Xv(){}function Yv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Jv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zv="closure_uid_"+(1e9*Math.random()>>>0),$v=0;function em(e,t,n){return e.call.apply(e.bind,arguments)}function tm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function nm(e,t,n){return(nm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?em:tm).apply(null,arguments)}function rm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function im(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function am(){this.s=this.s,this.o=this.o}am.prototype.s=!1,am.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Zv)&&e[Zv]||(e[Zv]=++$v))},am.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var om=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function um(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function sm(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Yv(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function cm(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}cm.prototype.h=function(){this.defaultPrevented=!0};var lm=function(){if(!Qv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qv.addEventListener("test",Xv,t),Qv.removeEventListener("test",Xv,t)}catch(n){}return e}();function fm(e){return/^[\s\xa0]*$/.test(e)}var hm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function dm(e,t){return e<t?-1:e>t?1:0}function pm(){var e=Qv.navigator;return e&&(e=e.userAgent)?e:""}function vm(e){return-1!=pm().indexOf(e)}function mm(e){return mm[" "](e),e}mm[" "]=Xv;var ym,gm=vm("Opera"),km=vm("Trident")||vm("MSIE"),bm=vm("Edge"),wm=bm||km,xm=vm("Gecko")&&!(-1!=pm().toLowerCase().indexOf("webkit")&&!vm("Edge"))&&!(vm("Trident")||vm("MSIE"))&&!vm("Edge"),_m=-1!=pm().toLowerCase().indexOf("webkit")&&!vm("Edge");function Em(){var e=Qv.document;return e?e.documentMode:void 0}e:{var Im="",Sm=function(){var e=pm();return xm?/rv:([^\);]+)(\)|;)/.exec(e):bm?/Edge\/([\d\.]+)/.exec(e):km?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):_m?/WebKit\/(\S+)/.exec(e):gm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Sm&&(Im=Sm?Sm[1]:""),km){var Tm=Em();if(null!=Tm&&Tm>parseFloat(Im)){ym=String(Tm);break e}}ym=Im}var Cm,Am={};function Nm(){return function(e){var t=Am;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=hm(String(ym)).split("."),n=hm("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=dm(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||dm(0==a[2].length,0==o[2].length)||dm(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Qv.document&&km){var Rm=Em();Cm=Rm||(parseInt(ym,10)||void 0)}else Cm=void 0;var Dm=Cm;function Om(e,t){if(cm.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xm){e:{try{mm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Pm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Om.X.h.call(this)}}im(Om,cm);var Pm={2:"touch",3:"pen",4:"mouse"};Om.prototype.h=function(){Om.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Lm="closure_listenable_"+(1e6*Math.random()|0),Mm=0;function Fm(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Mm,this.ba=this.ea=!1}function Um(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Vm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function jm(e){var t={};for(var n in e)t[n]=e[n];return t}var Bm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Bm.length;a++)n=Bm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qm(e){this.src=e,this.g={},this.h=0}function Wm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=om(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Um(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Gm(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}qm.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Gm(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Fm(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Hm="closure_lm_"+(1e6*Math.random()|0),Km={};function Qm(e,t,n,r,i){if(r&&r.once)return Ym(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qm(e,t[a],n,r,i);return null}return n=ry(n),e&&e[Lm]?e.N(t,n,Jv(r)?!!r.capture:!!r,i):Xm(e,t,n,!1,r,i)}function Xm(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Jv(i)?!!i.capture:!!i,u=ty(e);if(u||(e[Hm]=u=new qm(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ey;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)lm||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($m(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ym(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ym(e,t[a],n,r,i);return null}return n=ry(n),e&&e[Lm]?e.O(t,n,Jv(r)?!!r.capture:!!r,i):Xm(e,t,n,!0,r,i)}function Jm(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Jm(e,t[a],n,r,i);else r=Jv(r)?!!r.capture:!!r,n=ry(n),e&&e[Lm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Gm(a=e.g[t],n,r,i))&&(Um(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ty(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gm(t,n,r,i)),(n=-1<e?t[e]:null)&&Zm(n))}function Zm(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Lm])Wm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($m(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ty(t))?(Wm(n,e),0==n.h&&(n.src=null,t[Hm]=null)):Um(e)}}}function $m(e){return e in Km?Km[e]:Km[e]="on"+e}function ey(e,t){if(e.ba)e=!0;else{t=new Om(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Zm(e),e=n.call(r,t)}return e}function ty(e){return(e=e[Hm])instanceof qm?e:null}var ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function ry(e){return"function"===typeof e?e:(e[ny]||(e[ny]=function(t){return e.handleEvent(t)}),e[ny])}function iy(){am.call(this),this.i=new qm(this),this.P=this,this.I=null}function ay(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new cm(t,e);else if(t instanceof cm)t.target=t.target||e;else{var i=t;zm(t=new cm(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=oy(o,r,!0,t)&&i}if(i=oy(o=t.g=e,r,!0,t)&&i,i=oy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=oy(o=t.g=n[a],r,!1,t)&&i}function oy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Wm(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}im(iy,am),iy.prototype[Lm]=!0,iy.prototype.removeEventListener=function(e,t,n,r){Jm(this,e,t,n,r)},iy.prototype.M=function(){if(iy.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Um(n[r]);delete t.g[e],t.h--}}this.I=null},iy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},iy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var uy=Qv.JSON.stringify;function sy(){var e=my,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var cy,ly=function(){function e(){p(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=fy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),fy=new(function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new hy}),(function(e){return e.reset()})),hy=function(){function e(){p(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function dy(e){Qv.setTimeout((function(){throw e}),0)}function py(e,t){cy||function(){var e=Qv.Promise.resolve(void 0);cy=function(){e.then(yy)}}(),vy||(cy(),vy=!0),my.add(e,t)}var vy=!1,my=new ly;function yy(){for(var e;e=sy();){try{e.h.call(e.g)}catch(n){dy(n)}var t=fy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vy=!1}function gy(e,t){iy.call(this),this.h=e||1,this.g=t||Qv,this.j=nm(this.lb,this),this.l=Date.now()}function ky(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function by(e,t,n){if("function"===typeof e)n&&(e=nm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=nm(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qv.setTimeout(e,t||0)}function wy(e){e.g=by((function(){e.g=null,e.i&&(e.i=!1,wy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}im(gy,iy),(Wv=gy.prototype).ca=!1,Wv.R=null,Wv.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ay(this,"tick"),this.ca&&(ky(this),this.start()))}},Wv.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wv.M=function(){gy.X.M.call(this),ky(this),delete this.g};var xy=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:wy(this)}},{key:"M",value:function(){As(w(n.prototype),"M",this).call(this),this.g&&(Qv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(am);function _y(e){am.call(this),this.h=e,this.g={}}im(_y,am);var Ey=[];function Iy(e,t,n,r){Array.isArray(n)||(n&&(Ey[0]=n.toString()),n=Ey);for(var i=0;i<n.length;i++){var a=Qm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Sy(e){Vm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zm(e)}),e),e.g={}}function Ty(){this.g=!0}function Cy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return uy(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}_y.prototype.M=function(){_y.X.M.call(this),Sy(this)},_y.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ty.prototype.Aa=function(){this.g=!1},Ty.prototype.info=function(){};var Ay={},Ny=null;function Ry(){return Ny=Ny||new iy}function Dy(e){cm.call(this,Ay.Pa,e)}function Oy(e){var t=Ry();ay(t,new Dy(t))}function Py(e,t){cm.call(this,Ay.STAT_EVENT,e),this.stat=t}function Ly(e){var t=Ry();ay(t,new Py(t,e))}function My(e,t){cm.call(this,Ay.Qa,e),this.size=t}function Fy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qv.setTimeout((function(){e()}),t)}Ay.Pa="serverreachability",im(Dy,cm),Ay.STAT_EVENT="statevent",im(Py,cm),Ay.Qa="timingevent",im(My,cm);var Uy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Vy={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function jy(){}function By(e){return e.h||(e.h=e.i())}function zy(){}jy.prototype.h=null;var qy,Wy={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Gy(){cm.call(this,"d")}function Hy(){cm.call(this,"c")}function Ky(){}function Qy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new _y(this),this.O=Yy,e=wm?125:void 0,this.T=new gy(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Xy}function Xy(){this.i=null,this.g="",this.h=!1}im(Gy,cm),im(Hy,cm),im(Ky,jy),Ky.prototype.g=function(){return new XMLHttpRequest},Ky.prototype.i=function(){return{}},qy=new Ky;var Yy=45e3,Jy={},Zy={};function $y(e,t,n){e.K=1,e.v=gg(dg(t)),e.s=n,e.P=!0,eg(e,null)}function eg(e,t){e.F=Date.now(),ig(e),e.A=dg(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Rg(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Xy,e.g=Dk(e.l,n?t:null,!e.s),0<e.N&&(e.L=new xy(nm(e.La,e,e.g),e.N)),Iy(e.S,e.g,"readystatechange",e.ib),t=e.H?jm(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Oy(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function tg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function ng(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=rg(e,n))==Zy){4==t&&(e.o=4,Ly(14),i=!1),Cy(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jy){e.o=4,Ly(15),Cy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Cy(e.j,e.m,r,null),cg(e,r)}tg(e)&&r!=Zy&&r!=Jy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ly(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ek(t),t.K=!0,Ly(11))):(Cy(e.j,e.m,n,"[Invalid Chunked Response]"),sg(e),ug(e))}function rg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zy:(n=Number(t.substring(n,r)),isNaN(n)?Jy:(r+=1)+n>t.length?Zy:(t=t.substr(r,n),e.C=r+n,t))}function ig(e){e.V=Date.now()+e.O,ag(e,e.O)}function ag(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fy(nm(e.gb,e),t)}function og(e){e.B&&(Qv.clearTimeout(e.B),e.B=null)}function ug(e){0==e.l.G||e.I||Tk(e.l,e)}function sg(e){og(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ky(e.T),Sy(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function cg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Vg(n.h,e)))if(!e.J&&Vg(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Sk(n),mk(n)}_k(n),Ly(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Fy(nm(n.cb,n),6e3));if(1>=Ug(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Ak(n,11)}else if((e.J||n.g==e)&&Sk(n),!fm(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(jg(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,yg(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Rk(r,r.H?r.ka:null,r.V),d.J){Bg(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(og(p),ig(p)),r.g=d}else xk(r);0<n.i.length&&gk(n)}else"stop"!=a[0]&&"close"!=a[0]||Ak(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ak(n,7):vk(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Oy()}catch(a){}}function lg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yv(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Yv(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Yv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Wv=Qy.prototype).setTimeout=function(e){this.O=e},Wv.ib=function(e){e=e.target;var t=this.L;t&&3==ck(e)?t.l():this.La(e)},Wv.La=function(e){try{if(e==this.g)e:{var t=ck(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||wm||this.g&&(this.h.h||this.g.fa()||lk(this.g)))){this.I||4!=t||7==n||Oy(),og(this);var r=this.g.aa();this.Y=r;t:if(tg(this)){var i=lk(this.g);e="";var a=i.length,o=4==ck(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){sg(this),ug(this);var u="";break t}this.h.i=new Qv.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fm(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ly(12),sg(this),ug(this);break e}Cy(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cg(this,r)}this.P?(ng(this,t,u),wm&&this.i&&3==t&&(Iy(this.S,this.T,"tick",this.hb),this.T.start())):(Cy(this.j,this.m,u,null),cg(this,u)),4==t&&sg(this),this.i&&!this.I&&(4==t?Tk(this.l,this):(this.i=!1,ig(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ly(12)):(this.o=0,Ly(13)),sg(this),ug(this)}}}catch(t){}},Wv.hb=function(){if(this.g){var e=ck(this.g),t=this.g.fa();this.C<t.length&&(og(this),ng(this,e,t),this.i&&4!=e&&ig(this))}},Wv.cancel=function(){this.I=!0,sg(this)},Wv.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Oy(),Ly(17)),sg(this),this.o=2,ug(this)):ag(this,this.V-e)};var fg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hg(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof hg){this.h=void 0!==t?t:e.h,pg(this,e.j),this.s=e.s,this.g=e.g,vg(this,e.m),this.l=e.l,t=e.i;var n=new Tg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mg(this,n),this.o=e.o}else e&&(n=String(e).match(fg))?(this.h=!!t,pg(this,n[1]||"",!0),this.s=kg(n[2]||""),this.g=kg(n[3]||"",!0),vg(this,n[4]),this.l=kg(n[5]||"",!0),mg(this,n[6]||"",!0),this.o=kg(n[7]||"")):(this.h=!!t,this.i=new Tg(null,this.h))}function dg(e){return new hg(e)}function pg(e,t,n){e.j=n?kg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mg(e,t,n){t instanceof Tg?(e.i=t,function(e,t){t&&!e.j&&(Cg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ag(this,t),Rg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=bg(t,Ig)),e.i=new Tg(t,e.h))}function yg(e,t,n){e.i.set(t,n)}function gg(e){return yg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}hg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bg(t,xg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(bg(t,xg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bg(n,"/"==n.charAt(0)?Eg:_g,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bg(n,Sg)),e.join("")};var xg=/[#\/\?@]/g,_g=/[#\?:]/g,Eg=/[#\?]/g,Ig=/[#\?@]/g,Sg=/#/g;function Tg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Cg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ag(e,t){Cg(e),t=Dg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ng(e,t){return Cg(e),t=Dg(e,t),e.g.has(t)}function Rg(e,t,n){Ag(e,t),0<n.length&&(e.i=null,e.g.set(Dg(e,t),um(n)),e.h+=n.length)}function Dg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Wv=Tg.prototype).add=function(e,t){Cg(this),this.i=null,e=Dg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Wv.forEach=function(e,t){Cg(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Wv.oa=function(){Cg(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Wv.W=function(e){Cg(this);var t=[];if("string"===typeof e)Ng(this,e)&&(t=t.concat(this.g.get(Dg(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Wv.set=function(e,t){return Cg(this),this.i=null,Ng(this,e=Dg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Wv.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Wv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Og=g((function e(t,n){p(this,e),this.h=t,this.g=n}));function Pg(e){this.l=e||Mg,Qv.PerformanceNavigationTiming?e=0<(e=Qv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qv.g&&Qv.g.Ga&&Qv.g.Ga()&&Qv.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Lg,Mg=10;function Fg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ug(e){return e.h?1:e.g?e.g.size:0}function Vg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jg(e,t){e.g?e.g.add(t):e.h=t}function Bg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zg(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return um(e.i)}function qg(){}function Wg(){this.g=new qg}function Gg(e,t,n){var r=n||"";try{lg(e,(function(e,n){var i=e;Jv(e)&&(i=uy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Kg(e){this.l=e.ac||null,this.j=e.jb||!1}function Qg(e,t){iy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Xg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pg.prototype.cancel=function(){if(this.i=zg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},qg.prototype.stringify=function(e){return Qv.JSON.stringify(e,void 0)},qg.prototype.parse=function(e){return Qv.JSON.parse(e,void 0)},im(Kg,jy),Kg.prototype.g=function(){return new Qg(this.l,this.j)},Kg.prototype.i=(Lg={},function(){return Lg}),im(Qg,iy);var Xg=0;function Yg(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Jg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zg(e)}function Zg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Wv=Qg.prototype).open=function(e,t){if(this.readyState!=Xg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zg(this)},Wv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Qv).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Wv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jg(this)),this.readyState=Xg},Wv.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zg(this)),this.g&&(this.readyState=3,Zg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Qv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yg(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Wv.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jg(this):Zg(this),3==this.readyState&&Yg(this)}},Wv.Va=function(e){this.g&&(this.response=this.responseText=e,Jg(this))},Wv.Ua=function(e){this.g&&(this.response=e,Jg(this))},Wv.ga=function(){this.g&&Jg(this)},Wv.setRequestHeader=function(e,t){this.v.append(e,t)},Wv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Wv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Qg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var $g=Qv.JSON.parse;function ek(e){iy.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tk,this.K=this.L=!1}im(ek,iy);var tk="",nk=/^https?$/i,rk=["POST","PUT"];function ik(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ak(e),uk(e)}function ak(e){e.D||(e.D=!0,ay(e,"complete"),ay(e,"error"))}function ok(e){if(e.h&&"undefined"!=typeof Kv&&(!e.C[1]||4!=ck(e)||2!=e.aa()))if(e.v&&4==ck(e))by(e.Ha,0,e);else if(ay(e,"readystatechange"),4==ck(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(fg)[1]||null;if(!a&&Qv.self&&Qv.self.location){var o=Qv.self.location.protocol;a=o.substr(0,o.length-1)}i=!nk.test(a?a.toLowerCase():"")}t=i}if(t)ay(e,"complete"),ay(e,"success");else{e.m=6;try{var u=2<ck(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",ak(e)}}finally{uk(e)}}}function uk(e,t){if(e.g){sk(e);var n=e.g,r=e.C[0]?Xv:null;e.g=null,e.C=null,t||ay(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function sk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Qv.clearTimeout(e.A),e.A=null)}function ck(e){return e.g?e.g.readyState:0}function lk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case tk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(tt){return null}}function fk(e){var t="";return Vm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function hk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fk(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yg(e,t,n))}function dk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function pk(e){this.Ca=0,this.i=[],this.j=new Ty,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=dk("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=dk("baseRetryDelayMs",5e3,e),this.bb=dk("retryDelaySeedMs",1e4,e),this.$a=dk("forwardChannelMaxRetries",2,e),this.ta=dk("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Pg(e&&e.concurrentRequestLimit),this.Fa=new Wg,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function vk(e){if(yk(e),3==e.G){var t=e.U++,n=dg(e.F);yg(n,"SID",e.I),yg(n,"RID",t),yg(n,"TYPE","terminate"),bk(e,n),(t=new Qy(e,e.j,t,void 0)).K=2,t.v=gg(dg(n)),n=!1,Qv.navigator&&Qv.navigator.sendBeacon&&(n=Qv.navigator.sendBeacon(t.v.toString(),"")),!n&&Qv.Image&&((new Image).src=t.v,n=!0),n||(t.g=Dk(t.l,null),t.g.da(t.v)),t.F=Date.now(),ig(t)}Nk(e)}function mk(e){e.g&&(Ek(e),e.g.cancel(),e.g=null)}function yk(e){mk(e),e.u&&(Qv.clearTimeout(e.u),e.u=null),Sk(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Qv.clearTimeout(e.m),e.m=null)}function gk(e){Fg(e.h)||e.m||(e.m=!0,py(e.Ja,e),e.C=0)}function kk(e,t){var n;n=t?t.m:e.U++;var r=dg(e.F);yg(r,"SID",e.I),yg(r,"RID",n),yg(r,"AID",e.T),bk(e,r),e.o&&e.s&&hk(r,e.o,e.s),n=new Qy(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=wk(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),jg(e.h,n),$y(n,r,t)}function bk(e,t){e.ia&&Vm(e.ia,(function(e,n){yg(t,n,e)})),e.l&&lg({},(function(e,n){yg(t,n,e)}))}function wk(e,t,n){n=Math.min(e.i.length,n);var r=e.l?nm(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Gg(l,o,"req"+c+"_")}catch(yt){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function xk(e){e.g||e.u||(e.Z=1,py(e.Ia,e),e.A=0)}function _k(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Fy(nm(e.Ia,e),Ck(e,e.A)),e.A++,!0)}function Ek(e){null!=e.B&&(Qv.clearTimeout(e.B),e.B=null)}function Ik(e){e.g=new Qy(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=dg(e.sa);yg(t,"RID","rpc"),yg(t,"SID",e.I),yg(t,"CI",e.L?"0":"1"),yg(t,"AID",e.T),yg(t,"TYPE","xmlhttp"),bk(e,t),e.o&&e.s&&hk(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=gg(dg(t)),n.s=null,n.P=!0,eg(n,e)}function Sk(e){null!=e.v&&(Qv.clearTimeout(e.v),e.v=null)}function Tk(e,t){var n=null;if(e.g==t){Sk(e),Ek(e),e.g=null;var r=2}else{if(!Vg(e.h,t))return;n=t.D,Bg(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ay(r=Ry(),new My(r,n)),gk(e)}else xk(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Ug(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Fy(nm(e.Ja,e,t),Ck(e,e.C)),e.C++,!0))}(e,t)||2==r&&_k(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ak(e,5);break;case 4:Ak(e,10);break;case 3:Ak(e,6);break;default:Ak(e,2)}}function Ck(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ak(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=nm(e.kb,e);n||(n=new hg("//www.google.com/images/cleardot.gif"),Qv.location&&"http"==Qv.location.protocol||pg(n,"https"),gg(n)),function(e,t){var n=new Ty;if(Qv.Image){var r=new Image;r.onload=rm(Hg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rm(Hg,n,r,"TestLoadImage: error",!1,t),r.onabort=rm(Hg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rm(Hg,n,r,"TestLoadImage: timeout",!1,t),Qv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ly(2);e.G=0,e.l&&e.l.va(t),Nk(e),yk(e)}function Nk(e){if(e.G=0,e.la=[],e.l){var t=zg(e.h);0==t.length&&0==e.i.length||(sm(e.la,t),sm(e.la,e.i),e.h.i.length=0,um(e.i),e.i.length=0),e.l.ua()}}function Rk(e,t,n){var r=n instanceof hg?dg(n):new hg(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),vg(r,r.m);else{var i=Qv.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new hg(null,void 0);r&&pg(a,r),t&&(a.g=t),i&&vg(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&yg(r,n,t),yg(r,"VER",e.ma),bk(e,r),r}function Dk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ek(new Kg({jb:!0})):new ek(e.ra)).Ka(e.H),t}function Ok(){}function Pk(){if(km&&!(10<=Number(Dm)))throw Error("Environmental error: no available transport.")}function Lk(e,t){iy.call(this),this.g=new pk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!fm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Uk(this)}function Mk(e){Gy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Fk(){Hy.call(this),this.status=1}function Uk(e){this.g=e}(Wv=ek.prototype).Ka=function(e){this.L=e},Wv.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qy.g(),this.C=this.u?By(this.u):By(qy),this.g.onreadystatechange=nm(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void ik(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Qv.FormData&&e instanceof Qv.FormData,!(0<=om(rk,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=C(n);try{for(c.s();!(s=c.n()).done;){var l=f(s.value,2),h=l[0],d=l[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sk(this),0<this.B&&((this.K=function(e){return km&&Nm()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nm(this.qa,this)):this.A=by(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){ik(this,u)}},Wv.qa=function(){"undefined"!=typeof Kv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ay(this,"timeout"),this.abort(8))},Wv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ay(this,"complete"),ay(this,"abort"),uk(this))},Wv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uk(this,!0)),ek.X.M.call(this)},Wv.Ha=function(){this.s||(this.F||this.v||this.l?ok(this):this.fb())},Wv.fb=function(){ok(this)},Wv.aa=function(){try{return 2<ck(this)?this.g.status:-1}catch(Lg){return-1}},Wv.fa=function(){try{return this.g?this.g.responseText:""}catch(Lg){return""}},Wv.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),$g(t)}},Wv.Ea=function(){return this.m},Wv.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Wv=pk.prototype).ma=8,Wv.G=1,Wv.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Qy(this,this.j,e,void 0),n=this.s;if(this.S&&(n?zm(n=jm(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=wk(this,t,r),yg(i=dg(this.F),"RID",e),yg(i,"CVER",22),this.D&&yg(i,"X-HTTP-Session-Id",this.D),bk(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(fk(n)))+"&"+r:this.o&&hk(i,this.o,n)),jg(this.h,t),this.Ya&&yg(i,"TYPE","init"),this.O?(yg(i,"$req",r),yg(i,"SID","null"),t.Z=!0,$y(t,i,null)):$y(t,i,r),this.G=2}}else 3==this.G&&(e?kk(this,e):0==this.i.length||Fg(this.h)||kk(this))},Wv.Ia=function(){if(this.u=null,Ik(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Fy(nm(this.eb,this),e)}},Wv.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ly(10),mk(this),Ik(this))},Wv.cb=function(){null!=this.v&&(this.v=null,mk(this),_k(this),Ly(19))},Wv.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Ly(2)):(this.j.info("Failed to ping google.com"),Ly(1))},(Wv=Ok.prototype).xa=function(){},Wv.wa=function(){},Wv.va=function(){},Wv.ua=function(){},Wv.Ra=function(){},Pk.prototype.g=function(e,t){return new Lk(e,t)},im(Lk,iy),Lk.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Ly(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Rk(e,null,e.V),gk(e)},Lk.prototype.close=function(){vk(this.g)},Lk.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=uy(e),e=n);t.i.push(new Og(t.ab++,e)),3==t.G&&gk(t)},Lk.prototype.M=function(){this.g.l=null,delete this.j,vk(this.g),delete this.g,Lk.X.M.call(this)},im(Mk,Gy),im(Fk,Hy),im(Uk,Ok),Uk.prototype.xa=function(){ay(this.g,"a")},Uk.prototype.wa=function(e){ay(this.g,new Mk(e))},Uk.prototype.va=function(e){ay(this.g,new Fk)},Uk.prototype.ua=function(){ay(this.g,"b")},Pk.prototype.createWebChannel=Pk.prototype.g,Lk.prototype.send=Lk.prototype.u,Lk.prototype.open=Lk.prototype.m,Lk.prototype.close=Lk.prototype.close,Uy.NO_ERROR=0,Uy.TIMEOUT=8,Uy.HTTP_ERROR=6,Vy.COMPLETE="complete",zy.EventType=Wy,Wy.OPEN="a",Wy.CLOSE="b",Wy.ERROR="c",Wy.MESSAGE="d",iy.prototype.listen=iy.prototype.N,ek.prototype.listenOnce=ek.prototype.O,ek.prototype.getLastError=ek.prototype.Oa,ek.prototype.getLastErrorCode=ek.prototype.Ea,ek.prototype.getStatus=ek.prototype.aa,ek.prototype.getResponseJson=ek.prototype.Sa,ek.prototype.getResponseText=ek.prototype.fa,ek.prototype.send=ek.prototype.da,ek.prototype.setWithCredentials=ek.prototype.Ka;var Vk=Hv.createWebChannelTransport=function(){return new Pk},jk=Hv.getStatEventTarget=function(){return Ry()},Bk=Hv.ErrorCode=Uy,zk=Hv.EventType=Vy,qk=Hv.Event=Ay,Wk=Hv.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Gk=Hv.FetchXmlHttpFactory=Kg,Hk=Hv.WebChannel=zy,Kk=Hv.XhrIo=ek,Qk="@firebase/firestore",Xk=function(){function e(t){p(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Xk.UNAUTHENTICATED=new Xk(null),Xk.GOOGLE_CREDENTIALS=new Xk("google-credentials-uid"),Xk.FIRST_PARTY=new Xk("first-party-uid"),Xk.MOCK_USER=new Xk("mock-user");var Yk="9.17.1",Jk=new Ti("@firebase/firestore");function Zk(){return Jk.logLevel}function $k(e){if(Jk.logLevel<=bi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nb);Jk.debug.apply(Jk,["Firestore (".concat(Yk,"): ").concat(e)].concat(d(i)))}}function eb(e){if(Jk.logLevel<=bi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nb);Jk.error.apply(Jk,["Firestore (".concat(Yk,"): ").concat(e)].concat(d(i)))}}function tb(e){if(Jk.logLevel<=bi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nb);Jk.warn.apply(Jk,["Firestore (".concat(Yk,"): ").concat(e)].concat(d(i)))}}function nb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function rb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Yk,") INTERNAL ASSERTION FAILED: ")+e;throw eb(t),new Error(t)}function ib(e,t){e||rb()}function ab(e,t){return e}var ob={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ub=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(ri),sb=g((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),cb=g((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),lb=function(){function e(){p(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Xk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),fb=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),hb=function(){function e(t){p(this,e),this.t=t,this.currentUser=Xk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new sb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new sb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){$k("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):($k("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new sb)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?($k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ib("string"==typeof n.accessToken),new cb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ib(null===e||"string"==typeof e),new Xk(e)}}]),e}(),db=function(){function e(t,n,r,i){p(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Xk.FIRST_PARTY,this.p=new Map}return g(e,[{key:"I",value:function(){return this.g?this.g():(ib(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),pb=function(){function e(t,n,r,i){p(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new db(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Xk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),vb=g((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),mb=function(){function e(t){p(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&$k("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,$k("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){$k("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):$k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ib("string"==typeof t.token),e.A=t.token,new vb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function yb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var gb=function(){function e(){p(this,e)}return g(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=yb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function kb(e,t){return e<t?-1:e>t?1:0}function bb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function wb(e){return e+"\0"}var xb=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ub(ob.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ub(ob.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ub(ob.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ub(ob.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?kb(this.nanoseconds,e.nanoseconds):kb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),_b=function(){function e(t){p(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new xb(0,0))}},{key:"max",value:function(){return new e(new xb(253402300799,999999999))}}]),e}(),Eb=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&rb(),void 0===r?r=t.length-n:r>t.length-n&&rb(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ib=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ub(ob.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,d(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Eb),Sb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tb=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ub(ob.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ub(ob.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ub(ob.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ub(ob.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Eb),Cb=function(){function e(t){p(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ib.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ib.fromString(t))}},{key:"fromName",value:function(t){return new e(Ib.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ib.emptyPath())}},{key:"comparator",value:function(e,t){return Ib.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ib(t.slice()))}}]),e}(),Ab=g((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Nb(e){return e.fields.find((function(e){return 2===e.kind}))}function Rb(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ab.UNKNOWN_ID=-1;var Db=g((function e(t,n){p(this,e),this.fieldPath=t,this.kind=n}));var Ob=function(){function e(t,n){p(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,Mb.min())}}]),e}();function Pb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_b.fromTimestamp(1e9===r?new xb(n+1,0):new xb(n,r));return new Mb(i,Cb.empty(),t)}function Lb(e){return new Mb(e.readTime,e.key,-1)}var Mb=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(_b.min(),Cb.empty(),-1)}},{key:"max",value:function(){return new e(_b.max(),Cb.empty(),-1)}}]),e}();function Fb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Cb.comparator(e.documentKey,t.documentKey))?n:kb(e.largestBatchId,t.largestBatchId)}var Ub="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vb=function(){function e(){p(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function jb(e){return Bb.apply(this,arguments)}function Bb(){return Bb=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ob.FAILED_PRECONDITION&&t.message===Ub){e.next=2;break}throw t;case 2:$k("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}var zb=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&rb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),qb=function(){function e(t,n){var r=this;p(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new sb,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Hb(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Jb(e.target.error);r.P.reject(new Hb(t,n))}}return g(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||($k("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Qb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Hb(n,t)}}}]),e}(),Wb=function(){function e(t,n,r){p(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Yr())&&eb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"F",value:function(){var e=Fr(Lr().mark((function e(t){var n=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return $k("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Hb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ub(ob.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ub(ob.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Hb(t,n))},i.onupgradeneeded=function(e){$k("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){$k("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Fr(Lr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Lr().mark((function e(){var n,u,s,l;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=qb.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),zb.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,$k("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return $k("SimpleDb","Removing database:",e),Xb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ti())return!1;if(e.N())return!0;var t=Yr(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Gb=function(){function e(t){p(this,e),this.q=t,this.U=!1,this.K=null}return g(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Xb(this.q.delete())}}]),e}(),Hb=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,ob.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(ub);function Kb(e){return"IndexedDbTransactionError"===e.name}var Qb=function(){function e(t){p(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?($k("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):($k("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Xb(n)}},{key:"add",value:function(e){return $k("SimpleDb","ADD",this.store.name,e,e),Xb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Xb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),$k("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return $k("SimpleDb","DELETE",this.store.name,e),Xb(this.store.delete(e))}},{key:"count",value:function(){return $k("SimpleDb","COUNT",this.store.name),Xb(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new zb((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new zb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){$k("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new zb((function(n,r){t.onerror=function(e){var t=Jb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new zb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Gb(i),o=t(i.primaryKey,i.value,a);if(o instanceof zb){var u=o.catch((function(e){return a.done(),zb.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return zb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Xb(e){return new zb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Jb(e.target.error);n(t)}}))}var Yb=!1;function Jb(e){var t=Wb.D(Yr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ub("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Yb||(Yb=!0,setTimeout((function(){throw r}),0)),r}}return e}var Zb=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.et=n,this.task=null}return g(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;$k("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=$k,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Kb(e.t4)){e.next=17;break}$k("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,jb(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),$b=function(){function e(t,n){p(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"st",value:function(){var e=Fr(Lr().mark((function e(){var t,n=this,r=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return zb.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return $k("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return $k("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Lb(t);Fb(r,n)>0&&(n=r)})),new Mb(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),ew=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();ew.at=-1;var tw=g((function e(t,n,r,i,a,o,u,s){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),nw=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function rw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function iw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ow(e){return null==e}function uw(e){return 0===e&&1/e==-1/0}function sw(e){return"number"==typeof e&&Number.isInteger(e)&&!uw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var cw=function(e){function t(e){p(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return kb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();cw.EMPTY_BYTE_STRING=new cw("");var lw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fw(e){if(ib(!!e),"string"==typeof e){var t=0,n=lw.exec(e);if(ib(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hw(e.seconds),nanos:hw(e.nanos)}}function hw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dw(e){return"string"==typeof e?cw.fromBase64String(e):cw.fromUint8Array(e)}function pw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vw(e){var t=e.mapValue.fields.__previous_value__;return pw(t)?vw(t):t}function mw(e){var t=fw(e.mapValue.fields.__local_write_time__.timestampValue);return new xb(t.seconds,t.nanos)}var yw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gw={nullValue:"NULL_VALUE"};function kw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pw(e)?4:Ow(e)?9007199254740991:10:rb()}function bw(e,t){if(e===t)return!0;var n=kw(e);if(n!==kw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mw(e).isEqual(mw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fw(e.timestampValue),r=fw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dw(e.bytesValue).isEqual(dw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hw(e.geoPointValue.latitude)===hw(t.geoPointValue.latitude)&&hw(e.geoPointValue.longitude)===hw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hw(e.integerValue)===hw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=hw(e.doubleValue),r=hw(t.doubleValue);return n===r?uw(n)===uw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bb(e.arrayValue.values||[],t.arrayValue.values||[],bw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rw(n)!==rw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bw(n[i],r[i])))return!1;return!0}(e,t);default:return rb()}}function ww(e,t){return void 0!==(e.values||[]).find((function(e){return bw(e,t)}))}function xw(e,t){if(e===t)return 0;var n=kw(e),r=kw(t);if(n!==r)return kb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=hw(e.integerValue||e.doubleValue),r=hw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _w(e.timestampValue,t.timestampValue);case 4:return _w(mw(e),mw(t));case 5:return kb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=dw(e),r=dw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=kb(n[i],r[i]);if(0!==a)return a}return kb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=kb(hw(e.latitude),hw(t.latitude));return 0!==n?n:kb(hw(e.longitude),hw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=xw(n[i],r[i]);if(a)return a}return kb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===yw.mapValue&&t===yw.mapValue)return 0;if(e===yw.mapValue)return 1;if(t===yw.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=kb(r[o],a[o]);if(0!==u)return u;var s=xw(n[r[o]],i[a[o]]);if(0!==s)return s}return kb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw rb()}}function _w(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kb(e,t);var n=fw(e),r=fw(t),i=kb(n.seconds,r.seconds);return 0!==i?i:kb(n.nanos,r.nanos)}function Ew(e){return Iw(e)}function Iw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=fw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Cb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Iw(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Iw(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):rb();var t,n}function Sw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Tw(e){return!!e&&"integerValue"in e}function Cw(e){return!!e&&"arrayValue"in e}function Aw(e){return!!e&&"nullValue"in e}function Nw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rw(e){return!!e&&"mapValue"in e}function Dw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return iw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Dw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Dw(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ow(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Pw(e){return"nullValue"in e?gw:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Sw(nw.empty(),Cb.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:rb()}function Lw(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Sw(nw.empty(),Cb.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?yw:rb()}function Mw(e,t){var n=xw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Fw(e,t){var n=xw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Uw=g((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function Vw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Cb.comparator(Cb.fromName(o.referenceValue),n.key):xw(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function jw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!bw(e.position[n],t.position[n]))return!1;return!0}var Bw=g((function e(){p(this,e)})),zw=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xw(t,this.value)):null!==t&&kw(this.value)===kw(t)&&this.matchesComparison(xw(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rb()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Zw(e,t,r):"array-contains"===t?new nx(e,r):"in"===t?new rx(e,r):"not-in"===t?new ix(e,r):"array-contains-any"===t?new ax(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new $w(e,n):new ex(e,n)}}]),n}(Bw),qw=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return g(n,[{key:"matches",value:function(e){return Ww(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Bw);function Ww(e){return"and"===e.op}function Gw(e){return"or"===e.op}function Hw(e){return Kw(e)&&Ww(e)}function Kw(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof qw)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Qw(e){if(e instanceof zw)return e.field.canonicalString()+e.op.toString()+Ew(e.value);if(Hw(e))return e.filters.map((function(e){return Qw(e)})).join(",");var t=e.filters.map((function(e){return Qw(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Xw(e,t){return e instanceof zw?function(e,t){return t instanceof zw&&e.op===t.op&&e.field.isEqual(t.field)&&bw(e.value,t.value)}(e,t):e instanceof qw?function(e,t){return t instanceof qw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Xw(n,t.filters[r])}),!0)}(e,t):void rb()}function Yw(e,t){var n=e.filters.concat(t);return qw.create(n,e.op)}function Jw(e){return e instanceof zw?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ew(e.value))}(e):e instanceof qw?function(e){return e.op.toString()+" {"+e.getFilters().map(Jw).join(" ,")+"}"}(e):"Filter"}var Zw=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=Cb.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=Cb.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(zw),$w=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=tx("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zw),ex=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=tx("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zw);function tx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Cb.fromName(e.referenceValue)}))}var nx=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Cw(t)&&ww(t.arrayValue,this.value)}}]),n}(zw),rx=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ww(this.value.arrayValue,t)}}]),n}(zw),ix=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(ww(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ww(this.value.arrayValue,t)}}]),n}(zw),ax=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Cw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ww(t.value.arrayValue,e)}))}}]),n}(zw),ox=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function ux(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var sx=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||lx.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,lx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,lx.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new cx(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new cx(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new cx(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new cx(this.root,e,this.comparator,!0)}}]),e}(),cx=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),lx=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw rb();if(this.right.isRed())throw rb();var e=this.left.check();if(e!==this.right.check())throw rb();return e+(this.isRed()?0:1)}}]),e}();lx.EMPTY=null,lx.RED=!0,lx.BLACK=!1,lx.EMPTY=new(function(){function e(){p(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw rb()}},{key:"value",get:function(){throw rb()}},{key:"color",get:function(){throw rb()}},{key:"left",get:function(){throw rb()}},{key:"right",get:function(){throw rb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new lx(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var fx=function(){function e(t){p(this,e),this.comparator=t,this.data=new sx(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new hx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new hx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),hx=function(){function e(t){p(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function dx(e){return e.hasNext()?e.getNext():void 0}var px=function(){function e(t){p(this,e),this.fields=t,t.sort(Tb.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new fx(Tb.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=C(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return bb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),vx=function(){function e(t){p(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Rw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dw(t)}},{key:"setAll",value:function(e){var t=this,n=Tb.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Dw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Rw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return bw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Rw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){iw(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Dw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function mx(e){var t=[];return iw(e.fields,(function(e,n){var r=new Tb([e]);if(Rw(n)){var i=mx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new px(t)}var yx=function(){function e(t,n,r,i,a,o,u){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(_b.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=vx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=vx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=_b.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,_b.min(),_b.min(),_b.min(),vx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,_b.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,_b.min(),_b.min(),vx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,_b.min(),_b.min(),vx.empty(),2)}}]),e}(),gx=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function kx(e){return new gx(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function bx(e){var t=ab(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Qw(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ow(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ew(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ew(e)})).join(",")),t.ft=n}return t.ft}function wx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ux(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Xw(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jw(e.startAt,t.startAt)&&jw(e.endAt,t.endAt)}function xx(e){return Cb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function _x(e,t){return e.filters.filter((function(e){return e instanceof zw&&e.field.isEqual(t)}))}function Ex(e,t,n){var r,i=gw,a=!0,o=C(_x(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=gw,c=!0;switch(u.op){case"<":case"<=":s=Pw(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=gw}Mw({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Mw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Ix(e,t,n){var r,i=yw,a=!0,o=C(_x(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=yw,c=!0;switch(u.op){case">=":case">":s=Lw(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=yw}Fw({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Fw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Sx=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function Tx(e,t,n,r,i,a,o,u){return new Sx(e,t,n,r,i,a,o,u)}function Cx(e){return new Sx(e)}function Ax(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Nx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Rx(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Dx(e){return null!==e.collectionGroup}function Ox(e){var t=ab(e);if(null===t.dt){t.dt=[];var n=Rx(t),r=Nx(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new ox(n)),t.dt.push(new ox(Tb.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new ox(Tb.keyField(),s))}}}return t.dt}function Px(e){var t=ab(e);if(!t._t)if("F"===t.limitType)t._t=kx(t.path,t.collectionGroup,Ox(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(Ox(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ox(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Uw(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Uw(t.startAt.position,t.startAt.inclusive):null;t._t=kx(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Lx(e,t){t.getFirstInequalityField(),Rx(e);var n=e.filters.concat([t]);return new Sx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Mx(e,t,n){return new Sx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fx(e,t){return wx(Px(e),Px(t))&&e.limitType===t.limitType}function Ux(e){return"".concat(bx(Px(e)),"|lt:").concat(e.limitType)}function Vx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Jw(e)})).join(", "),"]")),ow(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ew(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ew(e)})).join(",")),"Target(".concat(t,")")}(Px(e)),"; limitType=").concat(e.limitType,")")}function jx(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Cb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(Ox(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Vw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ox(e),t))&&!(e.endAt&&!function(e,t,n){var r=Vw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ox(e),t))}(e,t)}function Bx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zx(e){return function(t,n){var r,i=!1,a=C(Ox(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=qx(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function qx(e,t,n){var r=e.field.isKeyField()?Cb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xw(r,i):rb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rb()}}function Wx(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uw(t)?"-0":t}}function Gx(e){return{integerValue:""+e}}function Hx(e,t){return sw(t)?Gx(t):Wx(e,t)}var Kx=g((function e(){p(this,e),this._=void 0}));function Qx(e,t,n){return e instanceof Jx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zx?$x(e,t):e instanceof e_?t_(e,t):function(e,t){var n=Yx(e,t),r=r_(n)+r_(e.gt);return Tw(n)&&Tw(e.gt)?Gx(r):Wx(e.yt,r)}(e,t)}function Xx(e,t,n){return e instanceof Zx?$x(e,t):e instanceof e_?t_(e,t):n}function Yx(e,t){return e instanceof n_?Tw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Jx=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(Kx),Zx=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Kx);function $x(e,t){var n,r=i_(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return bw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var e_=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Kx);function t_(e,t){var n,r=i_(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!bw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var n_=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return g(n)}(Kx);function r_(e){return hw(e.integerValue||e.doubleValue)}function i_(e){return Cw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var a_=g((function e(t,n){p(this,e),this.field=t,this.transform=n}));var o_=g((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),u_=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function s_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var c_=g((function e(){p(this,e)}));function l_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new x_(e.key,u_.none()):new v_(e.key,e.data,u_.none());var n,r=e.data,i=vx.empty(),a=new fx(Tb.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new m_(e.key,i,new px(a.toArray()),u_.none())}function f_(e,t,n){e instanceof v_?function(e,t,n){var r=e.value.clone(),i=g_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof m_?function(e,t,n){if(s_(e.precondition,t)){var r=g_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(y_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function h_(e,t,n,r){return e instanceof v_?function(e,t,n,r){if(!s_(e.precondition,t))return n;var i=e.value.clone(),a=k_(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof m_?function(e,t,n,r){if(!s_(e.precondition,t))return n;var i=k_(e.fieldTransforms,r,t),a=t.data;return a.setAll(y_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return s_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function d_(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Yx(a.transform,o||null);null!=u&&(null===r&&(r=vx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function p_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zx&&t instanceof Zx||e instanceof e_&&t instanceof e_?bb(e.elements,t.elements,bw):e instanceof n_&&t instanceof n_?bw(e.gt,t.gt):e instanceof Jx&&t instanceof Jx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var v_=function(e){b(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(c_),m_=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(c_);function y_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function g_(e,t,n){var r=new Map;ib(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Xx(o,u,n[i]))}return r}function k_(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Qx(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var b_,w_,x_=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(c_),__=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(c_),E_=g((function e(t){p(this,e),this.count=t}));function I_(e){switch(e){default:return rb();case ob.CANCELLED:case ob.UNKNOWN:case ob.DEADLINE_EXCEEDED:case ob.RESOURCE_EXHAUSTED:case ob.INTERNAL:case ob.UNAVAILABLE:case ob.UNAUTHENTICATED:return!1;case ob.INVALID_ARGUMENT:case ob.NOT_FOUND:case ob.ALREADY_EXISTS:case ob.PERMISSION_DENIED:case ob.FAILED_PRECONDITION:case ob.ABORTED:case ob.OUT_OF_RANGE:case ob.UNIMPLEMENTED:case ob.DATA_LOSS:return!0}}function S_(e){if(void 0===e)return eb("GRPC error has no .code"),ob.UNKNOWN;switch(e){case b_.OK:return ob.OK;case b_.CANCELLED:return ob.CANCELLED;case b_.UNKNOWN:return ob.UNKNOWN;case b_.DEADLINE_EXCEEDED:return ob.DEADLINE_EXCEEDED;case b_.RESOURCE_EXHAUSTED:return ob.RESOURCE_EXHAUSTED;case b_.INTERNAL:return ob.INTERNAL;case b_.UNAVAILABLE:return ob.UNAVAILABLE;case b_.UNAUTHENTICATED:return ob.UNAUTHENTICATED;case b_.INVALID_ARGUMENT:return ob.INVALID_ARGUMENT;case b_.NOT_FOUND:return ob.NOT_FOUND;case b_.ALREADY_EXISTS:return ob.ALREADY_EXISTS;case b_.PERMISSION_DENIED:return ob.PERMISSION_DENIED;case b_.FAILED_PRECONDITION:return ob.FAILED_PRECONDITION;case b_.ABORTED:return ob.ABORTED;case b_.OUT_OF_RANGE:return ob.OUT_OF_RANGE;case b_.UNIMPLEMENTED:return ob.UNIMPLEMENTED;case b_.DATA_LOSS:return ob.DATA_LOSS;default:return rb()}}(w_=b_||(b_={}))[w_.OK=0]="OK",w_[w_.CANCELLED=1]="CANCELLED",w_[w_.UNKNOWN=2]="UNKNOWN",w_[w_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",w_[w_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",w_[w_.NOT_FOUND=5]="NOT_FOUND",w_[w_.ALREADY_EXISTS=6]="ALREADY_EXISTS",w_[w_.PERMISSION_DENIED=7]="PERMISSION_DENIED",w_[w_.UNAUTHENTICATED=16]="UNAUTHENTICATED",w_[w_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",w_[w_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",w_[w_.ABORTED=10]="ABORTED",w_[w_.OUT_OF_RANGE=11]="OUT_OF_RANGE",w_[w_.UNIMPLEMENTED=12]="UNIMPLEMENTED",w_[w_.INTERNAL=13]="INTERNAL",w_[w_.UNAVAILABLE=14]="UNAVAILABLE",w_[w_.DATA_LOSS=15]="DATA_LOSS";var T_=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){iw(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return aw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),C_=new sx(Cb.comparator);function A_(){return C_}var N_=new sx(Cb.comparator);function R_(){for(var e=N_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function D_(e){var t=N_;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function O_(){return L_()}function P_(){return L_()}function L_(){return new T_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var M_=new sx(Cb.comparator),F_=new fx(Cb.comparator);function U_(){for(var e=F_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var V_=new fx(kb);function j_(){return V_}var B_=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,z_.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(_b.min(),i,j_(),A_(),U_())}}]),e}(),z_=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,U_(),U_(),U_())}}]),e}(),q_=g((function e(t,n,r,i){p(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),W_=g((function e(t,n){p(this,e),this.targetId=t,this.Et=n})),G_=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),H_=function(){function e(){p(this,e),this.At=0,this.Rt=X_(),this.bt=cw.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return g(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=U_(),t=U_(),n=U_();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rb()}})),new z_(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=X_()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),K_=function(){function e(t){p(this,e),this.$t=t,this.Bt=new Map,this.Lt=A_(),this.qt=Q_(),this.Ut=new fx(kb)}return g(e,[{key:"Kt",value:function(e){var t,n=C(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:rb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(xx(i))if(0===n){var a=new Cb(i.path);this.Qt(t,a,yx.newNoDocument(a,_b.min()))}else ib(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&xx(a.target)){var o=new Cb(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,yx.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=U_();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new B_(e,n,this.Ut,this.Lt,r);return this.Lt=A_(),this.qt=Q_(),this.Ut=new fx(kb),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new H_,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new fx(kb),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||$k("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new H_),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function Q_(){return new sx(Cb.comparator)}function X_(){return new sx(Cb.comparator)}var Y_={asc:"ASCENDING",desc:"DESCENDING"},J_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z_={and:"AND",or:"OR"},$_=g((function e(t,n){p(this,e),this.databaseId=t,this.wt=n}));function eE(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tE(e,t){return e.wt?t.toBase64():t.toUint8Array()}function nE(e,t){return eE(e,t.toTimestamp())}function rE(e){return ib(!!e),_b.fromTimestamp(function(e){var t=fw(e);return new xb(t.seconds,t.nanos)}(e))}function iE(e,t){return function(e){return new Ib(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function aE(e){var t=Ib.fromString(e);return ib(CE(t)),t}function oE(e,t){return iE(e.databaseId,t.path)}function uE(e,t){var n=aE(t);if(n.get(1)!==e.databaseId.projectId)throw new ub(ob.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ub(ob.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Cb(fE(n))}function sE(e,t){return iE(e.databaseId,t)}function cE(e){var t=aE(e);return 4===t.length?Ib.emptyPath():fE(t)}function lE(e){return new Ib(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fE(e){return ib(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hE(e,t,n){return{name:oE(e,t),fields:n.value.mapValue.fields}}function dE(e,t,n){var r=uE(e,t.name),i=rE(t.updateTime),a=t.createTime?rE(t.createTime):_b.min(),o=new vx({mapValue:{fields:t.fields}}),u=yx.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function pE(e,t){return"found"in t?function(e,t){ib(!!t.found),t.found.name,t.found.updateTime;var n=uE(e,t.found.name),r=rE(t.found.updateTime),i=t.found.createTime?rE(t.found.createTime):_b.min(),a=new vx({mapValue:{fields:t.found.fields}});return yx.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ib(!!t.missing),ib(!!t.readTime);var n=uE(e,t.missing),r=rE(t.readTime);return yx.newNoDocument(n,r)}(e,t):rb()}function vE(e,t){var n;if(t instanceof v_)n={update:hE(e,t.key,t.value)};else if(t instanceof x_)n={delete:oE(e,t.key)};else if(t instanceof m_)n={update:hE(e,t.key,t.data),updateMask:TE(t.fieldMask)};else{if(!(t instanceof __))return rb();n={verify:oE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Jx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof e_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof n_)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw rb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:rb()}(e,t.precondition)),n}function mE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?u_.updateTime(rE(e.updateTime)):void 0!==e.exists?u_.exists(e.exists):u_.none()}(t.currentDocument):u_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ib("REQUEST_TIME"===t.setToServerValue),n=new Jx;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Zx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new e_(i)}else"increment"in t?n=new n_(e,t.increment):rb();var a=Tb.fromServerFormat(t.fieldPath);return new a_(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=uE(e,t.update.name),a=new vx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new px(t.map((function(e){return Tb.fromServerFormat(e)})))}(t.updateMask);return new m_(i,a,o,n,r)}return new v_(i,a,n,r)}if(t.delete){var u=uE(e,t.delete);return new x_(u,n)}if(t.verify){var s=uE(e,t.verify);return new __(s,n)}return rb()}function yE(e,t){return{documents:[sE(e,t.path)]}}function gE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return SE(qw.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:EE(e.field),direction:wE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||ow(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kE(e){var t=cE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ib(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=bE(e);return t instanceof qw&&Hw(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ox(IE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ow(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Uw(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Uw(n,t)}(n.endAt)),Tx(t,i,u,o,s,"F",c,l)}function bE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=IE(e.unaryFilter.field);return zw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=IE(e.unaryFilter.field);return zw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=IE(e.unaryFilter.field);return zw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=IE(e.unaryFilter.field);return zw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rb()}}(e):void 0!==e.fieldFilter?function(e){return zw.create(IE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rb()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qw.create(e.compositeFilter.filters.map((function(e){return bE(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return rb()}}(e.compositeFilter.op))}(e):rb()}function wE(e){return Y_[e]}function xE(e){return J_[e]}function _E(e){return Z_[e]}function EE(e){return{fieldPath:e.canonicalString()}}function IE(e){return Tb.fromServerFormat(e.fieldPath)}function SE(e){return e instanceof zw?function(e){if("=="===e.op){if(Nw(e.value))return{unaryFilter:{field:EE(e.field),op:"IS_NAN"}};if(Aw(e.value))return{unaryFilter:{field:EE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Nw(e.value))return{unaryFilter:{field:EE(e.field),op:"IS_NOT_NAN"}};if(Aw(e.value))return{unaryFilter:{field:EE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:EE(e.field),op:xE(e.op),value:e.value}}}(e):e instanceof qw?function(e){var t=e.getFilters().map((function(e){return SE(e)}));return 1===t.length?t[0]:{compositeFilter:{op:_E(e.op),filters:t}}}(e):rb()}function TE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function CE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function AE(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=RE(t)),t=NE(e.get(n),t);return RE(t)}function NE(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function RE(e){return e+"\x01\x01"}function DE(e){var t=e.length;if(ib(t>=2),2===t)return ib("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ib.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&rb(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:rb()}a=o+2}return new Ib(r)}var OE=["userId","batchId"];function PE(e,t){return[e,AE(t)]}function LE(e,t,n){return[e,AE(t),n]}var ME={},FE=["prefixPath","collectionGroup","readTime","documentId"],UE=["prefixPath","collectionGroup","documentId"],VE=["collectionGroup","readTime","prefixPath","documentId"],jE=["canonicalId","targetId"],BE=["targetId","path"],zE=["path","targetId"],qE=["collectionId","parent"],WE=["indexId","uid"],GE=["uid","sequenceNumber"],HE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KE=["indexId","uid","orderedDocumentKey"],QE=["userId","collectionPath","documentId"],XE=["userId","collectionPath","largestBatchId"],YE=["userId","collectionGroup","largestBatchId"],JE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ZE=[].concat(d(JE),["documentOverlays"]),$E=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eI=$E,tI=[].concat(eI,["indexConfiguration","indexState","indexEntries"]),nI=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return g(n)}(Vb);function rI(e,t){var n=ab(e);return Wb.M(n.se,t)}var iI=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&f_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=h_(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=h_(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=P_();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=l_(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(_b.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),U_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&bb(this.mutations,e.mutations,(function(e,t){return p_(e,t)}))&&bb(this.baseMutations,e.baseMutations,(function(e,t){return p_(e,t)}))}}]),e}(),aI=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){ib(t.mutations.length===r.length);for(var i=M_,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),oI=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),uI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_b.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_b.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cw.EMPTY_BYTE_STRING;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),sI=g((function e(t){p(this,e),this.ie=t}));function cI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:oE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:eE(e,t.version.toTimestamp()),createTime:eE(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fI(t.version)};else{if(!t.isUnknownDocument())return rb();r.unknownDocument={path:n.path.toArray(),version:fI(t.version)}}return r}function lI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hI(e){var t=new xb(e.seconds,e.nanoseconds);return _b.fromTimestamp(t)}function dI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return mE(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return mE(e.ie,t)})),u=xb.fromMillis(t.localWriteTimeMs);return new iI(t.batchId,u,n,o)}function pI(e){var t,n,r=hI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?hI(e.lastLimboFreeSnapshotVersion):_b.min();return void 0!==e.query.documents?(ib(1===(n=e.query).documents.length),t=Px(Cx(cE(n.documents[0])))):t=function(e){return Px(kE(e))}(e.query),new uI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,cw.fromBase64String(e.resumeToken))}function vI(e,t){var n,r=fI(t.snapshotVersion),i=fI(t.lastLimboFreeSnapshotVersion);n=xx(t.target)?yE(e.ie,t.target):gE(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bx(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function mI(e){var t=kE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mx(t,t.limit,"L"):t}function yI(e,t){return new oI(t.largestBatchId,mE(e.ie,t.overlayMutation))}function gI(e,t){var n=t.path.lastSegment();return[e,AE(t.path.popLast()),n]}function kI(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:fI(r.readTime),documentKey:AE(r.documentKey.path),largestBatchId:r.largestBatchId}}var bI=function(){function e(){p(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return wI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:hI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return wI(e).put({bundleId:(n=t).id,createTime:fI(rE(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return xI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:mI(t.bundledQuery),readTime:hI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return xI(e).put(function(e){return{name:e.name,readTime:fI(rE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function wI(e){return rI(e,"bundles")}function xI(e){return rI(e,"namedQueries")}var _I=function(){function e(t,n){p(this,e),this.yt=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return EI(e).get(gI(this.userId,t)).next((function(e){return e?yI(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=O_();return zb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new oI(t,a);i.push(r.oe(e,o))})),zb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(AE(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(EI(e).Y("collectionPathOverlayIndex",i))})),zb.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=O_(),a=AE(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return EI(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=yI(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=O_(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return EI(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=yI(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return EI(e).put(function(e,t,n){var r=f(gI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:vE(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function EI(e){return rI(e,"documentOverlays")}var II=function(){function e(){p(this,e)}return g(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(hw(e.integerValue));else if("doubleValue"in e){var n=hw(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),uw(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(dw(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Ow(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):rb()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Cb.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function SI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function TI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=SI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}II.Ie=new II;var CI=function(){function e(){p(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=TI(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=TI(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),AI=function(){function e(t){p(this,e),this.$e=t}return g(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),NI=function(){function e(t){p(this,e),this.$e=t}return g(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),RI=function(){function e(){p(this,e),this.$e=new CI,this.Be=new AI(this.$e),this.Le=new NI(this.$e)}return g(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),DI=function(){function e(t,n,r,i){p(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function OI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=PI(e.arrayValue,t.arrayValue))?n:0!==(n=PI(e.directionalValue,t.directionalValue))?n:Cb.comparator(e.documentKey,t.documentKey)}function PI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var LI=function(){function e(t){p(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"je",value:function(e){ib(e.collectionGroup===this.collectionId);var t=Nb(e);if(void 0!==t&&!this.We(t))return!1;for(var n=Rb(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=C(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function MI(e){var t,n;if(ib(e instanceof zw||e instanceof qw),e instanceof zw){if(e instanceof rx){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return zw.create(e.field,"==",t)})))||[];return qw.create(r,"or")}return e}var i=e.filters.map((function(e){return MI(e)}));return qw.create(i,e.op)}function FI(e){if(0===e.getFilters().length)return[];var t=BI(MI(e));return ib(jI(t)),UI(t)||VI(t)?[t]:t.getFilters()}function UI(e){return e instanceof zw}function VI(e){return e instanceof qw&&Hw(e)}function jI(e){return UI(e)||VI(e)||function(e){if(e instanceof qw&&Gw(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!UI(r)&&!VI(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function BI(e){if(ib(e instanceof zw||e instanceof qw),e instanceof zw)return e;if(1===e.filters.length)return BI(e.filters[0]);var t=e.filters.map((function(e){return BI(e)})),n=qw.create(t,e.op);return jI(n=WI(n))?n:(ib(n instanceof qw),ib(Ww(n)),ib(n.filters.length>1),n.filters.reduce((function(e,t){return zI(e,t)})))}function zI(e,t){var n;return ib(e instanceof zw||e instanceof qw),ib(t instanceof zw||t instanceof qw),n=e instanceof zw?t instanceof zw?function(e,t){return qw.create([e,t],"and")}(e,t):qI(e,t):t instanceof zw?qI(t,e):function(e,t){if(ib(e.filters.length>0&&t.filters.length>0),Ww(e)&&Ww(t))return Yw(e,t.getFilters());var n=Gw(e)?e:t,r=Gw(e)?t:e,i=n.filters.map((function(e){return zI(e,r)}));return qw.create(i,"or")}(e,t),WI(n)}function qI(e,t){if(Ww(t))return Yw(t,e.getFilters());var n=t.filters.map((function(t){return zI(e,t)}));return qw.create(n,"or")}function WI(e){if(ib(e instanceof zw||e instanceof qw),e instanceof zw)return e;var t=e.getFilters();if(1===t.length)return WI(t[0]);if(Kw(e))return e;var n=t.map((function(e){return WI(e)})),r=[];return n.forEach((function(t){t instanceof zw?r.push(t):t instanceof qw&&(t.op===e.op?r.push.apply(r,d(t.filters)):r.push(t))})),1===r.length?r[0]:qw.create(r,e.op)}var GI=function(){function e(){p(this,e),this.Je=new HI}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),zb.resolve()}},{key:"getCollectionParents",value:function(e,t){return zb.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return zb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return zb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return zb.resolve(null)}},{key:"getIndexType",value:function(e,t){return zb.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return zb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return zb.resolve(null)}},{key:"getMinOffset",value:function(e,t){return zb.resolve(Mb.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return zb.resolve(Mb.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return zb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return zb.resolve()}}]),e}(),HI=function(){function e(){p(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fx(Ib.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new fx(Ib.comparator)).toArray()}}]),e}(),KI=new Uint8Array(0),QI=function(){function e(t,n){p(this,e),this.user=t,this.databaseId=n,this.Ye=new HI,this.Xe=new T_((function(e){return bx(e)}),(function(e,t){return wx(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:AE(i)};return XI(e).put(a)}return zb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[wb(t),""],!1,!0);return XI(e).W(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(DE(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=JI(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ZI(e);return a.next((function(e){o.put(kI(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=JI(e),r=ZI(e),i=YI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=YI(e),i=!0,a=new Map;return zb.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=U_(),o=[];return zb.forEach(a,(function(i,a){var u;$k("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(bx(t)));var s=function(e,t){var n=Nb(t);if(void 0===n)return null;var r,i=C(_x(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=C(Rb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=C(_x(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(Rb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ex(e,o.fieldPath,e.startAt):Ix(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Uw(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=C(Rb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ix(e,o.fieldPath,e.endAt):Ex(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Uw(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return zb.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Cb.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return zb.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:FI(qw.create(e.filters,"and")).map((function(t){return kx(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[h/c]):KI,f=u.on(e,s,n[h%c],r),p=u.un(e,s,i[h%c],a),v=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,d(u.createRange(f,p,v)))},h=0;h<s;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new DI(e,Cb.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new DI(e,Cb.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new LI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return zb.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new fx(Tb.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=C(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new RI,i=C(Rb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);II.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new RI;return II.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new RI;return II.Ie.ue(Sw(this.databaseId,t),n.qe(function(e){var t=Rb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new RI);var i,a=0,o=C(Rb(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=C(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Cw(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);II.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=d(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=C(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new RI;f.seed(l.Fe()),II.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=JI(e),i=ZI(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return zb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ob(t.sequenceNumber,new Mb(hI(t.readTime),new Cb(DE(t.documentKey)),t.largestBatchId)):Ob.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new Db(Tb.fromServerFormat(n),r)}));return new Ab(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:kb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=JI(e),a=ZI(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return zb.forEach(t,(function(t){return a.put(kI(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return zb.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?zb.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),zb.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?zb.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return YI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return YI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=YI(e),i=new fx(OI);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new DI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new fx(OI),r=this.cn(t,e);if(null==r)return n;var i=Nb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Cw(a)){var o,u=C(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new DI(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new DI(t.indexId,e.key,KI,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;$k("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=dx(a),s=dx(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=dx(o)):l?(i(u),u=dx(a)):(u=dx(a),s=dx(o))}}(r,i,OI,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),zb.waitFor(o)}},{key:"dn",value:function(e){var t=1;return ZI(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return OI(e,t)})).filter((function(e,t,n){return!t||0!==OI(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=OI(o,e),s=OI(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,KI,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,KI,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return OI(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next($I)}},{key:"getMinOffset",value:function(e,t){var n=this;return zb.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||rb()}))})).next($I)}}]),e}();function XI(e){return rI(e,"collectionParents")}function YI(e){return rI(e,"indexEntries")}function JI(e){return rI(e,"indexConfiguration")}function ZI(e){return rI(e,"indexState")}function $I(e){ib(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Fb(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mb(t.readTime,t.documentKey,n)}var eS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tS=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function nS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ib(1===u)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=LE(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return zb.waitFor(a).next((function(){return l}))}function rS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw rb();t=e.noDocument}return JSON.stringify(t).length}tS.DEFAULT_COLLECTION_PERCENTILE=10,tS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tS.DEFAULT=new tS(41943040,tS.DEFAULT_COLLECTION_PERCENTILE,tS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tS.DISABLED=new tS(-1,0,0);var iS=function(){function e(t,n,r,i){p(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oS(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=uS(e),o=oS(e);return o.add({}).next((function(u){ib("number"==typeof u);var s,c=new iI(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return vE(e.ie,t)})),i=n.mutations.map((function(t){return vE(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new fx((function(e,t){return kb(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=LE(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,ME))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),zb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return oS(e).get(t).next((function(e){return e?(ib(e.userId===n.userId),dI(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?zb.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return oS(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ib(t.batchId>=r),a=dI(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return oS(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oS(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return dI(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=PE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return uS(e).Z({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],h=DE(c);if(s===n.userId&&t.path.isEqual(h))return oS(e).get(l).next((function(e){if(!e)throw rb();ib(e.userId===n.userId),a.push(dI(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fx(kb),i=[];return t.forEach((function(t){var a=PE(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=uS(e).Z({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=DE(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),zb.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=PE(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new fx(kb);return uS(e).Z({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],h=DE(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(oS(e).get(t).next((function(e){if(null===e)throw rb();ib(e.userId===n.userId),r.push(dI(n.yt,e))})))})),zb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return nS(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),zb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return zb.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return uS(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=DE(e[1]);i.push(a)}else r.done()})).next((function(){ib(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return aS(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return sS(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return ib(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function aS(e,t,n){var r=PE(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return uS(e).Z({range:a,X:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function oS(e){return rI(e,"mutations")}function uS(e){return rI(e,"documentMutations")}function sS(e){return rI(e,"mutationQueues")}var cS=function(){function e(t){p(this,e),this.bn=t}return g(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),lS=function(){function e(t,n){p(this,e),this.referenceDelegate=t,this.yt=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new cS(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return _b.fromTimestamp(new xb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return fS(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return ib(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return fS(e).Z((function(o,u){var s=pI(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return zb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return fS(e).Z((function(e,n){var r=pI(n);t(r)}))}},{key:"Vn",value:function(e){return hS(e).get("targetGlobalKey").next((function(e){return ib(null!==e),e}))}},{key:"Sn",value:function(e,t){return hS(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return fS(e).put(vI(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=bx(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fS(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=pI(n);wx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=dS(e);return t.forEach((function(t){var o=AE(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),zb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=dS(e);return zb.forEach(t,(function(t){var a=AE(t.path);return zb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=dS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dS(e),i=U_();return r.Z({range:n,X:!0},(function(e,t,n){var r=DE(e[1]),a=new Cb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=AE(t.path),r=IDBKeyRange.bound([n],[wb(n)],!1,!0),i=0;return dS(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return fS(e).get(t).next((function(e){return e?pI(e):null}))}}]),e}();function fS(e){return rI(e,"targets")}function hS(e){return rI(e,"targetGlobal")}function dS(e){return rI(e,"targetDocuments")}function pS(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=kb(r,o);return 0===s?kb(i,u):s}var vS=function(){function e(t){p(this,e),this.xn=t,this.buffer=new fx(pS),this.Nn=0}return g(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),mS=function(){function e(t,n,r){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;$k("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Kb(e.t0)){e.next=12;break}$k("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,jb(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),yS=function(){function e(t,n){p(this,e),this.$n=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return zb.resolve(ew.at);var r=new vS(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?($k("LruGarbageCollector","Garbage collection skipped; disabled"),zb.resolve(eS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?($k("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),eS):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?($k("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Zk()<=bi.DEBUG&&$k("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),zb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),gS=function(){function e(t,n){p(this,e),this.db=t,this.garbageCollector=function(e,t){return new yS(e,t)}(this,n)}return g(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return kS(e,n)}},{key:"removeReference",value:function(e,t,n){return kS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return kS(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return sS(e).tt((function(r){return aS(e,r,t).next((function(e){return e&&(n=!0),zb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,_b.min()),dS(e).delete([0,AE(o.path)])}))}));i.push(s)}})).next((function(){return zb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return kS(e,t)}},{key:"Kn",value:function(e,t){var n,r=dS(e),i=ew.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ew.at&&t(new Cb(DE(n)),i),i=s,n=u):i=ew.at})).next((function(){i!==ew.at&&t(new Cb(DE(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function kS(e,t){return dS(e).put(function(e,t){return{targetId:0,path:AE(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var bS=function(){function e(){p(this,e),this.changes=new T_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,yx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),wS=function(){function e(t){p(this,e),this.yt=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return IS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return IS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=yx.newInvalidDocument(t);return IS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(SS(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:yx.newInvalidDocument(t)};return IS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(SS(t))},(function(e,i){r={document:n.jn(t,i),size:rS(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=A_();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=A_(),i=new sx(Cb.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,rS(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return zb.resolve();var r=new fx(CS);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(SS(r.first()),SS(r.last())),a=r.getIterator(),o=a.getNext();return IS(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Cb.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&CS(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(SS(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),lI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return IS(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=A_(),o=C(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.jn(Cb.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(jx(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=A_(),o=TS(t,n),u=TS(t,Mb.max());return IS(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Cb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new _S(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ES(e).get("remoteDocumentGlobalKey").next((function(e){return ib(!!e),e}))}},{key:"Qn",value:function(e,t){return ES(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=dE(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Cb.fromSegments(t.noDocument.path),i=hI(t.noDocument.readTime);n=yx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return rb();var a=Cb.fromSegments(t.unknownDocument.path),o=hI(t.unknownDocument.version);n=yx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new xb(e[0],e[1]);return _b.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(_b.min()))return n}return yx.newInvalidDocument(e)}}]),e}();function xS(e){return new wS(e)}var _S=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new T_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new fx((function(e,t){return kb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=cI(t.Yn.yt,o);i=i.add(a.path.popLast());var c=rS(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=cI(t.Yn.yt,o.convertToNoDocument(_b.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),zb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(bS);function ES(e){return rI(e,"remoteDocumentGlobal")}function IS(e){return rI(e,"remoteDocumentsV14")}function SS(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function TS(e,t){var n=t.documentKey.path.toArray();return[e,lI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function CS(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=kb(n[a],r[a]))return i;return(i=kb(n.length,r.length))||((i=kb(n[n.length-2],r[r.length-2]))||kb(n[n.length-1],r[r.length-1]))}var AS=g((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),NS=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&h_(r.mutation,e,px.empty(),xb.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,U_()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U_(),i=O_();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=R_();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=O_();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,U_())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=A_(),a=L_(),o=L_();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof m_)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),h_(o.mutation,t,o.mutation.getFieldMask(),xb.now())):a.set(t.key,px.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new AS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=L_(),i=new sx((function(e,t){return e-t})),a=U_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||px.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||U_()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=P_();c.forEach((function(e){if(!a.has(e)){var n=l_(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return zb.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Cb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):zb.resolve(O_()),u=-1,s=a;return o.next((function(t){return zb.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?zb.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,U_())})).next((function(e){return{batchId:u,changes:D_(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Cb(t)).next((function(e){var t=R_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=R_();return this.indexManager.getCollectionParents(e,i).next((function(o){return zb.forEach(o,(function(o){var u=function(e,t){return new Sx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,yx.newInvalidDocument(r)))}));var n=R_();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&h_(a.mutation,i,px.empty(),xb.now()),jx(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),RS=function(){function e(t){p(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return zb.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:rE(n.createTime)}),zb.resolve()}},{key:"getNamedQuery",value:function(e,t){return zb.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:mI(e.bundledQuery),readTime:rE(e.readTime)}}(t)),zb.resolve()}}]),e}(),DS=function(){function e(){p(this,e),this.overlays=new sx(Cb.comparator),this.es=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return zb.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=O_();return zb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),zb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),zb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=O_(),i=t.length+1,a=new Cb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return zb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new sx((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=O_(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=O_(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return zb.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new oI(t,n));var a=this.es.get(t);void 0===a&&(a=U_(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),OS=function(){function e(){p(this,e),this.ns=new fx(PS.ss),this.rs=new fx(PS.os)}return g(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new PS(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new PS(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Cb(new Ib([])),r=new PS(n,e),i=new PS(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Cb(new Ib([])),n=new PS(t,e),r=new PS(t,e+1),i=U_();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new PS(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),PS=function(){function e(t,n){p(this,e),this.key=t,this._s=n}return g(e,null,[{key:"ss",value:function(e,t){return Cb.comparator(e.key,t.key)||kb(e._s,t._s)}},{key:"os",value:function(e,t){return kb(e._s,t._s)||Cb.comparator(e.key,t.key)}}]),e}(),LS=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new fx(PS.ss)}return g(e,[{key:"checkEmpty",value:function(e){return zb.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new iI(i,t,n,r);this.mutationQueue.push(a);var o,u=C(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new PS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return zb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return zb.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return zb.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return zb.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return zb.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new PS(t,0),i=new PS(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),zb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fx(kb);return t.forEach((function(e){var t=new PS(e,0),i=new PS(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),zb.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Cb.isDocumentKey(i)||(i=i.child(""));var a=new PS(new Cb(i),0),o=new fx(kb);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),zb.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ib(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return zb.forEach(t.mutations,(function(i){var a=new PS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new PS(t,0),r=this.gs.firstAfterOrEqual(n);return zb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,zb.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),MS=function(){function e(t){p(this,e),this.Es=t,this.docs=new sx(Cb.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return zb.resolve(n?n.document.mutableCopy():yx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=A_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():yx.newInvalidDocument(e))})),zb.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=A_(),a=t.path,o=new Cb(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Fb(Lb(l),n)<=0||(r.has(l.key)||jx(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return zb.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){rb()}},{key:"As",value:function(e,t){return zb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new FS(this)}},{key:"getSize",value:function(e){return zb.resolve(this.size)}}]),e}(),FS=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).Yn=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),zb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(bS),US=function(){function e(t){p(this,e),this.persistence=t,this.Rs=new T_((function(e){return bx(e)}),wx),this.lastRemoteSnapshotVersion=_b.min(),this.highestTargetId=0,this.bs=0,this.Ps=new OS,this.targetCount=0,this.vs=cS.Pn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),zb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return zb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return zb.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),zb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),zb.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new cS(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,zb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),zb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,zb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),zb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return zb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return zb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),zb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),zb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return zb.resolve(n)}},{key:"containsKey",value:function(e,t){return zb.resolve(this.Ps.containsKey(t))}}]),e}(),VS=function(){function e(t,n){var r=this;p(this,e),this.Vs={},this.overlays={},this.Ss=new ew(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new US(this),this.indexManager=new GI,this.remoteDocumentCache=new MS((function(e){return r.referenceDelegate.xs(e)})),this.yt=new sI(n),this.Ns=new RS(this.yt)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new DS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new LS(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;$k("MemoryPersistence","Starting transaction:",e);var i=new jS(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return zb.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),jS=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(Vb),BS=function(){function e(t){p(this,e),this.persistence=t,this.Fs=new OS,this.$s=null}return g(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw rb()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),zb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),zb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),zb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zb.forEach(this.Ls,(function(r){var i=Cb.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,_b.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return zb.or([function(){return zb.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),zS=function(){function e(t){p(this,e),this.yt=t}return g(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new qb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OE,{unique:!0}),e.createObjectStore("documentMutations")}(e),qS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=zb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),qS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_b.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OE,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return zb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:QE});t.createIndex("collectionPathOverlayIndex",XE,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",YE,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:FE});t.createIndex("documentKeyIndex",UE),t.createIndex("collectionGroupIndex",VE)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:WE}).createIndex("sequenceNumberIndex",GE,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:HE}).createIndex("documentKeyIndex",KE,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=rS(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return zb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return zb.forEach(r,(function(r){ib(r.userId===n.userId);var i=dI(t.yt,r);return nS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Ib(n),o=function(e){return[0,AE(e)]}(a);r.push(t.get(o).next((function(n){return n?zb.resolve():function(n){return t.put({targetId:0,path:AE(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return zb.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:qE});var n=t.store("collectionParents"),r=new HI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:AE(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Ib(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],DE(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=pI(r),a=vI(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Cb(Ib.fromString(i.document.name).popFirst(5)):i.noDocument?Cb.fromSegments(i.noDocument.path):i.unknownDocument?Cb.fromSegments(i.unknownDocument.path):rb()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return zb.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=xS(this.yt),a=new VS(BS.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:U_();dI(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),zb.forEach(r,(function(e,r){var o=new Xk(r),u=_I.re(n.yt,o),s=a.getIndexManager(o),c=iS.re(o,n.yt,s,a.referenceDelegate);return new NS(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new nI(t,ew.at),e).next()}))}))}}]),e}();function qS(e){e.createObjectStore("targetDocuments",{keyPath:BE}).createIndex("documentTargetsIndex",zE,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jE,{unique:!0}),e.createObjectStore("targetGlobal")}var WS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",GS=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(p(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new ub(ob.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gS(this,i),this.ii=n+"main",this.yt=new sI(s),this.ri=new Wb(this.ii,this.Xs,new zS(this.yt)),this.Cs=new lS(this.referenceDelegate,this.yt),this.remoteDocumentCache=xS(this.yt),this.Ns=new bI,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&eb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ub(ob.FAILED_PRECONDITION,WS);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new ew(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Fr(Lr().mark((function n(r){return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Fr(Lr().mark((function t(n){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return KS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Kb(t))return $k("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return $k("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return HS(e).get("owner").next((function(e){return zb.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return KS(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r,i,a=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=rI(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return zb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?zb.resolve(!0):HS(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new ub(ob.FAILED_PRECONDITION,WS);return!1}}return!(!t.networkEnabled||!t.inForeground)||KS(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&$k("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Fr(Lr().mark((function e(){var t=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new nI(e,ew.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return KS(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return iS.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new QI(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return _I.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;$k("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?tI:14===i?eI:13===i?$E:12===i?ZE:11===i?JE:void rb();return this.ri.runTransaction(e,o,u,(function(i){return a=new nI(i,r.Ss?r.Ss.next():ew.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw eb("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new ub(ob.FAILED_PRECONDITION,Ub);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return HS(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ub(ob.FAILED_PRECONDITION,WS)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return HS(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=HS(e);return n.get("owner").next((function(e){return t.mi(e)?($k("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):zb.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(eb("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Jr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return $k("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return eb("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(im){eb("Failed to set zombie client id.",im)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(im){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Wb.C()}}]),e}();function HS(e){return rI(e,"owner")}function KS(e){return rI(e,"clientMetadata")}function QS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var XS=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return g(e,null,[{key:"Ci",value:function(t,n){var r,i=U_(),a=U_(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),YS=function(){function e(){p(this,e),this.xi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Ax(t))return zb.resolve(null);var r=Px(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Mx(t,null,"F"),r=Px(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=U_.apply(void 0,d(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Mx(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Ax(t)||r.isEqual(_b.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Zk()<=bi.DEBUG&&$k("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vx(t)),i.Bi(e,o,t,Pb(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new fx(zx(e));return t.forEach((function(t,r){jx(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Zk()<=bi.DEBUG&&$k("QueryEngine","Using full collection scan to execute query:",Vx(t)),this.Ni.getDocumentsMatchingQuery(e,t,Mb.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),JS=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new sx(kb),this.Ui=new T_((function(e){return bx(e)}),wx),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return g(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NS(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function ZS(e,t,n,r){return new JS(e,t,n,r)}function $S(e,t){return eT.apply(this,arguments)}function eT(){return eT=Fr(Lr().mark((function e(t,n){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ab(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=U_(),s=C(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),eT.apply(this,arguments)}function tT(e,t){var n=ab(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=zb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ib(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=U_(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function nT(e){var t=ab(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function rT(e,t){var n=ab(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(cw.EMPTY_BYTE_STRING,_b.min()).withLastLimboFreeSnapshotVersion(_b.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=A_(),s=U_();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(iT(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(_b.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return zb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function iT(e,t,n){var r=U_(),i=U_();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=A_();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(_b.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):$k("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function aT(e,t){var n=ab(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function oT(e,t){var n=ab(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,zb.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new uI(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function uT(e,t,n){return sT.apply(this,arguments)}function sT(){return sT=Fr(Lr().mark((function e(t,n,r){var i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ab(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Kb(e.t1)){e.next=12;break}throw e.t1;case 12:$k("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),sT.apply(this,arguments)}function cT(e,t,n){var r=ab(e),i=_b.min(),a=U_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ab(e),i=r.Ui.get(n);return void 0!==i?zb.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Px(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:_b.min(),n?a:U_())})).next((function(e){return hT(r,Bx(t),e),{documents:e,Hi:a}}))}))}function lT(e,t){var n=ab(e),r=ab(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function fT(e,t){var n=ab(e),r=n.Ki.get(t)||_b.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Pb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return hT(n,t,e),e}))}function hT(e,t,n){var r=e.Ki.get(t)||_b.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function dT(e,t,n,r){return pT.apply(this,arguments)}function pT(){return pT=Fr(Lr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ab(t),o=U_(),u=A_(),s=C(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,oT(a,function(e){return Px(Cx(Ib.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return iT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),pT.apply(this,arguments)}function vT(e,t){return mT.apply(this,arguments)}function mT(){return mT=Fr(Lr().mark((function e(t,n){var r,i,a,o=arguments;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:U_(),e.next=3,oT(t,Px(mI(n.bundledQuery)));case 3:return i=e.sent,a=ab(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=rE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(cw.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function yT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function gT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function kT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var bT=function(){function e(t,n,r,i){p(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ub(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(eb("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),wT=function(){function e(t,n,r){p(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ub(i.error.code,i.error.message))),a?new e(t,i.state,r):(eb("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),xT=function(){function e(t,n){p(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=j_(),o=0;i&&o<r.activeTargetIds.length;++o)i=sw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(eb("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),_T=function(){function e(t,n){p(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(eb("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ET=function(){function e(){p(this,e),this.activeTargetIds=j_()}return g(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),IT=function(){function e(t,n,r,i,a){p(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new sx(kb),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=yT(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new ET),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return g(e,[{key:"start",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(yT(this.persistenceKey,i)))&&(o=xT.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=C(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(kT(this.persistenceKey,e));if(n){var r=wT.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(kT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return $k("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){$k("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){$k("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if($k("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void eb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Fr(Lr().mark((function e(){var r,i,a,o,u,s,c;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=ew.at;if(null!=e)try{var n=JSON.parse(e);ib("number"==typeof n),t=n}catch(e){eb("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ew.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new bT(this.currentUser,e,t,n),i=gT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=gT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=kT(this.persistenceKey,e),i=new wT(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return xT.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bT.Zi(new Xk(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return wT.Zi(r,t)}},{key:"yr",value:function(e){return _T.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:$k("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=j_();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ST=function(){function e(){p(this,e),this.Lr=new ET,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new ET,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),TT=function(){function e(){p(this,e)}return g(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),CT=function(){function e(){var t=this;p(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return g(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){$k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){$k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),AT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},NT=function(){function e(t){p(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return g(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),RT=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return g(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Kk;o.setWithCredentials(!0),o.listenOnce(zk.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Bk.NO_ERROR:var t=o.getResponseJson();$k("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Bk.TIMEOUT:$k("Connection",'RPC "'+e+'" timed out'),a(new ub(ob.DEADLINE_EXCEEDED,"Request time out"));break;case Bk.HTTP_ERROR:var n=o.getStatus();if($k("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ob).indexOf(t)>=0?t:ob.UNKNOWN}(u.status);a(new ub(s,u.message))}else a(new ub(ob.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ub(ob.UNAVAILABLE,"Connection failed."));break;default:rb()}}finally{$k("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Vk(),a=jk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Gk({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");$k("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new NT({Hr:function(e){l?$k("Connection","Not sending because WebChannel is closed:",e):(c||($k("Connection","Opening WebChannel transport."),s.open(),c=!0),$k("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Hk.EventType.OPEN,(function(){l||$k("Connection","WebChannel transport opened.")})),h(s,Hk.EventType.CLOSE,(function(){l||(l=!0,$k("Connection","WebChannel transport closed"),f.io())})),h(s,Hk.EventType.ERROR,(function(e){l||(l=!0,tb("Connection","WebChannel transport errored:",e),f.io(new ub(ob.UNAVAILABLE,"The operation could not be completed")))})),h(s,Hk.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ib(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){$k("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=b_[e];if(void 0!==t)return S_(t)}(a),u=i.message;void 0===o&&(o=ob.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new ub(o,u)),s.close()}else $k("Connection","WebChannel received:",n),f.ro(n)}})),h(a,qk.STAT_EVENT,(function(e){e.stat===Wk.PROXY?$k("Connection","Detected buffering proxy"):e.stat===Wk.NOPROXY&&$k("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);$k("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return $k("RestConnection","Received: ",e),e}),(function(t){throw tb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=AT[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function DT(){return"undefined"!=typeof window?window:null}function OT(){return"undefined"!=typeof document?document:null}function PT(e){return new $_(e,!0)}var LT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&$k("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),MT=function(){function e(t,n,r,i,a,o,u,s){p(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new LT(t,n)}return g(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===ob.RESOURCE_EXHAUSTED?(eb(n.toString()),eb("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===ob.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new ub(ob.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Fr(Lr().mark((function t(){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return $k("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():($k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),FT=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return g(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:rb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(ib(void 0===t||"string"==typeof t),cw.fromBase64String(t||"")):(ib(void 0===t||t instanceof Uint8Array),cw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ob.UNKNOWN:S_(e.code);return new ub(t,e.message||"")}(o);n=new G_(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=uE(e,s.document.name),l=rE(s.document.updateTime),f=s.document.createTime?rE(s.document.createTime):_b.min(),h=new vx({mapValue:{fields:s.document.fields}}),d=yx.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new q_(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=uE(e,m.document),g=m.readTime?rE(m.readTime):_b.min(),k=yx.newNoDocument(y,g),b=m.removedTargetIds||[];n=new q_([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=uE(e,w.document),_=w.removedTargetIds||[];n=new q_([],_,x,null)}else{if(!("filter"in t))return rb();t.filter;var E=t.filter;E.targetId;var I=E.count||0,S=new E_(I),T=E.targetId;n=new W_(T,S)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return _b.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_b.min():t.readTime?rE(t.readTime):_b.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=lE(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=xx(r)?{documents:yE(e,r)}:{query:gE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tE(e,t.resumeToken):t.snapshotVersion.compareTo(_b.min())>0&&(n.readTime=eE(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=lE(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(MT),UT=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return g(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,As(w(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ib(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(ib(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rE(e.updateTime):rE(t);return n.isEqual(_b.min())&&(n=rE(t)),new o_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rE(e.commitTime);return this.listener.Zo(n,t)}return ib(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=lE(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return vE(t.yt,e)}))};this.Bo(n)}}]),n}(MT),VT=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return g(n,[{key:"su",value:function(){if(this.nu)throw new ub(ob.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ob.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ub(ob.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ob.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ub(ob.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return g((function e(){p(this,e)}))}());var jT=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return g(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(eb(t),this.ou=!1):$k("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),BT=g((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ZT(o),!e.t0){e.next=5;break}return $k("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ab(t))._u.add(4),e.next=4,WT(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,zT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new jT(r,i)}));function zT(e){return qT.apply(this,arguments)}function qT(){return qT=Fr(Lr().mark((function e(t){var n,r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ZT(t)){e.next=18;break}n=C(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),qT.apply(this,arguments)}function WT(e){return GT.apply(this,arguments)}function GT(){return GT=Fr(Lr().mark((function e(t){var n,r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),GT.apply(this,arguments)}function HT(e,t){var n=ab(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),JT(n)?YT(n):TC(n).ko()&&QT(n,t))}function KT(e,t){var n=ab(e),r=TC(n);n.du.delete(t),r.ko()&&XT(n,t),0===n.du.size&&(r.ko()?r.Fo():ZT(n)&&n.gu.set("Unknown"))}function QT(e,t){e.yu.Ot(t.targetId),TC(e).zo(t)}function XT(e,t){e.yu.Ot(t),TC(e).Ho(t)}function YT(e){e.yu=new K_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),TC(e).start(),e.gu.uu()}function JT(e){return ZT(e)&&!TC(e).No()&&e.du.size>0}function ZT(e){return 0===ab(e)._u.size}function $T(e){e.yu=void 0}function eC(e){return tC.apply(this,arguments)}function tC(){return tC=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){QT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return rC=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$T(t),JT(t)?(t.gu.hu(n),YT(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t,n){return aC.apply(this,arguments)}function aC(){return aC=Fr(Lr().mark((function e(t,n,r){var i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof G_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Fr(Lr().mark((function e(t,n){var r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),$k("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,oC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof q_?t.yu.Kt(n):n instanceof W_?t.yu.Jt(n):t.yu.jt(n),r.isEqual(_b.min())){e.next=29;break}return e.prev=14,e.next=17,nT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(cw.EMPTY_BYTE_STRING,n.snapshotVersion)),XT(e,t);var r=new uI(n.target,t,1,n.sequenceNumber);QT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),$k("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,oC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),aC.apply(this,arguments)}function oC(e,t,n){return uC.apply(this,arguments)}function uC(){return uC=Fr(Lr().mark((function e(t,n,r){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kb(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,WT(t);case 5:t.gu.set("Offline"),r||(r=function(){return nT(t.localStore)}),t.asyncQueue.enqueueRetryable(Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $k("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,zT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(e,t){return t().catch((function(n){return oC(e,n,t)}))}function cC(e){return lC.apply(this,arguments)}function lC(){return lC=Fr(Lr().mark((function e(t){var n,r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ab(t),r=CC(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!fC(n)){e.next=19;break}return e.prev=3,e.next=6,aT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,hC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,oC(n,e.t0);case 17:e.next=2;break;case 19:dC(n)&&pC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),lC.apply(this,arguments)}function fC(e){return ZT(e)&&e.fu.length<10}function hC(e,t){e.fu.push(t);var n=CC(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function dC(e){return ZT(e)&&!CC(e).No()&&e.fu.length>0}function pC(e){CC(e).start()}function vC(e){return mC.apply(this,arguments)}function mC(){return mC=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CC(t).eu();case 1:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e){return gC.apply(this,arguments)}function gC(){return gC=Fr(Lr().mark((function e(t){var n,r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=CC(t),r=C(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function kC(e,t,n){return bC.apply(this,arguments)}function bC(){return bC=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=aI.from(i,n,r),e.next=3,sC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,cC(t);case 5:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function wC(e,t){return xC.apply(this,arguments)}function xC(){return xC=Fr(Lr().mark((function e(t,n){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&CC(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Fr(Lr().mark((function e(t,n){var r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I_(i=n.code)||i===ob.ABORTED){e.next=7;break}return r=t.fu.shift(),CC(t).Mo(),e.next=5,sC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,cC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:dC(t)&&pC(t);case 5:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function _C(e,t){return EC.apply(this,arguments)}function EC(){return EC=Fr(Lr().mark((function e(t,n){var r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ab(t)).asyncQueue.verifyOperationInProgress(),$k("RemoteStore","RemoteStore received new credentials"),i=ZT(r),r._u.add(3),e.next=6,WT(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,zT(r);case 12:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}function IC(e,t){return SC.apply(this,arguments)}function SC(){return SC=Fr(Lr().mark((function e(t,n){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ab(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,zT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,WT(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}function TC(e){return e.pu||(e.pu=function(e,t,n){var r=ab(e);return r.su(),new FT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:eC.bind(null,e),Zr:nC.bind(null,e),Wo:iC.bind(null,e)}),e.wu.push(function(){var t=Fr(Lr().mark((function t(n){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),JT(e)?YT(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:$T(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function CC(e){return e.Iu||(e.Iu=function(e,t,n){var r=ab(e);return r.su(),new UT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:vC.bind(null,e),Zr:wC.bind(null,e),tu:yC.bind(null,e),Zo:kC.bind(null,e)}),e.wu.push(function(){var t=Fr(Lr().mark((function t(n){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,cC(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&($k("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var AC=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new sb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ub(ob.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function NC(e,t){if(eb("AsyncQueue","".concat(t,": ").concat(e)),Kb(e))return new ub(ob.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var RC=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||Cb.comparator(e.key,n.key)}:function(e,t){return Cb.comparator(e.key,t.key)},this.keyedMap=R_(),this.sortedSet=new sx(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),DC=function(){function e(){p(this,e),this.Tu=new sx(Cb.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rb():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),OC=function(){function e(t,n,r,i,a,o,u,s,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,RC.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),PC=g((function e(){p(this,e),this.Au=void 0,this.listeners=[]})),LC=g((function e(){p(this,e),this.queries=new T_((function(e){return Ux(e)}),Fx),this.onlineState="Unknown",this.Ru=new Set}));function MC(e,t){return FC.apply(this,arguments)}function FC(){return FC=Fr(Lr().mark((function e(t,n){var r,i,a,o,u;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ab(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new PC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=NC(e.t0,"Initialization of query '".concat(Vx(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&zC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),FC.apply(this,arguments)}function UC(e,t){return VC.apply(this,arguments)}function VC(){return VC=Fr(Lr().mark((function e(t,n){var r,i,a,o,u;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ab(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function jC(e,t){var n,r=ab(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=C(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&zC(r)}function BC(e,t,n){var r=ab(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function zC(e){e.Ru.forEach((function(e){e.next()}))}var qC=function(){function e(t,n,r){p(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new OC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=OC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),WC=function(){function e(t,n){p(this,e),this.ku=t,this.byteLength=n}return g(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),GC=function(){function e(t){p(this,e),this.yt=t}return g(e,[{key:"Ji",value:function(e){return uE(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?dE(this.yt,e.document,!1):yx.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return rE(e)}}]),e}(),HC=function(){function e(t,n,r){p(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KC(t)}return g(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Ib.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new GC(this.yt),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=C(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||U_()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dT(this.localStore,new GC(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,vT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function KC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var QC=g((function e(t){p(this,e),this.key=t})),XC=g((function e(t){p(this,e),this.key=t})),YC=function(){function e(t,n){p(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=U_(),this.mutatedKeys=U_(),this.Gu=zx(t),this.Qu=new RC(this.Gu)}return g(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new DC,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=jx(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rb()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new OC(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new DC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=U_(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new XC(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new QC(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=U_();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return OC.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),JC=g((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),ZC=g((function e(t){p(this,e),this.key=t,this.nc=!1})),$C=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new T_((function(e){return Ux(e)}),Fx),this.rc=new Map,this.oc=new Set,this.uc=new sx(Cb.comparator),this.cc=new Map,this.ac=new OS,this.hc={},this.lc=new Map,this.fc=cS.vn(),this.onlineState="Unknown",this.dc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function eA(e,t){return tA.apply(this,arguments)}function tA(){return tA=Fr(Lr().mark((function e(t,n){var r,i,a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=KA(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,oT(r.localStore,Px(n));case 8:return u=e.sent,r.isPrimaryClient&&HT(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,nA(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}function nA(e,t,n,r,i){return rA.apply(this,arguments)}function rA(){return rA=Fr(Lr().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Fr(Lr().mark((function e(t,n,r,i){var a,o,u;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,cT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(_A(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,cT(t.localStore,n,!0);case 3:return o=e.sent,u=new YC(n,o.Hi),s=u.Wu(o.documents),c=z_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),_A(t,r,l.Xu),f=new JC(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(e,t){return aA.apply(this,arguments)}function aA(){return aA=Fr(Lr().mark((function e(t,n){var r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ab(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Fx(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,uT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),KT(r.remoteStore,i.targetId),wA(r,i.targetId)})).catch(jb);case 9:e.next=14;break;case 11:return wA(r,i.targetId),e.next=14,uT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),aA.apply(this,arguments)}function oA(e,t,n){return uA.apply(this,arguments)}function uA(){return uA=Fr(Lr().mark((function e(t,n,r){var i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QA(t),e.prev=1,e.next=4,function(e,t){var n,r,i=ab(e),a=xb.now(),o=t.reduce((function(e,t){return e.add(t.key)}),U_());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=A_(),s=U_();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=C(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=d_(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new m_(c.key,l,mx(l.value.mapValue),u_.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:D_(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new sx(kb)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,SA(i,a.changes);case 9:return e.next=11,cC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=NC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),uA.apply(this,arguments)}function sA(e,t){return cA.apply(this,arguments)}function cA(){return cA=Fr(Lr().mark((function e(t,n){var r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ab(t),e.prev=1,e.next=4,rT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(ib(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?ib(n.nc):e.removedDocuments.size>0&&(ib(n.nc),n.nc=!1))})),e.next=8,SA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,jb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),cA.apply(this,arguments)}function lA(e,t,n){var r=ab(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ab(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&zC(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fA(e,t,n){return hA.apply(this,arguments)}function hA(){return hA=Fr(Lr().mark((function e(t,n,r){var i,a,o,u,s,c;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ab(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new sx(Cb.comparator)).insert(o,yx.newNoDocument(o,_b.min())),s=U_().add(o),c=new B_(_b.min(),new Map,new fx(kb),u,s),e.next=9,sA(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),IA(i),e.next=16;break;case 14:return e.next=16,uT(i.localStore,n,!1).then((function(){return wA(i,n,r)})).catch(jb);case 16:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}function dA(e,t){return pA.apply(this,arguments)}function pA(){return pA=Fr(Lr().mark((function e(t,n){var r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ab(t),i=n.batch.batchId,e.prev=1,e.next=4,tT(r.localStore,n);case 4:return a=e.sent,bA(r,i,null),kA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,SA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,jb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pA.apply(this,arguments)}function vA(e,t,n){return mA.apply(this,arguments)}function mA(){return mA=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ab(t),e.prev=1,e.next=4,function(e,t){var n=ab(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ib(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,bA(i,n,r),kA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,SA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,jb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mA.apply(this,arguments)}function yA(e,t){return gA.apply(this,arguments)}function gA(){return gA=Fr(Lr().mark((function e(t,n){var r,i,a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZT((r=ab(t)).remoteStore)||$k("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ab(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=NC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),gA.apply(this,arguments)}function kA(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function bA(e,t,n){var r=ab(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function wA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||xA(e,t)}))}function xA(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(KT(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),IA(e))}function _A(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof QC?(e.ac.addReference(a.key,t),EA(e,a)):a instanceof XC?($k("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||xA(e,a.key)):rb()}}catch(o){i.e(o)}finally{i.f()}}function EA(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||($k("SyncEngine","New document in limbo: "+n),e.oc.add(r),IA(e))}function IA(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Cb(Ib.fromString(t)),r=e.fc.next();e.cc.set(r,new ZC(n)),e.uc=e.uc.insert(n,r),HT(e.remoteStore,new uI(Px(Cx(n.path)),r,2,ew.at))}}function SA(e,t,n){return TA.apply(this,arguments)}function TA(){return TA=Fr(Lr().mark((function e(t,n,r){var i,a,o,u;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ab(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=XS.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Fr(Lr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ab(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zb.forEach(n,(function(t){return zb.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return zb.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Kb(e.t0)){e.next=10;break}throw e.t0;case 10:$k("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),TA.apply(this,arguments)}function CA(e,t){return AA.apply(this,arguments)}function AA(){return AA=Fr(Lr().mark((function e(t,n){var r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ab(t)).currentUser.isEqual(n)){e.next=11;break}return $k("SyncEngine","User change. New user:",n.toKey()),e.next=5,$S(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new ub(ob.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,SA(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function NA(e,t){var n=ab(e),r=n.cc.get(t);if(r&&r.nc)return U_().add(r.key);var i=U_(),a=n.rc.get(t);if(!a)return i;var o,u=C(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function RA(e,t){return DA.apply(this,arguments)}function DA(){return DA=Fr(Lr().mark((function e(t,n){var r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ab(t),e.next=3,cT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&_A(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}function OA(e,t){return PA.apply(this,arguments)}function PA(){return PA=Fr(Lr().mark((function e(t,n){var r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ab(t),e.abrupt("return",fT(r.localStore,n).then((function(e){return SA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}function LA(e,t,n,r){return MA.apply(this,arguments)}function MA(){return MA=Fr(Lr().mark((function e(t,n,r,i){var a,o;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ab(t),e.next=3,function(e,t){var n=ab(e),r=ab(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):zb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,cC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(bA(a,n,i||null),kA(a,n),function(e,t){ab(ab(e).mutationQueue).An(t)}(a.localStore,n)):rb();case 11:return e.next=13,SA(a,o);case 13:e.next=16;break;case 15:$k("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),MA.apply(this,arguments)}function FA(e,t){return UA.apply(this,arguments)}function UA(){return UA=Fr(Lr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(KA(r=ab(t)),QA(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,VA(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,IC(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(u=o.n()).done;)s=u.value,HT(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return wA(r,t),uT(r.localStore,t,!0)})),KT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,VA(r,c);case 21:return function(e){var t=ab(e);t.cc.forEach((function(e,n){KT(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new sx(Cb.comparator)}(r),r.dc=!1,e.next=25,IC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function VA(e,t,n){return jA.apply(this,arguments)}function jA(){return jA=Fr(Lr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ab(t),a=[],o=[],u=C(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,oT(i.localStore,Px(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,RA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,lT(i.localStore,c);case 36:return y=e.sent,e.next=39,oT(i.localStore,y);case 39:return l=e.sent,e.next=42,nA(i,BA(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),jA.apply(this,arguments)}function BA(e){return Tx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function zA(e){var t=ab(e);return ab(ab(t.localStore).persistence).vi()}function qA(e,t,n,r){return WA.apply(this,arguments)}function WA(){return WA=Fr(Lr().mark((function e(t,n,r,i){var a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ab(t)).dc){e.next=3;break}return e.abrupt("return",void $k("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,fT(a.localStore,Bx(o[0]));case 10:return u=e.sent,s=B_.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,cw.EMPTY_BYTE_STRING),e.next=14,SA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,uT(a.localStore,n,!0);case 17:return wA(a,n,i),e.abrupt("break",20);case 19:rb();case 20:case"end":return e.stop()}}),e)}))),WA.apply(this,arguments)}function GA(e,t,n){return HA.apply(this,arguments)}function HA(){return HA=Fr(Lr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=KA(t)).dc){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return $k("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,lT(i.localStore,u);case 12:return s=e.sent,e.next=15,oT(i.localStore,s);case 15:return c=e.sent,e.next=18,nA(i,BA(s),c.targetId,!1,c.resumeToken);case 18:HT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,uT(i.localStore,t,!1).then((function(){KT(i.remoteStore,t),wA(i,t)})).catch(jb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),HA.apply(this,arguments)}function KA(e){var t=ab(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fA.bind(null,t),t.sc.Wo=jC.bind(null,t.eventManager),t.sc.wc=BC.bind(null,t.eventManager),t}function QA(e){var t=ab(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vA.bind(null,t),t}function XA(e,t,n){var r=ab(e);(function(){var e=Fr(Lr().mark((function e(t,n,r){var i,a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ab(e),r=rE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(KC(i)),a=new HC(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,SA(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=ab(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(tb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var YA=function(){function e(){p(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=PT(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return ZS(this.persistence,new YS,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new VS(BS.Bs,this.yt)}},{key:"gc",value:function(e){return new ST}},{key:"terminate",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),JA=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=Fr(Lr().mark((function e(t){var r=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As(w(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,QA(this.Ac.syncEngine);case 6:return e.next=8,cC(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return ZS(this.persistence,new YS,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new mS(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new $b(t,this.persistence);return new Zb(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=QS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tS.withCacheSize(this.cacheSizeBytes):tS.DEFAULT;return new GS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,DT(),OT(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new ST}}]),n}(YA),ZA=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=Fr(Lr().mark((function e(t){var r,i=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As(w(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof IT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:LA.bind(null,r),$r:qA.bind(null,r),Br:GA.bind(null,r),vi:zA.bind(null,r),Mr:OA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FA(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=DT();if(!IT.C(t))throw new ub(ob.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=QS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(JA),$A=function(){function e(){p(this,e)}return g(e,[{key:"initialize",value:function(){var e=Fr(Lr().mark((function e(t,n){var r=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return lA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=CA.bind(null,this.syncEngine),e.next=12,IC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new LC}},{key:"createDatastore",value:function(e){var t,n=PT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new RT(t));return function(e,t,n,r){return new VT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return lA(o.syncEngine,e,0)},a=CT.C()?new CT:new TT,new BT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new $C(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ab(t),$k("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,WT(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function eN(e,t,n){if(!n)throw new ub(ob.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tN(e,t,n,r){if(!0===t&&!0===r)throw new ub(ob.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nN(e){if(!Cb.isDocumentKey(e))throw new ub(ob.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rN(e){if(Cb.isDocumentKey(e))throw new ub(ob.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function iN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":rb()}function aN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ub(ob.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iN(e);throw new ub(ob.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function oN(e,t){if(t<=0)throw new ub(ob.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var uN=new Map,sN=function(){function e(t){var n;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ub(ob.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ub(ob.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,tN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),cN=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sN({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new ub(ob.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ub(ob.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lb;switch(e.type){case"gapi":var t=e.client;return new pb(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ub(ob.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=uN.get(e);t&&($k("ComponentProvider","Removing Datastore"),uN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function lN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=aN(e,cN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&tb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Xk.MOCK_USER;else{o=Xr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ub(ob.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xk(s)}e._authCredentials=new fb(new cb(o,u))}}var fN=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new dN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hN=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),dN=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,Cx(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new fN(this.firestore,null,new Cb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hN);function pN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vi(e),eN("collection","path",t),e instanceof cN){var a=Ib.fromString.apply(Ib,[t].concat(r));return rN(a),new dN(e,null,a)}if(!(e instanceof fN||e instanceof dN))throw new ub(ob.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ib.fromString.apply(Ib,[t].concat(r)));return rN(o),new dN(e.firestore,null,o)}function vN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vi(e),1===arguments.length&&(t=gb.R()),eN("doc","path",t),e instanceof cN){var a=Ib.fromString.apply(Ib,[t].concat(r));return nN(a),new fN(e,null,new Cb(a))}if(!(e instanceof fN||e instanceof dN))throw new ub(ob.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ib.fromString.apply(Ib,[t].concat(r)));return nN(o),new fN(e.firestore,e instanceof dN?e.converter:null,new Cb(o))}function mN(e,t){return e=vi(e),t=vi(t),(e instanceof fN||e instanceof dN)&&(t instanceof fN||t instanceof dN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function yN(e,t){return e=vi(e),t=vi(t),e instanceof hN&&t instanceof hN&&e.firestore===t.firestore&&Fx(e._query,t._query)&&e.converter===t.converter}function gN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Fr(Lr().mark((function r(){var i;return Lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var kN=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):eb("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),bN=function(){function e(t,n){var r=this;p(this,e),this.Pc=t,this.yt=n,this.metadata=new sb,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Fr(Lr().mark((function e(){var t,n,r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new WC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Fr(Lr().mark((function e(){var t,n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Fr(Lr().mark((function e(){var t,n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wN=function(){function e(t){p(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=Fr(Lr().mark((function e(t){var n,r=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ub(ob.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Fr(Lr().mark((function e(t,n){var r,i,a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ab(t),i=lE(r.yt)+"/documents",a={documents:n.map((function(e){return oE(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=pE(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ib(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new x_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Fr(Lr().mark((function e(){var t,n=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Cb.fromPath(t);n.mutations.push(new __(r,n.precondition(r)))})),e.next=7,function(){var e=Fr(Lr().mark((function e(t,n){var r,i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ab(t),i=lE(r.yt)+"/documents",a={writes:n.map((function(e){return vE(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rb();t=_b.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ub(ob.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_b.min())?u_.exists(!1):u_.updateTime(t):u_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_b.min()))throw new ub(ob.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return u_.updateTime(t)}return u_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),xN=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new LT(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Fr(Lr().mark((function t(){var n,r;return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new wN(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!ow(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!I_(t)}return!1}}]),e}(),_N=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xk.UNAUTHENTICATED,this.clientId=gb.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $k("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return $k("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=Fr(Lr().mark((function e(){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ub(ob.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new sb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Fr(Lr().mark((function n(){var r;return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=NC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function EN(e,t){return IN.apply(this,arguments)}function IN(){return IN=Fr(Lr().mark((function e(t,n){var r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),$k("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,$S(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),IN.apply(this,arguments)}function SN(e,t){return TN.apply(this,arguments)}function TN(){return TN=Fr(Lr().mark((function e(t,n){var r,i;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,CN(t);case 3:return r=e.sent,$k("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return _C(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return _C(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),TN.apply(this,arguments)}function CN(e){return AN.apply(this,arguments)}function AN(){return AN=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return $k("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,EN(t,new YA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),AN.apply(this,arguments)}function NN(e){return RN.apply(this,arguments)}function RN(){return RN=Fr(Lr().mark((function e(t){return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return $k("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,SN(t,new $A);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),RN.apply(this,arguments)}function DN(e){return CN(e).then((function(e){return e.persistence}))}function ON(e){return CN(e).then((function(e){return e.localStore}))}function PN(e){return NN(e).then((function(e){return e.remoteStore}))}function LN(e){return NN(e).then((function(e){return e.syncEngine}))}function MN(e){return NN(e).then((function(e){return e.datastore}))}function FN(e){return UN.apply(this,arguments)}function UN(){return UN=Fr(Lr().mark((function e(t){var n,r;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=eA.bind(null,n.syncEngine),r.onUnlisten=iA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),UN.apply(this,arguments)}function VN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new sb;return e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function i(){return Lr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kN({next:function(a){t.enqueueAndForget((function(){return UC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ub(ob.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ub(ob.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new qC(Cx(n.path),a,{includeMetadataChanges:!0,Nu:!0});return MC(e,o)},i.next=3,FN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function jN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new sb;return e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function i(){return Lr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kN({next:function(n){t.enqueueAndForget((function(){return UC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ub(ob.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new qC(n,a,{includeMetadataChanges:!0,Nu:!0});return MC(e,o)},i.next=3,FN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var BN=function(){function e(){var t=this;p(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new LT(this,"async_queue_retry"),this.Wc=function(){var e=OT();e&&$k("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=OT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return g(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=OT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new sb;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Fr(Lr().mark((function e(){var t=this;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Kb(e.t0)){e.next=12;break}throw e.t0;case 12:$k("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw eb("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=AC.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&rb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Fr(Lr().mark((function e(){var t;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=C(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function zN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var qN=function(){function e(){p(this,e),this._progressObserver={},this._taskCompletionResolver=new sb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),WN=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new BN,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||HN(this),this._firestoreClient.terminate()}}]),n}(cN);function GN(e){return e._firestoreClient||HN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function HN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new tw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new _N(e._authCredentials,e._appCheckCredentials,e._queue,r)}function KN(e,t,n){var r=new sb;return e.asyncQueue.enqueue(Fr(Lr().mark((function i(){var a;return Lr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,EN(e,n);case 3:return i.next=5,SN(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ob.FAILED_PRECONDITION||e.code===ob.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:tb("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function QN(e){return function(e){return e.asyncQueue.enqueue(Fr(Lr().mark((function t(){var n,r;return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,DN(e);case 2:return n=t.sent,t.next=5,PN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ab(e);return t._u.delete(0),zT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(GN(e=aN(e,WN)))}function XN(e){return function(e){return e.asyncQueue.enqueue(Fr(Lr().mark((function t(){var n,r;return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,DN(e);case 2:return n=t.sent,t.next=5,PN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ab(t))._u.add(0),e.next=4,WT(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(GN(e=aN(e,WN)))}function YN(e,t){var n=GN(e=aN(e,WN)),r=new qN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new bN(e,t)}(function(e,t){if(e instanceof Uint8Array)return gN(e,t);if(e instanceof ArrayBuffer)return gN(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,PT(t));e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function t(){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=XA,t.next=3,LN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function JN(e,t){return function(e,t){return e.asyncQueue.enqueue(Fr(Lr().mark((function n(){return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ab(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,ON(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(GN(e=aN(e,WN)),t).then((function(t){return t?new hN(e,null,t.query):null}))}function ZN(e){if(e._initialized||e._terminated)throw new ub(ob.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $N=function(){function e(t){p(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(cw.fromBase64String(t))}catch(t){throw new ub(ob.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(cw.fromUint8Array(t))}}]),e}(),eR=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ub(ob.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tb(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tR=g((function e(t){p(this,e),this._methodName=t})),nR=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new ub(ob.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ub(ob.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return kb(this._lat,e._lat)||kb(this._long,e._long)}}]),e}(),rR=/^__.*__$/,iR=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new m_(e,this.data,this.fieldMask,t,this.fieldTransforms):new v_(e,this.data,t,this.fieldTransforms)}}]),e}(),aR=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new m_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function oR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rb()}}var uR=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return TR(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(oR(this.sa)&&rR.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),sR=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||PT(t)}return g(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uR({sa:e,methodName:t,fa:n,path:Tb.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function cR(e){var t=e._freezeSettings(),n=PT(e._databaseId);return new sR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lR(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);_R("Data must be an object, but it was:",o,r);var u,s,c=wR(r,o);if(a.merge)u=new px(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=ER(t,l.value,n);if(!o.contains(d))throw new ub(ob.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));CR(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new px(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new iR(new vx(c),u,s)}var fR=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tR);function hR(e,t,n){return new uR({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var dR=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new a_(e.path,new Jx)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tR),pR=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=hR(this,e,!0),n=this._a.map((function(e){return bR(e,t)})),r=new Zx(n);return new a_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tR),vR=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=hR(this,e,!0),n=this._a.map((function(e){return bR(e,t)})),r=new e_(n);return new a_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tR),mR=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).wa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new n_(e.yt,Hx(e.yt,this.wa));return new a_(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tR);function yR(e,t,n,r){var i=e.da(1,t,n);_R("Data must be an object, but it was:",i,r);var a=[],o=vx.empty();iw(r,(function(e,r){var u=SR(t,e,n);r=vi(r);var s=i.ca(u);if(r instanceof fR)a.push(u);else{var c=bR(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new px(a);return new aR(o,u,i.fieldTransforms)}function gR(e,t,n,r,i,a){var o=e.da(1,t,n),u=[ER(t,r,n)],s=[i];if(a.length%2!=0)throw new ub(ob.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(ER(t,a[c])),s.push(a[c+1]);for(var l=[],f=vx.empty(),h=u.length-1;h>=0;--h)if(!CR(l,u[h])){var d=u[h],p=s[h];p=vi(p);var v=o.ca(d);if(p instanceof fR)l.push(d);else{var m=bR(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new px(l);return new aR(f,y,o.fieldTransforms)}function kR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bR(n,e.da(r?4:3,t))}function bR(e,t){if(xR(e=vi(e)))return _R("Unsupported field value:",t,e),wR(e,t);if(e instanceof tR)return function(e,t){if(!oR(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=bR(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=vi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hx(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=xb.fromDate(e);return{timestampValue:eE(t.yt,n)}}if(e instanceof xb){var r=new xb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eE(t.yt,r)}}if(e instanceof nR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $N)return{bytesValue:tE(t.yt,e._byteString)};if(e instanceof fN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:iE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(iN(e)))}(e,t)}function wR(e,t){var n={};return aw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):iw(e,(function(e,r){var i=bR(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xb||e instanceof nR||e instanceof $N||e instanceof fN||e instanceof tR)}function _R(e,t,n){if(!xR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=iN(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function ER(e,t,n){if((t=vi(t))instanceof eR)return t._internalPath;if("string"==typeof t)return SR(e,t);throw TR("Field path arguments must be of type string or ",e,!1,void 0,n)}var IR=new RegExp("[~\\*/\\[\\]]");function SR(e,t,n){if(t.search(IR)>=0)throw TR("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(eR,d(t.split(".")))._internalPath}catch(r){throw TR("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TR(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ub(ob.INVALID_ARGUMENT,u+e+s)}function CR(e,t){return e.some((function(e){return e.isEqual(t)}))}var AR=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new fN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new NR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(RR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),NR=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return As(w(n.prototype),"data",this).call(this)}}]),n}(AR);function RR(e,t){return"string"==typeof t?SR(e,t):t instanceof eR?t._internalPath:t._delegate._internalPath}function DR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ub(ob.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var OR=g((function e(){p(this,e)})),PR=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(OR);function LR(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof OR&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof FR})).length,n=e.filter((function(e){return e instanceof MR})).length;if(t>1||t>0&&n>0)throw new ub(ob.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=C(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var MR=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return XR(e._query,t),new hN(e.firestore,e.converter,Lx(e._query,t))}},{key:"_parse",value:function(e){var t=cR(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ub(ob.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){QR(o,a);var s,c=[],l=C(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(KR(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=KR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||QR(o,a),u=kR(n,"where",o,"in"===a||"not-in"===a);return zw.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(PR);var FR=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:qw.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;XR(r,a),r=Lx(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new hN(e.firestore,e.converter,Lx(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(OR);var UR=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ub(ob.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ub(ob.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ox(t,n);return function(e,t){if(null===Nx(e)){var n=Rx(e);null!==n&&YR(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new hN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Sx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(PR);var VR=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new hN(e.firestore,e.converter,Mx(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(PR);var jR=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=HR(e,this.type,this._docOrFields,this._inclusive);return new hN(e.firestore,e.converter,function(e,t){return new Sx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(PR);function BR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jR._create("startAt",t,!0)}function zR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jR._create("startAfter",t,!1)}var qR=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=HR(e,this.type,this._docOrFields,this._inclusive);return new hN(e.firestore,e.converter,function(e,t){return new Sx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(PR);function WR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qR._create("endBefore",t,!1)}function GR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qR._create("endAt",t,!0)}function HR(e,t,n,r){if(n[0]=vi(n[0]),n[0]instanceof AR)return function(e,t,n,r,i){if(!r)throw new ub(ob.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=C(Ox(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Sw(t,r.key));else{var c=r.data.field(s.field);if(pw(c))throw new ub(ob.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ub(ob.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Uw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=cR(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ub(ob.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new ub(ob.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Dx(e)&&-1!==c.indexOf("/"))throw new ub(ob.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ib.fromString(c));if(!Cb.isDocumentKey(l))throw new ub(ob.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Cb(l);u.push(Sw(t,f))}else{var h=kR(n,r,c);u.push(h)}}return new Uw(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function KR(e,t,n){if("string"==typeof(n=vi(n))){if(""===n)throw new ub(ob.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dx(t)&&-1!==n.indexOf("/"))throw new ub(ob.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ib.fromString(n));if(!Cb.isDocumentKey(r))throw new ub(ob.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Sw(e,new Cb(r))}if(n instanceof fN)return Sw(e,n._key);throw new ub(ob.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(iN(n),"."))}function QR(e,t){if(!Array.isArray(e)||0===e.length)throw new ub(ob.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ub(ob.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function XR(e,t){if(t.isInequality()){var n=Rx(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new ub(ob.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Nx(e);null!==i&&YR(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new ub(ob.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ub(ob.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function YR(e,t,n){if(!n.isEqual(t))throw new ub(ob.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var JR=function(){function e(){p(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rb()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return iw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new nR(hw(e.latitude),hw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=vw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mw(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=fw(e);return new xb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ib.fromString(e);ib(CE(n));var r=new nw(n.get(1),n.get(3)),i=new Cb(n.popFirst(5));return r.isEqual(t)||eb("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ZR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var $R=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new $N(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fN(this.firestore,null,t)}}]),n}(JR),eD=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),tD=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return g(n,[{key:"exists",value:function(){return As(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new nD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(RR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(AR),nD=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return As(w(n.prototype),"data",this).call(this,e)}}]),n}(tD),rD=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new eD(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new nD(n._firestore,n._userDataWriter,r.key,r,new eD(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ub(ob.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new nD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new nD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:iD(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function iD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rb()}}function aD(e,t){return e instanceof tD&&t instanceof tD?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof rD&&t instanceof rD&&e._firestore===t._firestore&&yN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var oD=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new $N(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fN(this.firestore,null,t)}}]),n}(JR);function uD(e){e=aN(e,fN);var t=aN(e.firestore,WN),n=GN(t),r=new oD(t);return function(e,t){var n=new sb;return e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function r(){return Lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fr(Lr().mark((function e(t,n,r){var i,a;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ab(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ub(ob.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=NC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ON(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new tD(t,r,e._key,n,new eD(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sD(e){e=aN(e,hN);var t=aN(e.firestore,WN),n=GN(t),r=new oD(t);return function(e,t){var n=new sb;return e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function r(){return Lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fr(Lr().mark((function e(t,n,r){var i,a,o,u,s;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cT(t,n,!0);case 3:i=e.sent,a=new YC(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=NC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ON(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new rD(t,r,e,n)}))}function cD(e,t,n){e=aN(e,fN);var r=aN(e.firestore,WN),i=ZR(e.converter,t,n);return dD(r,[lR(cR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,u_.none())])}function lD(e,t,n){e=aN(e,fN);for(var r=aN(e.firestore,WN),i=cR(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return dD(r,[("string"==typeof(t=vi(t))||t instanceof eR?gR(i,"updateDoc",e._key,t,n,o):yR(i,"updateDoc",e._key,t)).toMutation(e._key,u_.exists(!0))])}function fD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=vi(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||zN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(zN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof fN)l=aN(e.firestore,WN),f=Cx(e._key.path),c={next:function(t){n[s]&&n[s](pD(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=aN(e,hN);l=aN(p.firestore,WN),f=p._query;var v=new oD(l);c={next:function(e){n[s]&&n[s](new rD(l,v,p,e))},error:n[s+1],complete:n[s+2]},DR(e._query)}return function(e,t,n,r){var i=new kN(r),a=new qC(t,i,n);return e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function t(){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MC,t.next=3,FN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function t(){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UC,t.next=3,FN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GN(l),f,h,c)}function hD(e,t){return function(e,t){var n=new kN(t);return e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function t(){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ab(e).Ru.add(t),t.next()},t.next=3,FN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function t(){return Lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ab(e).Ru.delete(t)},t.next=3,FN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GN(e=aN(e,WN)),zN(t)?t:{next:t})}function dD(e,t){return function(e,t){var n=new sb;return e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function r(){return Lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=oA,r.next=3,LN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(GN(e),t)}function pD(e,t,n){var r=n.docs.get(t._key),i=new oD(e);return new tD(e,i,t._key,r,new eD(n.hasPendingWrites,n.fromCache),t.converter)}var vD={maxAttempts:5},mD=function(){function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cR(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=yD(e,this._firestore),i=ZR(r.converter,t,n),a=lR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,u_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=yD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vi(t))||t instanceof eR?gR(this._dataReader,"WriteBatch.update",i._key,t,n,o):yR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,u_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=yD(e,this._firestore);return this._mutations=this._mutations.concat(new x_(t._key,u_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ub(ob.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function yD(e,t){if((e=vi(e)).firestore!==t)throw new ub(ob.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var gD=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=yD(e,this._firestore),i=new oD(this._firestore);return As(w(n.prototype),"get",this).call(this,e).then((function(e){return new tD(t._firestore,i,r._key,e._document,new eD(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=cR(t)}return g(e,[{key:"get",value:function(e){var t=this,n=yD(e,this._firestore),r=new $R(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return rb();var i=e[0];if(i.isFoundDocument())return new AR(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AR(t._firestore,r,n._key,null,n.converter);throw rb()}))}},{key:"set",value:function(e,t,n){var r=yD(e,this._firestore),i=ZR(r.converter,t,n),a=lR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=yD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vi(t))||t instanceof eR?gR(this._dataReader,"Transaction.update",i._key,t,n,o):yR(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=yD(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function kD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pR("arrayUnion",t)}function bD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vR("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Yk=e}(ha),aa(new mi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new WN(new hb(e.getProvider("auth-internal")),new mb(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ub(ob.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nw(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ga(Qk,"3.8.3",e),ga(Qk,"3.8.3","esm2017")}();var wD="@firebase/firestore-compat",xD="0.3.3";function _D(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ub("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function ED(){if("undefined"===typeof Uint8Array)throw new ub("unimplemented","Uint8Arrays are not available in this environment.")}function ID(){if("undefined"==typeof atob)throw new ub("unimplemented","Blobs are unavailable in Firestore in this environment.")}var SD=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return ID(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return ED(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return ID(),new e($N.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return ED(),new e($N.fromUint8Array(t))}}]),e}();function TD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var CD=function(){function e(){p(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ZN(e=aN(e,WN));var n=GN(e),r=e._freezeSettings(),i=new $A;return KN(n,i,new JA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ZN(e=aN(e,WN));var t=GN(e),n=e._freezeSettings(),r=new $A;return KN(t,r,new ZA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ub(ob.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new sb;return e._queue.enqueueAndForgetEvenWhileRestricted(Fr(Lr().mark((function n(){return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Fr(Lr().mark((function e(t){var n;return Lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wb.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Wb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(QS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),AD=function(){function e(t,n,r){var i=this;p(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof nw||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||tb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return QN(this._delegate)}},{key:"disableNetwork",value:function(){return XN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&tN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new sb;return e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function n(){return Lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=yA,n.next=3,LN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(GN(e=aN(e,WN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return hD(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ub("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new qD(this,pN(this._delegate,e))}catch(t){throw LD(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new PD(this,vN(this._delegate,e))}catch(t){throw LD(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new jD(this,function(e,t){if(e=aN(e,cN),eN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ub(ob.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new hN(e,null,function(e){return new Sx(Ib.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw LD(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=aN(e,WN);var r=Object.assign(Object.assign({},vD),n);return function(e){if(e.maxAttempts<1)throw new ub(ob.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new sb;return e.asyncQueue.enqueueAndForget(Fr(Lr().mark((function i(){var a;return Lr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,MN(e);case 2:a=i.sent,new xN(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(GN(e),(function(n){return t(new gD(e,n))}),r)}(this._delegate,(function(n){return e(new RD(t,n))}))}},{key:"batch",value:function(){var e=this;return GN(this._delegate),new DD(new mD(this._delegate,(function(t){return dD(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return JN(this._delegate,e).then((function(e){return e?new jD(t,e):null}))}}]),e}(),ND=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new SD(new $N(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return PD.forKey(t,this.firestore,null)}}]),n}(JR);var RD=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ND(t)}return g(e,[{key:"get",value:function(e){var t=this,n=WD(e);return this._delegate.get(n).then((function(e){return new UD(t._firestore,new tD(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=WD(e);return n?(_D("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=WD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=WD(e);return this._delegate.delete(t),this}}]),e}(),DD=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=WD(e);return n?(_D("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=WD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=WD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),OD=function(){function e(t,n,r){p(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new nD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new VD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ND(t),n),i.set(n,a)),a}}]),e}();OD.INSTANCES=new WeakMap;var PD=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ND(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new qD(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new qD(this.firestore,pN(this._delegate,e))}catch(t){throw LD(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=vi(e))instanceof fN&&mN(this._delegate,e)}},{key:"set",value:function(e,t){t=_D("DocumentReference.set",t);try{return t?cD(this._delegate,e,t):cD(this._delegate,e)}catch(n){throw LD(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?lD(this._delegate,e):lD.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw LD(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return dD(aN(e.firestore,WN),[new x_(e._key,u_.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=MD(n),a=FD(n,(function(t){return new UD(e.firestore,new tD(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fD(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aN(e,fN);var t=aN(e.firestore,WN);return VN(GN(t),e._key,{source:"server"}).then((function(n){return pD(t,e,n)}))}(this._delegate):function(e){e=aN(e,fN);var t=aN(e.firestore,WN);return VN(GN(t),e._key).then((function(n){return pD(t,e,n)}))}(this._delegate),t.then((function(e){return new UD(n.firestore,new tD(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(OD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ub("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new fN(n._delegate,r,new Cb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new fN(n._delegate,r,t))}}]),e}();function LD(e,t,n){return e.message=e.message.replace(t,n),e}function MD(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!TD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function FD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=TD(e[0])?e[0]:TD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var UD=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new PD(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return aD(this._delegate,e._delegate)}}]),e}(),VD=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||rb()}(void 0!==t),t}}]),n}(UD),jD=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ND(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,LR(this._delegate,function(e,t,n){var r=t,i=RR("where",e);return MR._create(i,r,n)}(t,n,r)))}catch(i){throw LD(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,LR(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=RR("orderBy",e);return UR._create(n,t)}(t,n)))}catch(r){throw LD(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,LR(this._delegate,function(e){return oN("limit",e),VR._create("limit",e,"F")}(t)))}catch(n){throw LD(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,LR(this._delegate,function(e){return oN("limitToLast",e),VR._create("limitToLast",e,"L")}(t)))}catch(n){throw LD(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,LR(this._delegate,BR.apply(void 0,arguments)))}catch(t){throw LD(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,LR(this._delegate,zR.apply(void 0,arguments)))}catch(t){throw LD(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,LR(this._delegate,WR.apply(void 0,arguments)))}catch(t){throw LD(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,LR(this._delegate,GR.apply(void 0,arguments)))}catch(t){throw LD(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return yN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aN(e,hN);var t=aN(e.firestore,WN),n=GN(t),r=new oD(t);return jN(n,e._query,{source:"server"}).then((function(n){return new rD(t,r,e,n)}))}(this._delegate):function(e){e=aN(e,hN);var t=aN(e.firestore,WN),n=GN(t),r=new oD(t);return DR(e._query),jN(n,e._query).then((function(n){return new rD(t,r,e,n)}))}(this._delegate),t.then((function(e){return new zD(n.firestore,new rD(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=MD(n),a=FD(n,(function(t){return new zD(e.firestore,new rD(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fD(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(OD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),BD=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new VD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),zD=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new jD(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new VD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new BD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new VD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return aD(this._delegate,e._delegate)}}]),e}(),qD=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new PD(this.firestore,e):null}},{key:"doc",value:function(e){try{return new PD(this.firestore,void 0===e?vN(this._delegate):vN(this._delegate,e))}catch(t){throw LD(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=aN(e.firestore,WN),r=vN(e),i=ZR(e.converter,t);return dD(n,[lR(cR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,u_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new PD(t.firestore,e)}))}},{key:"isEqual",value:function(e){return mN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(OD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(jD);function WD(e){return aN(e,fN)}var GD=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(eR,n)}return g(e,[{key:"isEqual",value:function(e){return(e=vi(e))instanceof eR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Tb.keyField().canonicalString())}}]),e}(),HD=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new dR("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new fR("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=kD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=bD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new mR("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),KD={Firestore:AD,GeoPoint:nR,Timestamp:xb,Blob:SD,Transaction:RD,WriteBatch:DD,DocumentReference:PD,DocumentSnapshot:UD,Query:jD,QueryDocumentSnapshot:VD,QuerySnapshot:zD,CollectionReference:qD,FieldPath:GD,FieldValue:HD,setLogLevel:function(e){!function(e){Jk.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new mi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},KD)))}(e,(function(e,t){return new AD(e,t,new CD)})),e.registerVersion(wD,xD)}(Cs);Cs.initializeApp({apiKey:"AIzaSyCKRgWydxXhJ1r8JKYMfO0ZLRdU-L7m1Ck",authDomain:"edcan2023.firebaseapp.com",projectId:"edcan2023",storageBucket:"edcan2023.appspot.com",messagingSenderId:"470694882856",appId:"1:470694882856:web:6e74c2998bd694431b8f1d",measurementId:"G-LM94KMDJQR"});Cs.auth();var QD=Cs.firestore(),XD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa(),t=arguments.length>1?arguments[1]:void 0,n=oa(e=vi(e),Zo).getImmediate({identifier:t}),r=Hr("storage");return r&&$o.apply(void 0,[n].concat(d(r))),n}();o.s(document.getElementById("root")).render((0,pr.jsx)(i.StrictMode,{children:(0,pr.jsx)(gs,{})})),ks()}()}();
//# sourceMappingURL=main.deb3b919.js.map